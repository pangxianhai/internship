/*coolie built*/
!function(e,t){"object"===typeof module&&"object"===typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!==typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=en.type(e);return"function"!==n&&!en.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(en.isFunction(t))return en.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return en.grep(e,function(e){return e===t!==n});if("string"===typeof t){if(Q.test(t))return en.filter(t,e,n);t=en.filter(t,e)}return en.grep(e,function(e){return en.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=oe[e]={};en.each(e.match(re)||[],function(e,n){t[n]=!0});return t}function a(){if(Z.addEventListener){Z.removeEventListener("DOMContentLoaded",s,!1);e.removeEventListener("load",s,!1)}else{Z.detachEvent("onreadystatechange",s);e.detachEvent("onload",s)}}function s(){if(Z.addEventListener||"load"===event.type||"complete"===Z.readyState){a();en.ready()}}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(ce,"-$1").toLowerCase();n=e.getAttribute(i);if("string"===typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ue.test(n)?en.parseJSON(n):n)}catch(e){}en.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!en.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(en.acceptData(e)){var r,o,a=en.expando,s=e.nodeType,l=s?en.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!==typeof t){u||(u=s?e[a]=It.pop()||en.guid++:a);l[u]||(l[u]=s?{}:{toJSON:en.noop});"object"!==typeof t&&"function"!==typeof t||(i?l[u]=en.extend(l[u],t):l[u].data=en.extend(l[u].data,t));o=l[u];if(!i){o.data||(o.data={});o=o.data}void 0!==n&&(o[en.camelCase(t)]=n);if("string"===typeof t){r=o[t];null==r&&(r=o[en.camelCase(t)])}else r=o;return r}}}function f(e,t,n){if(en.acceptData(e)){var i,r,o=e.nodeType,a=o?en.cache:e,s=o?e[en.expando]:en.expando;if(a[s]){if(t){i=n?a[s]:a[s].data;if(i){if(en.isArray(t))t=t.concat(en.map(t,en.camelCase));else if(t in i)t=[t];else{t=en.camelCase(t);t=t in i?[t]:t.split(" ")}r=t.length;for(;r--;)delete i[t[r]];if(n?!u(i):!en.isEmptyObject(i))return}}if(!n){delete a[s].data;if(!u(a[s]))return}o?en.cleanData([e],!0):Kt.deleteExpando||a!=a.window?delete a[s]:a[s]=null}}}function d(){return!0}function p(){return!1}function h(){try{return Z.activeElement}catch(e){}}function m(e){var t=we.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==se?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==se?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||en.nodeName(i,t)?o.push(i):en.merge(o,g(i,t));return void 0===t||t&&en.nodeName(e,t)?en.merge([e],o):o}function y(e){me.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return en.nodeName(e,"table")&&en.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){e.type=(null!==en.find.attr(e,"type"))+"/"+e.type;return e}function x(e){var t=He.exec(e.type);t?e.type=t[1]:e.removeAttribute("type");return e}function w(e,t){for(var n,i=0;null!=(n=e[i]);i++)en._data(n,"globalEval",!t||en._data(t[i],"globalEval"))}function T(e,t){if(1===t.nodeType&&en.hasData(e)){var n,i,r,o=en._data(e),a=en._data(t,o),s=o.events;if(s){delete a.handle;a.events={};for(n in s)for(i=0,r=s[n].length;i<r;i++)en.event.add(t,n,s[n][i])}a.data&&(a.data=en.extend({},a.data))}}function C(e,t){var n,i,r;if(1===t.nodeType){n=t.nodeName.toLowerCase();if(!Kt.noCloneEvent&&t[en.expando]){r=en._data(t);for(i in r.events)en.removeEvent(t,i,r.handle);t.removeAttribute(en.expando)}if("script"===n&&t.text!==e.text){b(t).text=e.text;x(t)}else if("object"===n){t.parentNode&&(t.outerHTML=e.outerHTML);Kt.html5Clone&&e.innerHTML&&!en.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)}else if("input"===n&&me.test(e.type)){t.defaultChecked=t.checked=e.checked;t.value!==e.value&&(t.value=e.value)}else"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(t,n){var i,r=en(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:en.css(r[0],"display");r.detach();return o}function E(e){var t=Z,n=Be[e];if(!n){n=N(e,t);if("none"===n||!n){Oe=(Oe||en("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement);t=(Oe[0].contentWindow||Oe[0].contentDocument).document;t.write();t.close();n=N(e,t);Oe.detach()}Be[e]=n}return n}function k(e,t){return{get:function(){var n=e();if(null!=n){if(!n)return(this.get=t).apply(this,arguments);delete this.get}}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Qe.length;r--;){t=Qe[r]+n;if(t in e)return t}return i}function A(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++){i=e[a];if(i.style){o[a]=en._data(i,"olddisplay");n=i.style.display;if(t){o[a]||"none"!==n||(i.style.display="");""===i.style.display&&pe(i)&&(o[a]=en._data(i,"olddisplay",E(i.nodeName)))}else{r=pe(i);(n&&"none"!==n||!r)&&en._data(i,"olddisplay",r?n:en.css(i,"display"))}}}for(a=0;a<s;a++){i=e[a];i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"))}return e}function D(e,t,n){var i=Ve.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function j(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2){"margin"===n&&(a+=en.css(e,n+de[o],!0,r));if(i){"content"===n&&(a-=en.css(e,"padding"+de[o],!0,r));"margin"!==n&&(a-=en.css(e,"border"+de[o]+"Width",!0,r))}else{a+=en.css(e,"padding"+de[o],!0,r);"padding"!==n&&(a+=en.css(e,"border"+de[o]+"Width",!0,r))}}return a}function L(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=We(e),a=Kt.boxSizing&&"border-box"===en.css(e,"boxSizing",!1,o);if(r<=0||null==r){r=$e(e,t,o);(r<0||null==r)&&(r=e.style[t]);if(Re.test(r))return r;i=a&&(Kt.boxSizingReliable()||r===e.style[t]);r=parseFloat(r)||0}return r+j(e,t,n||(a?"border":"content"),i,o)+"px"}function H(e,t,n,i,r){return new H.prototype.init(e,t,n,i,r)}function q(){setTimeout(function(){Ke=void 0});return Ke=en.now()}function _(e,t){var n,i={height:e},r=0;t=t?1:0;for(;r<4;r+=2-t){n=de[r];i["margin"+n]=i["padding"+n]=e}t&&(i.opacity=i.width=e);return i}function M(e,t,n){for(var i,r=(rt[t]||[]).concat(rt["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function F(e,t,n){var i,r,o,a,s,l,u,c,f=this,d={},p=e.style,h=e.nodeType&&pe(e),m=en._data(e,"fxshow");if(!n.queue){s=en._queueHooks(e,"fx");if(null==s.unqueued){s.unqueued=0;l=s.empty.fire;s.empty.fire=function(){s.unqueued||l()}}s.unqueued++;f.always(function(){f.always(function(){s.unqueued--;en.queue(e,"fx").length||s.empty.fire()})})}if(1===e.nodeType&&("height"in t||"width"in t)){n.overflow=[p.overflow,p.overflowX,p.overflowY];u=en.css(e,"display");c="none"===u?en._data(e,"olddisplay")||E(e.nodeName):u;"inline"===c&&"none"===en.css(e,"float")&&(Kt.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")}if(n.overflow){p.overflow="hidden";Kt.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0];p.overflowX=n.overflow[1];p.overflowY=n.overflow[2]})}for(i in t){r=t[i];if(et.exec(r)){delete t[i];o=o||"toggle"===r;if(r===(h?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;h=!0}d[i]=m&&m[i]||en.style(e,i)}else u=void 0}if(en.isEmptyObject(d))"inline"===("none"===u?E(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(h=m.hidden):m=en._data(e,"fxshow",{});o&&(m.hidden=!h);h?en(e).show():f.done(function(){en(e).hide()});f.done(function(){var t;en._removeData(e,"fxshow");for(t in d)en.style(e,t,d[t])});for(i in d){a=M(h?m[i]:0,i,f);if(!(i in m)){m[i]=a.start;if(h){a.end=a.start;a.start="width"===i||"height"===i?1:0}}}}}function O(e,t){var n,i,r,o,a;for(n in e){i=en.camelCase(n);r=t[i];o=e[n];if(en.isArray(o)){r=o[1];o=e[n]=o[0]}if(n!==i){e[i]=o;delete e[n]}a=en.cssHooks[i];if(a&&"expand"in a){o=a.expand(o);delete e[i];for(n in o)if(!(n in e)){e[n]=o[n];t[n]=r}}else t[i]=r}}function B(e,t,n){var i,r,o=0,a=it.length,s=en.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ke||q(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);s.notifyWith(e,[u,o,n]);if(o<1&&l)return n;s.resolveWith(e,[u]);return!1},u=s.promise({elem:e,props:en.extend({},t),opts:en.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ke||q(),duration:n.duration,tweens:[],createTween:function(t,n){var i=en.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);u.tweens.push(i);return i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;r=!0;for(;n<i;n++)u.tweens[n].run(1);t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]);return this}}),c=u.props;O(c,u.opts.specialEasing);for(;o<a;o++){i=it[o].call(u,e,c,u.opts);if(i)return i}en.map(c,M,u);en.isFunction(u.opts.start)&&u.opts.start.call(e,u);en.fx.timer(en.extend(l,{elem:e,anim:u,queue:u.opts.queue}));return u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(e){return function(t,n){if("string"!==typeof t){n=t;t="*"}var i,r=0,o=t.toLowerCase().match(re)||[];if(en.isFunction(n))for(;i=o[r++];)if("+"===i.charAt(0)){i=i.slice(1)||"*";(e[i]=e[i]||[]).unshift(n)}else(e[i]=e[i]||[]).push(n)}}function R(e,t,n,i){function r(s){var l;o[s]=!0;en.each(e[s]||[],function(e,s){var u=s(t,n,i);if("string"===typeof u&&!a&&!o[u]){t.dataTypes.unshift(u);r(u);return!1}if(a)return!(l=u)});return l}var o={},a=e===At;return r(t.dataTypes[0])||!o["*"]&&r("*")}function W(e,t){var n,i,r=en.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);n&&en.extend(!0,e,n);return e}function $(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];){l.shift();void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"))}if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}if(o){o!==l[0]&&l.unshift(o);return n[o]}}function z(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();for(;o;){e.responseFields[o]&&(n[e.responseFields[o]]=t);!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType));l=o;o=c.shift();if(o)if("*"===o)o=l;else if("*"!==l&&l!==o){a=u[l+" "+o]||u["* "+o];if(!a)for(r in u){s=r.split(" ");if(s[1]===o){a=u[l+" "+s[0]]||u["* "+s[0]];if(a){if(a===!0)a=u[r];else if(u[r]!==!0){o=s[0];c.unshift(s[1])}break}}}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}}return{state:"success",data:t}}function I(e,t,n,i){var r;if(en.isArray(t))en.each(t,function(t,r){n||Lt.test(e)?i(e,r):I(e+"["+("object"===typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==en.type(t))i(e,t);else for(r in t)I(e+"["+r+"]",t[r],n,i)}function X(){try{return new e.XMLHttpRequest}catch(e){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function V(e){return en.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var J,Y,G,Q,K,Z,ee,te,ne,ie,re,oe,ae,se,le,ue,ce,fe,de,pe,he,me,ge,ye,ve,be,xe,we,Te,Ce,Ne,Ee,ke,Se,Ae,De,je,Le,He,qe,_e,Me,Fe,Oe,Be,Pe,Re,We,$e,ze,Ie,Xe,Ue,Ve,Je,Ye,Ge,Qe,Ke,Ze,et,tt,nt,it,rt,ot,at,st,lt,ut,ct,ft,dt,pt,ht,mt,gt,yt,vt,bt,xt,wt,Tt,Ct,Nt,Et,kt,St,At,Dt,jt,Lt,Ht,qt,_t,Mt,Ft,Ot,Bt,Pt,Rt,Wt,$t,zt,It=[],Xt=It.slice,Ut=It.concat,Vt=It.push,Jt=It.indexOf,Yt={},Gt=Yt.toString,Qt=Yt.hasOwnProperty,Kt={},Zt="1.11.3",en=function(e,t){return new en.fn.init(e,t)},tn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nn=/^-ms-/,rn=/-([\da-z])/gi,on=function(e,t){return t.toUpperCase()};en.fn=en.prototype={jquery:Zt,constructor:en,selector:"",length:0,toArray:function(){return Xt.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Xt.call(this)},pushStack:function(e){var t=en.merge(this.constructor(),e);t.prevObject=this;t.context=this.context;return t},each:function(e,t){return en.each(this,e,t)},map:function(e){return this.pushStack(en.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Xt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Vt,sort:It.sort,splice:It.splice};en.extend=en.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;if("boolean"===typeof a){u=a;a=arguments[s]||{};s++}"object"===typeof a||en.isFunction(a)||(a={});if(s===l){a=this;s--}for(;s<l;s++)if(null!=(r=arguments[s]))for(i in r){e=a[i];n=r[i];if(a!==n)if(u&&n&&(en.isPlainObject(n)||(t=en.isArray(n)))){if(t){t=!1;o=e&&en.isArray(e)?e:[]}else o=e&&en.isPlainObject(e)?e:{};a[i]=en.extend(u,o,n)}else void 0!==n&&(a[i]=n)}return a};en.extend({expando:"jQuery"+(Zt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===en.type(e)},isArray:Array.isArray||function(e){return"array"===en.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!en.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==en.type(e)||e.nodeType||en.isWindow(e))return!1;try{if(e.constructor&&!Qt.call(e,"constructor")&&!Qt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(Kt.ownLast)for(t in e)return Qt.call(e,t);for(t in e);return void 0===t||Qt.call(e,t)},type:function(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?Yt[Gt.call(e)]||"object":typeof e},globalEval:function(t){t&&en.trim(t)&&(e.execScript||function(t){e["eval"].call(e,t)})(t)},camelCase:function(e){return e.replace(nn,"ms-").replace(rn,on)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i)if(s)for(;o<a;o++){r=t.apply(e[o],i);if(r===!1)break}else for(o in e){r=t.apply(e[o],i);if(r===!1)break}else if(s)for(;o<a;o++){r=t.call(e[o],o,e[o]);if(r===!1)break}else for(o in e){r=t.call(e[o],o,e[o]);if(r===!1)break}return e},trim:function(e){return null==e?"":(e+"").replace(tn,"")},makeArray:function(e,t){var i=t||[];null!=e&&(n(Object(e))?en.merge(i,"string"===typeof e?[e]:e):Vt.call(i,e));return i},inArray:function(e,t,n){var i;if(t){if(Jt)return Jt.call(t,e,n);i=t.length;n=n?n<0?Math.max(0,i+n):n:0;for(;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];e.length=r;return e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;o<a;o++){i=!t(e[o],o);i!==s&&r.push(e[o])}return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;o<a;o++){r=t(e[o],o,i);null!=r&&l.push(r)}else for(o in e){r=t(e[o],o,i);null!=r&&l.push(r)}return Ut.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;if("string"===typeof t){r=e[t];t=e;e=r}if(en.isFunction(e)){n=Xt.call(arguments,2);i=function(){return e.apply(t||this,n.concat(Xt.call(arguments)))};i.guid=e.guid=e.guid||en.guid++;return i}},now:function(){return+new Date},support:Kt});en.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Yt["[object "+t+"]"]=t.toLowerCase()});J=function(e){function t(e,t,n,i){var r,o,a,s,l,u,f,p,h,m;(t?t.ownerDocument||t:R)!==H&&L(t);t=t||H;n=n||[];s=t.nodeType;if("string"!==typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&_){if(11!==s&&(r=ve.exec(e)))if(a=r[1]){if(9===s){o=t.getElementById(a);if(!o||!o.parentNode)return n;if(o.id===a){n.push(o);return n}}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a){n.push(o);return n}}else{if(r[2]){K.apply(n,t.getElementsByTagName(e));return n}if((a=r[3])&&w.getElementsByClassName){K.apply(n,t.getElementsByClassName(a));return n}}if(w.qsa&&(!M||!M.test(e))){p=f=P;h=t;m=1!==s&&e;if(1===s&&"object"!==t.nodeName.toLowerCase()){u=E(e);(f=t.getAttribute("id"))?p=f.replace(xe,"\\$&"):t.setAttribute("id",p);p="[id='"+p+"'] ";l=u.length;for(;l--;)u[l]=p+d(u[l]);h=be.test(e)&&c(t.parentNode)||t;m=u.join(",")}if(m)try{K.apply(n,h.querySelectorAll(m));return n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){t.push(n+" ")>T.cacheLength&&delete e[t.shift()];return e[n+" "]=i}var t=[];return e}function i(e){e[P]=!0;return e}function r(e){var t=H.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)T.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){t=+t;return i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function f(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=$++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){l=t[P]||(t[P]={});if((s=l[i])&&s[0]===W&&s[1]===o)return u[2]=s[2];l[i]=u;if(u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)if((o=e[s])&&(!n||n(o,i,r))){a.push(o);u&&t.push(s)}return a}function y(e,t,n,r,o,a){r&&!r[P]&&(r=y(r));o&&!o[P]&&(o=y(o,a));return i(function(i,a,s,l){var u,c,f,d=[],p=[],h=a.length,y=i||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?y:g(y,d,e,s,l),b=n?o||(i?e:h||r)?[]:a:v;n&&n(v,b,s,l);if(r){u=g(b,p);r(u,[],s,l);c=u.length;for(;c--;)(f=u[c])&&(b[p[c]]=!(v[p[c]]=f))}if(i){if(o||e){if(o){u=[];c=b.length;for(;c--;)(f=b[c])&&u.push(v[c]=f);o(null,b=[],u,l)}c=b.length;for(;c--;)(f=b[c])&&(u=o?ee(i,f):d[c])>-1&&(i[u]=!(a[u]=f))}}else{b=g(b===a?b.splice(h,b.length):b);o?o(null,a,b,l):K.apply(a,b)}})}function v(e){for(var t,n,i,r=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):u(e,n,i));t=null;return r}];s<r;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{n=T.filter[e[s].type].apply(null,e[s].matches);if(n[P]){i=++s;for(;i<r&&!T.relative[e[i].type];i++);return y(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,s<i&&v(e.slice(s,i)),i<r&&v(e=e.slice(i)),i<r&&d(e))}c.push(n)}return h(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,f,d,p=0,h="0",m=i&&[],y=[],v=A,b=i||o&&T.find["TAG"]("*",u),x=W+=null==v?1:Math.random()||.1,w=b.length;u&&(A=a!==H&&a);for(;h!==w&&null!=(c=b[h]);h++){if(o&&c){f=0;for(;d=e[f++];)if(d(c,a,s)){l.push(c);break}u&&(W=x)}if(r){(c=!d&&c)&&p--;i&&m.push(c)}}p+=h;if(r&&h!==p){f=0;for(;d=n[f++];)d(m,y,a,s);if(i){if(p>0)for(;h--;)m[h]||y[h]||(y[h]=G.call(l));y=g(y)}K.apply(l,y);u&&!i&&y.length>0&&p+n.length>1&&t.uniqueSort(l)}if(u){W=x;A=v}return m};return r?i(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){e===t&&(j=!0);return 0},V=1<<31,J={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),pe=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes);Y[R.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={};N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName};L=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:R;if(i===H||9!==i.nodeType||!i.documentElement)return H;H=i;q=i.documentElement;n=i.defaultView;n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce));_=!N(i);w.attributes=r(function(e){e.className="i";return!e.getAttribute("className")});w.getElementsByTagName=r(function(e){e.appendChild(i.createComment(""));return!e.getElementsByTagName("*").length});w.getElementsByClassName=ye.test(i.getElementsByClassName);w.getById=r(function(e){q.appendChild(e).id=P;return!i.getElementsByName||!i.getElementsByName(P).length});if(w.getById){T.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}};T.filter["ID"]=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}}else{delete T.find["ID"];T.filter["ID"]=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}}T.find["TAG"]=w.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o};T.find["CLASS"]=w.getElementsByClassName&&function(e,t){if(_)return t.getElementsByClassName(e)};F=[];M=[];if(w.qsa=ye.test(i.querySelectorAll)){r(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>";e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")");e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")");e.querySelectorAll("[id~="+P+"-]").length||M.push("~=");e.querySelectorAll(":checked").length||M.push(":checked");e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")});r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?=");e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled");e.querySelectorAll("*,:x");M.push(",.*:")})}(w.matchesSelector=ye.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&r(function(e){w.disconnectedMatch=O.call(e,"div");O.call(e,"[s!='']:x");F.push("!=",ae)});M=M.length&&new RegExp(M.join("|"));F=F.length&&new RegExp(F.join("|"));t=ye.test(q.compareDocumentPosition);B=t||ye.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};U=t?function(e,t){if(e===t){j=!0;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;if(n)return n;n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;return 1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===R&&B(R,e)?-1:t===i||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1}:function(e,t){if(e===t){j=!0;return 0}var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);n=e;for(;n=n.parentNode;)l.unshift(n);n=t;for(;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===R?-1:u[r]===R?1:0};return i};t.matches=function(e,n){return t(e,null,null,n)};t.matchesSelector=function(e,n){(e.ownerDocument||e)!==H&&L(e);n=n.replace(fe,"='$1']");if(w.matchesSelector&&_&&(!F||!F.test(n))&&(!M||!M.test(n)))try{var i=O.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,H,null,[e]).length>0};t.contains=function(e,t){(e.ownerDocument||e)!==H&&L(e);return B(e,t)};t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],i=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==i?i:w.attributes||!_?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null};t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};t.uniqueSort=function(e){var t,n=[],i=0,r=0;j=!w.detectDuplicates;D=!w.sortStable&&e.slice(0);e.sort(U);if(j){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}D=null;return e};C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n};T=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(we,Te);e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te);"~="===e[2]&&(e[3]=" "+e[3]+" ");return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if("nth"===e[1].slice(0,3)){e[3]||t.error(e[0]);e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3]));e[5]=+(e[7]+e[8]||"odd"===e[3])}else e[3]&&t.error(e[0]);return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(he["CHILD"].test(e[0]))return null;if(e[3])e[2]=e[4]||e[5]||"";else if(n&&de.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);if(null==o)return"!="===n;if(!n)return!0;o+="";return"="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-")}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(o){for(;m;){f=t;for(;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}h=[a?g.firstChild:g.lastChild];if(a&&v){c=g[P]||(g[P]={});u=c[e]||[];p=u[0]===W&&u[1];d=u[0]===W&&u[2];f=p&&g.childNodes[p];for(;f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[W,p,d];break}}else if(v&&(u=(t[P]||(t[P]={}))[e])&&u[0]===W)d=u[1];else for(;f=++p&&f&&f[m]||(d=p=0)||h.pop();)if((s?f.nodeName.toLowerCase()===y:1===f.nodeType)&&++d){v&&((f[P]||(f[P]={}))[e]=[W,d]);if(f===t)break}d-=r;return d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var r,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);if(o[P])return o(n);if(o.length>1){r=[e,e,"",n];return T.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;){i=ee(e,r[a]);e[i]=!(t[i]=r[a])}}):function(e){return o(e,0,r)}}return o}},pseudos:{not:i(function(e){var t=[],n=[],r=k(e.replace(le,"$1"));return r[P]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){t[0]=e;r(t,null,o,n);t[0]=null;return!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){e=e.replace(we,Te);return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){pe.test(e||"")||t.error("unsupported lang: "+e);e=e.replace(we,Te).toLowerCase();return function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){e.parentNode&&e.parentNode.selectedIndex;return e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos["empty"](e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),
lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}};T.pseudos["nth"]=T.pseudos["eq"];for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=l(x);f.prototype=T.filters=T.pseudos;T.setFilters=new f;E=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=I[e+" "];if(c)return n?0:c.slice(0);s=e;l=[];u=T.preFilter;for(;s;){if(!i||(r=ue.exec(s))){r&&(s=s.slice(r[0].length)||s);l.push(o=[])}i=!1;if(r=ce.exec(s)){i=r.shift();o.push({value:i,type:r[0].replace(le," ")});s=s.slice(i.length)}for(a in T.filter)if((r=he[a].exec(s))&&(!u[a]||(r=u[a](r)))){i=r.shift();o.push({value:i,type:a,matches:r});s=s.slice(i.length)}if(!i)break}return n?s.length:s?t.error(e):I(e,l).slice(0)};k=t.compile=function(e,t){var n,i=[],r=[],o=X[e+" "];if(!o){t||(t=E(e));n=t.length;for(;n--;){o=v(t[n]);o[P]?i.push(o):r.push(o)}o=X(e,b(r,i));o.selector=e}return o};S=t.select=function(e,t,n,i){var r,o,a,s,l,u="function"===typeof e&&e,f=!i&&E(e=u.selector||e);n=n||[];if(1===f.length){o=f[0]=f[0].slice(0);if(o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){t=(T.find["ID"](a.matches[0].replace(we,Te),t)||[])[0];if(!t)return n;u&&(t=t.parentNode);e=e.slice(o.shift().value.length)}r=he["needsContext"].test(e)?0:o.length;for(;r--;){a=o[r];if(T.relative[s=a.type])break;if((l=T.find[s])&&(i=l(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){o.splice(r,1);e=i.length&&d(o);if(!e){K.apply(n,i);return n}break}}}(u||k(e,f))(i,t,!_,n,be.test(e)&&c(t.parentNode)||t);return n};w.sortStable=P.split("").sort(U).join("")===P;w.detectDuplicates=!!j;L();w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))});r(function(e){e.innerHTML="<a href='#'></a>";return"#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)});w.attributes&&r(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue});r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null});return t}(e);en.find=J;en.expr=J.selectors;en.expr[":"]=en.expr.pseudos;en.unique=J.uniqueSort;en.text=J.getText;en.isXMLDoc=J.isXML;en.contains=J.contains;Y=en.expr.match.needsContext;G=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;Q=/^.[^:#\[\.,]*$/;en.filter=function(e,t,n){var i=t[0];n&&(e=":not("+e+")");return 1===t.length&&1===i.nodeType?en.find.matchesSelector(i,e)?[i]:[]:en.find.matches(e,en.grep(t,function(e){return 1===e.nodeType}))};en.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!==typeof e)return this.pushStack(en(e).filter(function(){for(t=0;t<r;t++)if(en.contains(i[t],this))return!0}));for(t=0;t<r;t++)en.find(e,i[t],n);n=this.pushStack(r>1?en.unique(n):n);n.selector=this.selector?this.selector+" "+e:e;return n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"===typeof e&&Y.test(e)?en(e):e||[],!1).length}});Z=e.document,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,te=en.fn.init=function(e,t){var n,i;if(!e)return this;if("string"===typeof e){n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ee.exec(e);if(!n||!n[1]&&t)return!t||t.jquery?(t||K).find(e):this.constructor(t).find(e);if(n[1]){t=t instanceof en?t[0]:t;en.merge(this,en.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0));if(G.test(n[1])&&en.isPlainObject(t))for(n in t)en.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}i=Z.getElementById(n[2]);if(i&&i.parentNode){if(i.id!==n[2])return K.find(e);this.length=1;this[0]=i}this.context=Z;this.selector=e;return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(en.isFunction(e))return"undefined"!==typeof K.ready?K.ready(e):e(en);if(void 0!==e.selector){this.selector=e.selector;this.context=e.context}return en.makeArray(e,this)};te.prototype=en.fn;K=en(Z);ne=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};en.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!en(r).is(n));){1===r.nodeType&&i.push(r);r=r[t]}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});en.fn.extend({has:function(e){var t,n=en(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(en.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Y.test(e)||"string"!==typeof e?en(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&en.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?en.unique(o):o)},index:function(e){return e?"string"===typeof e?en.inArray(this[0],en(e)):en.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(en.unique(en.merge(this.get(),en(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});en.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return en.dir(e,"parentNode")},parentsUntil:function(e,t,n){return en.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return en.dir(e,"nextSibling")},prevAll:function(e){return en.dir(e,"previousSibling")},nextUntil:function(e,t,n){return en.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return en.dir(e,"previousSibling",n)},siblings:function(e){return en.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return en.sibling(e.firstChild)},contents:function(e){return en.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:en.merge([],e.childNodes)}},function(e,t){en.fn[e]=function(n,i){var r=en.map(this,t,n);"Until"!==e.slice(-5)&&(i=n);i&&"string"===typeof i&&(r=en.filter(i,r));if(this.length>1){ie[e]||(r=en.unique(r));ne.test(e)&&(r=r.reverse())}return this.pushStack(r)}});re=/\S+/g;oe={};en.Callbacks=function(e){e="string"===typeof e?oe[e]||o(e):en.extend({},e);var t,n,i,r,a,s,l=[],u=!e.once&&[],c=function(o){n=e.memory&&o;i=!0;a=s||0;s=0;r=l.length;t=!0;for(;l&&a<r;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1;l&&(u?u.length&&c(u.shift()):n?l=[]:f.disable())},f={add:function(){if(l){var i=l.length;!function t(n){en.each(n,function(n,i){var r=en.type(i);"function"===r?e.unique&&f.has(i)||l.push(i):i&&i.length&&"string"!==r&&t(i)})}(arguments);if(t)r=l.length;else if(n){s=i;c(n)}}return this},remove:function(){l&&en.each(arguments,function(e,n){for(var i;(i=en.inArray(n,l,i))>-1;){l.splice(i,1);if(t){i<=r&&r--;i<=a&&a--}}});return this},has:function(e){return e?en.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){l=[];r=0;return this},disable:function(){l=u=n=void 0;return this},disabled:function(){return!l},lock:function(){u=void 0;n||f.disable();return this},locked:function(){return!u},fireWith:function(e,n){if(l&&(!i||u)){n=n||[];n=[e,n.slice?n.slice():n];t?u.push(n):c(n)}return this},fire:function(){f.fireWith(this,arguments);return this},fired:function(){return!!i}};return f};en.extend({Deferred:function(e){var t=[["resolve","done",en.Callbacks("once memory"),"resolved"],["reject","fail",en.Callbacks("once memory"),"rejected"],["notify","progress",en.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){r.done(arguments).fail(arguments);return this},then:function(){var e=arguments;return en.Deferred(function(n){en.each(t,function(t,o){var a=en.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&en.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})});e=null}).promise()},promise:function(e){return null!=e?en.extend(e,i):i}},r={};i.pipe=i.then;en.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add;s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock);r[o[0]]=function(){r[o[0]+"With"](this===r?i:this,arguments);return this};r[o[0]+"With"]=a.fireWith});i.promise(r);e&&e.call(r,r);return r},when:function(e){var t,n,i,r=0,o=Xt.call(arguments),a=o.length,s=1!==a||e&&en.isFunction(e.promise)?a:0,l=1===s?e:en.Deferred(),u=function(e,n,i){return function(r){n[e]=this;i[e]=arguments.length>1?Xt.call(arguments):r;i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1){t=new Array(a);n=new Array(a);i=new Array(a);for(;r<a;r++)o[r]&&en.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--s}s||l.resolveWith(i,o);return l.promise()}});en.fn.ready=function(e){en.ready.promise().done(e);return this};en.extend({isReady:!1,readyWait:1,holdReady:function(e){e?en.readyWait++:en.ready(!0)},ready:function(e){if(e===!0?!--en.readyWait:!en.isReady){if(!Z.body)return setTimeout(en.ready);en.isReady=!0;if(!(e!==!0&&--en.readyWait>0)){ae.resolveWith(Z,[en]);if(en.fn.triggerHandler){en(Z).triggerHandler("ready");en(Z).off("ready")}}}}});en.ready.promise=function(t){if(!ae){ae=en.Deferred();if("complete"===Z.readyState)setTimeout(en.ready);else if(Z.addEventListener){Z.addEventListener("DOMContentLoaded",s,!1);e.addEventListener("load",s,!1)}else{Z.attachEvent("onreadystatechange",s);e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&Z.documentElement}catch(e){}n&&n.doScroll&&!function e(){if(!en.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a();en.ready()}}()}}return ae.promise(t)};se="undefined";for(le in en(Kt))break;Kt.ownLast="0"!==le;Kt.inlineBlockNeedsLayout=!1;en(function(){var e,t,n,i;n=Z.getElementsByTagName("body")[0];if(n&&n.style){t=Z.createElement("div");i=Z.createElement("div");i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";n.appendChild(i).appendChild(t);if(typeof t.style.zoom!==se){t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";Kt.inlineBlockNeedsLayout=e=3===t.offsetWidth;e&&(n.style.zoom=1)}n.removeChild(i)}});!function(){var e=Z.createElement("div");if(null==Kt.deleteExpando){Kt.deleteExpando=!0;try{delete e.test}catch(e){Kt.deleteExpando=!1}}e=null}();en.acceptData=function(e){var t=en.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)};ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/([A-Z])/g;en.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){e=e.nodeType?en.cache[e[en.expando]]:e[en.expando];return!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}});en.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length){r=en.data(o);if(1===o.nodeType&&!en._data(o,"parsedAttrs")){n=a.length;for(;n--;)if(a[n]){i=a[n].name;if(0===i.indexOf("data-")){i=en.camelCase(i.slice(5));l(o,i,r[i])}}en._data(o,"parsedAttrs",!0)}}return r}return"object"===typeof e?this.each(function(){en.data(this,e)}):arguments.length>1?this.each(function(){en.data(this,e,t)}):o?l(o,e,en.data(o,e)):void 0},removeData:function(e){return this.each(function(){en.removeData(this,e)})}});en.extend({queue:function(e,t,n){var i;if(e){t=(t||"fx")+"queue";i=en._data(e,t);n&&(!i||en.isArray(n)?i=en._data(e,t,en.makeArray(n)):i.push(n));return i||[]}},dequeue:function(e,t){t=t||"fx";var n=en.queue(e,t),i=n.length,r=n.shift(),o=en._queueHooks(e,t),a=function(){en.dequeue(e,t)};if("inprogress"===r){r=n.shift();i--}if(r){"fx"===t&&n.unshift("inprogress");delete o.stop;r.call(e,a,o)}!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return en._data(e,n)||en._data(e,n,{empty:en.Callbacks("once memory").add(function(){en._removeData(e,t+"queue");en._removeData(e,n)})})}});en.fn.extend({queue:function(e,t){var n=2;if("string"!==typeof e){t=e;e="fx";n--}return arguments.length<n?en.queue(this[0],e):void 0===t?this:this.each(function(){var n=en.queue(this,e,t);en._queueHooks(this,e);"fx"===e&&"inprogress"!==n[0]&&en.dequeue(this,e)})},dequeue:function(e){return this.each(function(){en.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=en.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};if("string"!==typeof e){t=e;e=void 0}e=e||"fx";for(;a--;){n=en._data(o[a],e+"queueHooks");if(n&&n.empty){i++;n.empty.add(s)}}s();return r.promise(t)}});fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;de=["Top","Right","Bottom","Left"];pe=function(e,t){e=t||e;return"none"===en.css(e,"display")||!en.contains(e.ownerDocument,e)};he=en.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===en.type(n)){r=!0;for(s in n)en.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i){r=!0;en.isFunction(i)||(a=!0);if(u)if(a){t.call(e,i);t=null}else{u=t;t=function(e,t,n){return u.call(en(e),n)}}if(t)for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)))}return r?e:u?t.call(e):l?t(e[0],n):o};me=/^(?:checkbox|radio)$/i;!function(){var e=Z.createElement("input"),t=Z.createElement("div"),n=Z.createDocumentFragment();t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Kt.leadingWhitespace=3===t.firstChild.nodeType;Kt.tbody=!t.getElementsByTagName("tbody").length;Kt.htmlSerialize=!!t.getElementsByTagName("link").length;Kt.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML;e.type="checkbox";e.checked=!0;n.appendChild(e);Kt.appendChecked=e.checked;t.innerHTML="<textarea>x</textarea>";Kt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;n.appendChild(t);t.innerHTML="<input type='radio' checked='checked' name='t'/>";Kt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked;Kt.noCloneEvent=!0;if(t.attachEvent){t.attachEvent("onclick",function(){Kt.noCloneEvent=!1});t.cloneNode(!0).click()}if(null==Kt.deleteExpando){Kt.deleteExpando=!0;try{delete t.test}catch(e){Kt.deleteExpando=!1}}}();!function(){var t,n,i=Z.createElement("div");for(t in{submit:!0,change:!0,focusin:!0}){n="on"+t;if(!(Kt[t+"Bubbles"]=n in e)){i.setAttribute(n,"t");Kt[t+"Bubbles"]=i.attributes[n].expando===!1}}i=null}();ge=/^(?:input|select|textarea)$/i,ye=/^key/,ve=/^(?:mouse|pointer|contextmenu)|click/,be=/^(?:focusinfocus|focusoutblur)$/,xe=/^([^.]*)(?:\.(.+)|)$/;en.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,f,d,p,h,m,g=en._data(e);if(g){if(n.handler){l=n;n=l.handler;r=l.selector}n.guid||(n.guid=en.guid++);(a=g.events)||(a=g.events={});if(!(c=g.handle)){c=g.handle=function(e){return typeof en===se||e&&en.event.triggered===e.type?void 0:en.event.dispatch.apply(c.elem,arguments)};c.elem=e}t=(t||"").match(re)||[""];s=t.length;for(;s--;){o=xe.exec(t[s])||[];p=m=o[1];h=(o[2]||"").split(".").sort();if(p){u=en.event.special[p]||{};p=(r?u.delegateType:u.bindType)||p;u=en.event.special[p]||{};f=en.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&en.expr.match.needsContext.test(r),namespace:h.join(".")},l);if(!(d=a[p])){d=a[p]=[];d.delegateCount=0;u.setup&&u.setup.call(e,i,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))}if(u.add){u.add.call(e,f);f.handler.guid||(f.handler.guid=n.guid)}r?d.splice(d.delegateCount++,0,f):d.push(f);en.event.global[p]=!0}}e=null}},remove:function(e,t,n,i,r){var o,a,s,l,u,c,f,d,p,h,m,g=en.hasData(e)&&en._data(e);if(g&&(c=g.events)){t=(t||"").match(re)||[""];u=t.length;for(;u--;){s=xe.exec(t[u])||[];p=m=s[1];h=(s[2]||"").split(".").sort();if(p){f=en.event.special[p]||{};p=(i?f.delegateType:f.bindType)||p;d=c[p]||[];s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");l=o=d.length;for(;o--;){a=d[o];if((r||m===a.origType)&&(!n||n.guid===a.guid)&&(!s||s.test(a.namespace))&&(!i||i===a.selector||"**"===i&&a.selector)){d.splice(o,1);a.selector&&d.delegateCount--;f.remove&&f.remove.call(e,a)}}if(l&&!d.length){f.teardown&&f.teardown.call(e,h,g.handle)!==!1||en.removeEvent(e,p,g.handle);delete c[p]}}else for(p in c)en.event.remove(e,p+t[u],n,i,!0)}if(en.isEmptyObject(c)){delete g.handle;en._removeData(e,"events")}}},trigger:function(t,n,i,r){var o,a,s,l,u,c,f,d=[i||Z],p=Qt.call(t,"type")?t.type:t,h=Qt.call(t,"namespace")?t.namespace.split("."):[];s=c=i=i||Z;if(3!==i.nodeType&&8!==i.nodeType&&!be.test(p+en.event.triggered)){if(p.indexOf(".")>=0){h=p.split(".");p=h.shift();h.sort()}a=p.indexOf(":")<0&&"on"+p;t=t[en.expando]?t:new en.Event(p,"object"===typeof t&&t);t.isTrigger=r?2:3;t.namespace=h.join(".");t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=void 0;t.target||(t.target=i);n=null==n?[t]:en.makeArray(n,[t]);u=en.event.special[p]||{};if(r||!u.trigger||u.trigger.apply(i,n)!==!1){if(!r&&!u.noBubble&&!en.isWindow(i)){l=u.delegateType||p;be.test(l+p)||(s=s.parentNode);for(;s;s=s.parentNode){d.push(s);c=s}c===(i.ownerDocument||Z)&&d.push(c.defaultView||c.parentWindow||e)}f=0;for(;(s=d[f++])&&!t.isPropagationStopped();){t.type=f>1?l:u.bindType||p;o=(en._data(s,"events")||{})[t.type]&&en._data(s,"handle");o&&o.apply(s,n);o=a&&s[a];if(o&&o.apply&&en.acceptData(s)){t.result=o.apply(s,n);t.result===!1&&t.preventDefault()}}t.type=p;if(!r&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&en.acceptData(i)&&a&&i[p]&&!en.isWindow(i)){c=i[a];c&&(i[a]=null);en.event.triggered=p;try{i[p]()}catch(e){}en.event.triggered=void 0;c&&(i[a]=c)}return t.result}}},dispatch:function(e){e=en.event.fix(e);var t,n,i,r,o,a=[],s=Xt.call(arguments),l=(en._data(this,"events")||{})[e.type]||[],u=en.event.special[e.type]||{};s[0]=e;e.delegateTarget=this;if(!u.preDispatch||u.preDispatch.call(this,e)!==!1){a=en.event.handlers.call(this,e,l);t=0;for(;(r=a[t++])&&!e.isPropagationStopped();){e.currentTarget=r.elem;o=0;for(;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)if(!e.namespace_re||e.namespace_re.test(i.namespace)){e.handleObj=i;e.data=i.data;n=((en.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s);if(void 0!==n&&(e.result=n)===!1){e.preventDefault();e.stopPropagation()}}}u.postDispatch&&u.postDispatch.call(this,e);return e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){r=[];for(o=0;o<s;o++){i=t[o];n=i.selector+" ";void 0===r[n]&&(r[n]=i.needsContext?en(n,this).index(l)>=0:en.find(n,this,null,[l]).length);r[n]&&r.push(i)}r.length&&a.push({elem:l,handlers:r})}s<t.length&&a.push({elem:this,handlers:t.slice(s)});return a},fix:function(e){if(e[en.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];a||(this.fixHooks[r]=a=ve.test(r)?this.mouseHooks:ye.test(r)?this.keyHooks:{});i=a.props?this.props.concat(a.props):this.props;e=new en.Event(o);t=i.length;for(;t--;){n=i[t];e[n]=o[n]}e.target||(e.target=o.srcElement||Z);3===e.target.nodeType&&(e.target=e.target.parentNode);e.metaKey=!!e.metaKey;return a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode);return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;if(null==e.pageX&&null!=t.clientX){i=e.target.ownerDocument||Z;r=i.documentElement;n=i.body;e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0);e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)}!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a);e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0);return e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{this.focus();return!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur){this.blur();return!1}},delegateType:"focusout"},click:{trigger:function(){if(en.nodeName(this,"input")&&"checkbox"===this.type&&this.click){this.click();return!1}},_default:function(e){return en.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=en.extend(new en.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?en.event.trigger(r,null,t):en.event.dispatch.call(t,r);r.isDefaultPrevented()&&n.preventDefault()}};en.removeEvent=Z.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;if(e.detachEvent){typeof e[i]===se&&(e[i]=null);e.detachEvent(i,n)}};en.Event=function(e,t){if(!(this instanceof en.Event))return new en.Event(e,t);if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:p}else this.type=e;t&&en.extend(this,t);this.timeStamp=e&&e.timeStamp||en.now();this[en.expando]=!0};en.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d;if(e){e.stopPropagation&&e.stopPropagation();e.cancelBubble=!0}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d;e&&e.stopImmediatePropagation&&e.stopImmediatePropagation();this.stopPropagation()}};en.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){en.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;if(!r||r!==i&&!en.contains(i,r)){e.type=o.origType;n=o.handler.apply(this,arguments);e.type=t}return n}}});Kt.submitBubbles||(en.event.special.submit={setup:function(){if(en.nodeName(this,"form"))return!1;en.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=en.nodeName(t,"input")||en.nodeName(t,"button")?t.form:void 0;if(n&&!en._data(n,"submitBubbles")){en.event.add(n,"submit._submit",function(e){e._submit_bubble=!0});en._data(n,"submitBubbles",!0)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;this.parentNode&&!e.isTrigger&&en.event.simulate("submit",this.parentNode,e,!0)}},teardown:function(){if(en.nodeName(this,"form"))return!1;en.event.remove(this,"._submit")}});Kt.changeBubbles||(en.event.special.change={setup:function(){if(ge.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type){en.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)});en.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1);en.event.simulate("change",this,e,!0)})}return!1}en.event.add(this,"beforeactivate._change",function(e){var t=e.target;if(ge.test(t.nodeName)&&!en._data(t,"changeBubbles")){en.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||en.event.simulate("change",this.parentNode,e,!0)});en._data(t,"changeBubbles",!0)}})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){en.event.remove(this,"._change");return!ge.test(this.nodeName)}});Kt.focusinBubbles||en.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){en.event.simulate(t,e.target,en.event.fix(e),!0)};en.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=en._data(i,t);r||i.addEventListener(e,n,!0);en._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=en._data(i,t)-1;if(r)en._data(i,t,r);else{i.removeEventListener(e,n,!0);en._removeData(i,t)}}}});en.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"===typeof e){if("string"!==typeof t){n=n||t;t=void 0}for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i){i=t;n=t=void 0}else if(null==i)if("string"===typeof t){i=n;n=void 0}else{i=n;n=t;t=void 0}if(i===!1)i=p;else if(!i)return this;if(1===r){a=i;i=function(e){en().off(e);return a.apply(this,arguments)};i.guid=a.guid||(a.guid=en.guid++)}return this.each(function(){en.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj){i=e.handleObj;en(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if("object"===typeof e){for(r in e)this.off(r,t,e[r]);return this}if(t===!1||"function"===typeof t){n=t;t=void 0}n===!1&&(n=p);return this.each(function(){en.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){en.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return en.event.trigger(e,t,n,!0)}});we="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Te=/ jQuery\d+="(?:null|\d+)"/g,Ce=new RegExp("<(?:"+we+")[\\s/>]","i"),Ne=/^\s+/,Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ke=/<([\w:]+)/,Se=/<tbody/i,Ae=/<|&#?\w+;/,De=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^$|\/(?:java|ecma)script/i,He=/^true\/(.*)/,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Kt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Me=m(Z),Fe=Me.appendChild(Z.createElement("div"));_e.optgroup=_e.option;_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead;_e.th=_e.td;en.extend({clone:function(e,t,n){var i,r,o,a,s,l=en.contains(e.ownerDocument,e);if(Kt.html5Clone||en.isXMLDoc(e)||!Ce.test("<"+e.nodeName+">"))o=e.cloneNode(!0);else{Fe.innerHTML=e.outerHTML;Fe.removeChild(o=Fe.firstChild)}if((!Kt.noCloneEvent||!Kt.noCloneChecked)&&(1===e.nodeType||11===e.nodeType)&&!en.isXMLDoc(e)){i=g(o);s=g(e);for(a=0;null!=(r=s[a]);++a)i[a]&&C(r,i[a])}if(t)if(n){s=s||g(e);i=i||g(o);for(a=0;null!=(r=s[a]);a++)T(r,i[a])}else T(e,o);i=g(o,"script");i.length>0&&w(i,!l&&g(e,"script"));i=s=r=null;return o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,u,c,f=e.length,d=m(t),p=[],h=0;h<f;h++){o=e[h];if(o||0===o)if("object"===en.type(o))en.merge(p,o.nodeType?[o]:o);else if(Ae.test(o)){s=s||d.appendChild(t.createElement("div"));l=(ke.exec(o)||["",""])[1].toLowerCase();c=_e[l]||_e._default;s.innerHTML=c[1]+o.replace(Ee,"<$1></$2>")+c[2];r=c[0];for(;r--;)s=s.lastChild;!Kt.leadingWhitespace&&Ne.test(o)&&p.push(t.createTextNode(Ne.exec(o)[0]));if(!Kt.tbody){o="table"!==l||Se.test(o)?"<table>"!==c[1]||Se.test(o)?0:s:s.firstChild;r=o&&o.childNodes.length;for(;r--;)en.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u)}en.merge(p,s.childNodes);s.textContent="";for(;s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(t.createTextNode(o))}s&&d.removeChild(s);Kt.appendChecked||en.grep(g(p,"input"),y);h=0;for(;o=p[h++];)if(!i||en.inArray(o,i)===-1){a=en.contains(o.ownerDocument,o);s=g(d.appendChild(o),"script");a&&w(s);if(n){r=0;for(;o=s[r++];)Le.test(o.type||"")&&n.push(o)}}s=null;return d},cleanData:function(e,t){for(var n,i,r,o,a=0,s=en.expando,l=en.cache,u=Kt.deleteExpando,c=en.event.special;null!=(n=e[a]);a++)if(t||en.acceptData(n)){r=n[s];o=r&&l[r];if(o){if(o.events)for(i in o.events)c[i]?en.event.remove(n,i):en.removeEvent(n,i,o.handle);if(l[r]){delete l[r];u?delete n[s]:typeof n.removeAttribute!==se?n.removeAttribute(s):n[s]=null;It.push(r)}}}}});en.fn.extend({text:function(e){return he(this,function(e){return void 0===e?en.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?en.filter(e,this):this,r=0;null!=(n=i[r]);r++){t||1!==n.nodeType||en.cleanData(g(n));if(n.parentNode){t&&en.contains(n.ownerDocument,n)&&w(g(n,"script"));n.parentNode.removeChild(n)}}return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&en.cleanData(g(e,!1));for(;e.firstChild;)e.removeChild(e.firstChild);e.options&&en.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){e=null!=e&&e;t=null==t?e:t;return this.map(function(){return en.clone(this,e,t)})},html:function(e){return he(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Te,""):void 0;if("string"===typeof e&&!De.test(e)&&(Kt.htmlSerialize||!Ce.test(e))&&(Kt.leadingWhitespace||!Ne.test(e))&&!_e[(ke.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ee,"<$1></$2>");try{for(;n<i;n++){t=this[n]||{};if(1===t.nodeType){en.cleanData(g(t,!1));t.innerHTML=e}}t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];this.domManip(arguments,function(t){e=this.parentNode;en.cleanData(g(this));e&&e.replaceChild(t,this)});return e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Ut.apply([],e);var n,i,r,o,a,s,l=0,u=this.length,c=this,f=u-1,d=e[0],p=en.isFunction(d);if(p||u>1&&"string"===typeof d&&!Kt.checkClone&&je.test(d))return this.each(function(n){var i=c.eq(n);p&&(e[0]=d.call(this,n,i.html()));i.domManip(e,t)});if(u){s=en.buildFragment(e,this[0].ownerDocument,!1,this);n=s.firstChild;1===s.childNodes.length&&(s=n);if(n){o=en.map(g(s,"script"),b);r=o.length;for(;l<u;l++){i=s;if(l!==f){i=en.clone(i,!0,!0);r&&en.merge(o,g(i,"script"))}t.call(this[l],i,l)}if(r){a=o[o.length-1].ownerDocument;en.map(o,x);for(l=0;l<r;l++){i=o[l];Le.test(i.type||"")&&!en._data(i,"globalEval")&&en.contains(a,i)&&(i.src?en._evalUrl&&en._evalUrl(i.src):en.globalEval((i.text||i.textContent||i.innerHTML||"").replace(qe,"")))}}s=n=null}}return this}});en.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){en.fn[e]=function(e){for(var n,i=0,r=[],o=en(e),a=o.length-1;i<=a;i++){n=i===a?this:this.clone(!0);en(o[i])[t](n);Vt.apply(r,n.get())}return this.pushStack(r)}});Be={};!function(){var e;Kt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;n=Z.getElementsByTagName("body")[0];if(n&&n.style){t=Z.createElement("div");i=Z.createElement("div");i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
n.appendChild(i).appendChild(t);if(typeof t.style.zoom!==se){t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1";t.appendChild(Z.createElement("div")).style.width="5px";e=3!==t.offsetWidth}n.removeChild(i);return e}}}();Pe=/^margin/;Re=new RegExp("^("+fe+")(?!px)[a-z%]+$","i");ze=/^(top|right|bottom|left)$/;if(e.getComputedStyle){We=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};$e=function(e,t,n){var i,r,o,a,s=e.style;n=n||We(e);a=n?n.getPropertyValue(t)||n[t]:void 0;if(n){""!==a||en.contains(e.ownerDocument,e)||(a=en.style(e,t));if(Re.test(a)&&Pe.test(t)){i=s.width;r=s.minWidth;o=s.maxWidth;s.minWidth=s.maxWidth=s.width=a;a=n.width;s.width=i;s.minWidth=r;s.maxWidth=o}}return void 0===a?a:a+""}}else if(Z.documentElement.currentStyle){We=function(e){return e.currentStyle};$e=function(e,t,n){var i,r,o,a,s=e.style;n=n||We(e);a=n?n[t]:void 0;null==a&&s&&s[t]&&(a=s[t]);if(Re.test(a)&&!ze.test(t)){i=s.left;r=e.runtimeStyle;o=r&&r.left;o&&(r.left=e.currentStyle.left);s.left="fontSize"===t?"1em":a;a=s.pixelLeft+"px";s.left=i;o&&(r.left=o)}return void 0===a?a:a+""||"auto"}}!function(){function t(){var t,n,i,r;n=Z.getElementsByTagName("body")[0];if(n&&n.style){t=Z.createElement("div");i=Z.createElement("div");i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";n.appendChild(i).appendChild(t);t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";o=a=!1;l=!0;if(e.getComputedStyle){o="1%"!==(e.getComputedStyle(t,null)||{}).top;a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width;r=t.appendChild(Z.createElement("div"));r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";r.style.marginRight=r.style.width="0";t.style.width="1px";l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight);t.removeChild(r)}t.innerHTML="<table><tr><td></td><td>t</td></tr></table>";r=t.getElementsByTagName("td");r[0].style.cssText="margin:0;border:0;padding:0;display:none";s=0===r[0].offsetHeight;if(s){r[0].style.display="";r[1].style.display="none";s=0===r[0].offsetHeight}n.removeChild(i)}}var n,i,r,o,a,s,l;n=Z.createElement("div");n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";r=n.getElementsByTagName("a")[0];i=r&&r.style;if(i){i.cssText="float:left;opacity:.5";Kt.opacity="0.5"===i.opacity;Kt.cssFloat=!!i.cssFloat;n.style.backgroundClip="content-box";n.cloneNode(!0).style.backgroundClip="";Kt.clearCloneStyle="content-box"===n.style.backgroundClip;Kt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing;en.extend(Kt,{reliableHiddenOffsets:function(){null==s&&t();return s},boxSizingReliable:function(){null==a&&t();return a},pixelPosition:function(){null==o&&t();return o},reliableMarginRight:function(){null==l&&t();return l}})}}();en.swap=function(e,t,n,i){var r,o,a={};for(o in t){a[o]=e.style[o];e.style[o]=t[o]}r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};Ie=/alpha\([^)]*\)/i,Xe=/opacity\s*=\s*([^)]*)/,Ue=/^(none|table(?!-c[ea]).+)/,Ve=new RegExp("^("+fe+")(.*)$","i"),Je=new RegExp("^([+-])=("+fe+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","O","Moz","ms"];en.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:Kt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=en.camelCase(t),l=e.style;t=en.cssProps[s]||(en.cssProps[s]=S(l,s));a=en.cssHooks[t]||en.cssHooks[s];if(void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];o=typeof n;if("string"===o&&(r=Je.exec(n))){n=(r[1]+1)*r[2]+parseFloat(en.css(e,t));o="number"}if(null!=n&&n===n){"number"!==o||en.cssNumber[s]||(n+="px");Kt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit");if(!a||!("set"in a)||void 0!==(n=a.set(e,n,i)))try{l[t]=n}catch(e){}}}},css:function(e,t,n,i){var r,o,a,s=en.camelCase(t);t=en.cssProps[s]||(en.cssProps[s]=S(e.style,s));a=en.cssHooks[t]||en.cssHooks[s];a&&"get"in a&&(o=a.get(e,!0,n));void 0===o&&(o=$e(e,t,i));"normal"===o&&t in Ge&&(o=Ge[t]);if(""===n||n){r=parseFloat(o);return n===!0||en.isNumeric(r)?r||0:o}return o}});en.each(["height","width"],function(e,t){en.cssHooks[t]={get:function(e,n,i){if(n)return Ue.test(en.css(e,"display"))&&0===e.offsetWidth?en.swap(e,Ye,function(){return L(e,t,i)}):L(e,t,i)},set:function(e,n,i){var r=i&&We(e);return D(e,n,i?j(e,t,i,Kt.boxSizing&&"border-box"===en.css(e,"boxSizing",!1,r),r):0)}}});Kt.opacity||(en.cssHooks.opacity={get:function(e,t){return Xe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=en.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1;if((t>=1||""===t)&&""===en.trim(o.replace(Ie,""))&&n.removeAttribute){n.removeAttribute("filter");if(""===t||i&&!i.filter)return}n.filter=Ie.test(o)?o.replace(Ie,r):o+" "+r}});en.cssHooks.marginRight=k(Kt.reliableMarginRight,function(e,t){if(t)return en.swap(e,{display:"inline-block"},$e,[e,"marginRight"])});en.each({margin:"",padding:"",border:"Width"},function(e,t){en.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"===typeof n?n.split(" "):[n];i<4;i++)r[e+de[i]+t]=o[i]||o[i-2]||o[0];return r}};Pe.test(e)||(en.cssHooks[e+t].set=D)});en.fn.extend({css:function(e,t){return he(this,function(e,t,n){var i,r,o={},a=0;if(en.isArray(t)){i=We(e);r=t.length;for(;a<r;a++)o[t[a]]=en.css(e,t[a],!1,i);return o}return void 0!==n?en.style(e,t,n):en.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){pe(this)?en(this).show():en(this).hide()})}});en.Tween=H;H.prototype={constructor:H,init:function(e,t,n,i,r,o){this.elem=e;this.prop=n;this.easing=r||"swing";this.options=t;this.start=this.now=this.cur();this.end=i;this.unit=o||(en.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];this.options.duration?this.pos=t=en.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e;this.now=(this.end-this.start)*t+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);n&&n.set?n.set(this):H.propHooks._default.set(this);return this}};H.prototype.init.prototype=H.prototype;H.propHooks={_default:{get:function(e){var t;if(null!=e.elem[e.prop]&&(!e.elem.style||null==e.elem.style[e.prop]))return e.elem[e.prop];t=en.css(e.elem,e.prop,"");return t&&"auto"!==t?t:0},set:function(e){en.fx.step[e.prop]?en.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[en.cssProps[e.prop]]||en.cssHooks[e.prop])?en.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}};en.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}};en.fx=H.prototype.init;en.fx.step={};et=/^(?:toggle|show|hide)$/,tt=new RegExp("^(?:([+-])=|)("+fe+")([a-z%]*)$","i"),nt=/queueHooks$/,it=[F],rt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=tt.exec(t),o=r&&r[3]||(en.cssNumber[e]?"":"px"),a=(en.cssNumber[e]||"px"!==o&&+i)&&tt.exec(en.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3];r=r||[];a=+i||1;do{s=s||".5";a/=s;en.style(n.elem,e,a+o)}while(s!==(s=n.cur()/i)&&1!==s&&--l)}if(r){a=n.start=+a||+i||0;n.unit=o;n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]}return n}]};en.Animation=en.extend(B,{tweener:function(e,t){if(en.isFunction(e)){t=e;e=["*"]}else e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++){n=e[i];rt[n]=rt[n]||[];rt[n].unshift(t)}},prefilter:function(e,t){t?it.unshift(e):it.push(e)}});en.speed=function(e,t,n){var i=e&&"object"===typeof e?en.extend({},e):{complete:n||!n&&t||en.isFunction(e)&&e,duration:e,easing:n&&t||t&&!en.isFunction(t)&&t};i.duration=en.fx.off?0:"number"===typeof i.duration?i.duration:i.duration in en.fx.speeds?en.fx.speeds[i.duration]:en.fx.speeds._default;null!=i.queue&&i.queue!==!0||(i.queue="fx");i.old=i.complete;i.complete=function(){en.isFunction(i.old)&&i.old.call(this);i.queue&&en.dequeue(this,i.queue)};return i};en.fn.extend({fadeTo:function(e,t,n,i){return this.filter(pe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=en.isEmptyObject(e),o=en.speed(t,n,i),a=function(){var t=B(this,en.extend({},e),o);(r||en._data(this,"finish"))&&t.stop(!0)};a.finish=a;return r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop;t(n)};if("string"!==typeof e){n=t;t=e;e=void 0}t&&e!==!1&&this.queue(e||"fx",[]);return this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=en.timers,a=en._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&nt.test(r)&&i(a[r]);for(r=o.length;r--;)if(o[r].elem===this&&(null==e||o[r].queue===e)){o[r].anim.stop(n);t=!1;o.splice(r,1)}!t&&n||en.dequeue(this,e)})},finish:function(e){e!==!1&&(e=e||"fx");return this.each(function(){var t,n=en._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=en.timers,a=i?i.length:0;n.finish=!0;en.queue(this,e,[]);r&&r.stop&&r.stop.call(this,!0);for(t=o.length;t--;)if(o[t].elem===this&&o[t].queue===e){o[t].anim.stop(!0);o.splice(t,1)}for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}});en.each(["toggle","show","hide"],function(e,t){var n=en.fn[t];en.fn[t]=function(e,i,r){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,i,r)}});en.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){en.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}});en.timers=[];en.fx.tick=function(){var e,t=en.timers,n=0;Ke=en.now();for(;n<t.length;n++){e=t[n];e()||t[n]!==e||t.splice(n--,1)}t.length||en.fx.stop();Ke=void 0};en.fx.timer=function(e){en.timers.push(e);e()?en.fx.start():en.timers.pop()};en.fx.interval=13;en.fx.start=function(){Ze||(Ze=setInterval(en.fx.tick,en.fx.interval))};en.fx.stop=function(){clearInterval(Ze);Ze=null};en.fx.speeds={slow:600,fast:200,_default:400};en.fn.delay=function(e,t){e=en.fx?en.fx.speeds[e]||e:e;t=t||"fx";return this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})};!function(){var e,t,n,i,r;t=Z.createElement("div");t.setAttribute("className","t");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";i=t.getElementsByTagName("a")[0];n=Z.createElement("select");r=n.appendChild(Z.createElement("option"));e=t.getElementsByTagName("input")[0];i.style.cssText="top:1px";Kt.getSetAttribute="t"!==t.className;Kt.style=/top/.test(i.getAttribute("style"));Kt.hrefNormalized="/a"===i.getAttribute("href");Kt.checkOn=!!e.value;Kt.optSelected=r.selected;Kt.enctype=!!Z.createElement("form").enctype;n.disabled=!0;Kt.optDisabled=!r.disabled;e=Z.createElement("input");e.setAttribute("value","");Kt.input=""===e.getAttribute("value");e.value="t";e.setAttribute("type","radio");Kt.radioValue="t"===e.value}();ot=/\r/g;en.fn.extend({val:function(e){var t,n,i,r=this[0];if(arguments.length){i=en.isFunction(e);return this.each(function(n){var r;if(1===this.nodeType){r=i?e.call(this,n,en(this).val()):e;null==r?r="":"number"===typeof r?r+="":en.isArray(r)&&(r=en.map(r,function(e){return null==e?"":e+""}));t=en.valHooks[this.type]||en.valHooks[this.nodeName.toLowerCase()];t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r)}})}if(r){t=en.valHooks[r.type]||en.valHooks[r.nodeName.toLowerCase()];if(t&&"get"in t&&void 0!==(n=t.get(r,"value")))return n;n=r.value;return"string"===typeof n?n.replace(ot,""):null==n?"":n}}});en.extend({valHooks:{option:{get:function(e){var t=en.find.attr(e,"value");return null!=t?t:en.trim(en.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++){n=i[l];if((n.selected||l===r)&&(Kt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!en.nodeName(n.parentNode,"optgroup"))){t=en(n).val();if(o)return t;a.push(t)}}return a},set:function(e,t){for(var n,i,r=e.options,o=en.makeArray(t),a=r.length;a--;){i=r[a];if(en.inArray(en.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1}n||(e.selectedIndex=-1);return r}}}});en.each(["radio","checkbox"],function(){en.valHooks[this]={set:function(e,t){if(en.isArray(t))return e.checked=en.inArray(en(e).val(),t)>=0}};Kt.checkOn||(en.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});lt=en.expr.attrHandle,ut=/^(?:checked|selected)$/i,ct=Kt.getSetAttribute,ft=Kt.input;en.fn.extend({attr:function(e,t){return he(this,en.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){en.removeAttr(this,e)})}});en.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o){if(typeof e.getAttribute===se)return en.prop(e,t,n);if(1!==o||!en.isXMLDoc(e)){t=t.toLowerCase();i=en.attrHooks[t]||(en.expr.match.bool.test(t)?st:at)}if(void 0===n){if(i&&"get"in i&&null!==(r=i.get(e,t)))return r;r=en.find.attr(e,t);return null==r?void 0:r}if(null!==n){if(i&&"set"in i&&void 0!==(r=i.set(e,n,t)))return r;e.setAttribute(t,n+"");return n}en.removeAttr(e,t)}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(re);if(o&&1===e.nodeType)for(;n=o[r++];){i=en.propFix[n]||n;en.expr.match.bool.test(n)?ft&&ct||!ut.test(n)?e[i]=!1:e[en.camelCase("default-"+n)]=e[i]=!1:en.attr(e,n,"");e.removeAttribute(ct?n:i)}},attrHooks:{type:{set:function(e,t){if(!Kt.radioValue&&"radio"===t&&en.nodeName(e,"input")){var n=e.value;e.setAttribute("type",t);n&&(e.value=n);return t}}}}});st={set:function(e,t,n){t===!1?en.removeAttr(e,n):ft&&ct||!ut.test(n)?e.setAttribute(!ct&&en.propFix[n]||n,n):e[en.camelCase("default-"+n)]=e[n]=!0;return n}};en.each(en.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||en.find.attr;lt[t]=ft&&ct||!ut.test(t)?function(e,t,i){var r,o;if(!i){o=lt[t];lt[t]=r;r=null!=n(e,t,i)?t.toLowerCase():null;lt[t]=o}return r}:function(e,t,n){if(!n)return e[en.camelCase("default-"+t)]?t.toLowerCase():null}});ft&&ct||(en.attrHooks.value={set:function(e,t,n){if(!en.nodeName(e,"input"))return at&&at.set(e,t,n);e.defaultValue=t}});if(!ct){at={set:function(e,t,n){var i=e.getAttributeNode(n);i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n));i.value=t+="";if("value"===n||t===e.getAttribute(n))return t}};lt.id=lt.name=lt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null};en.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:at.set};en.attrHooks.contenteditable={set:function(e,t,n){at.set(e,""!==t&&t,n)}};en.each(["width","height"],function(e,t){en.attrHooks[t]={set:function(e,n){if(""===n){e.setAttribute(t,"auto");return n}}}})}Kt.style||(en.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});dt=/^(?:input|select|textarea|button|object)$/i,pt=/^(?:a|area)$/i;en.fn.extend({prop:function(e,t){return he(this,en.prop,e,t,arguments.length>1)},removeProp:function(e){e=en.propFix[e]||e;return this.each(function(){try{this[e]=void 0;delete this[e]}catch(e){}})}});en.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a){o=1!==a||!en.isXMLDoc(e);if(o){t=en.propFix[t]||t;r=en.propHooks[t]}return void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]}},propHooks:{tabIndex:{get:function(e){var t=en.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}}});Kt.hrefNormalized||en.each(["href","src"],function(e,t){en.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}});Kt.optSelected||(en.propHooks.selected={get:function(e){var t=e.parentNode;if(t){t.selectedIndex;t.parentNode&&t.parentNode.selectedIndex}return null}});en.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){en.propFix[this.toLowerCase()]=this});Kt.enctype||(en.propFix.enctype="encoding");ht=/[\t\r\n\f]/g;en.fn.extend({addClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,u="string"===typeof e&&e;if(en.isFunction(e))return this.each(function(t){en(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(re)||[];for(;s<l;s++){n=this[s];i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ht," "):" ");if(i){o=0;for(;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=en.trim(i);n.className!==a&&(n.className=a)}}}return this},removeClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,u=0===arguments.length||"string"===typeof e&&e;if(en.isFunction(e))return this.each(function(t){en(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(re)||[];for(;s<l;s++){n=this[s];i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ht," "):"");if(i){o=0;for(;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?en.trim(i):"";n.className!==a&&(n.className=a)}}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"===typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):en.isFunction(e)?this.each(function(n){en(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=en(this),o=e.match(re)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else if(n===se||"boolean"===n){this.className&&en._data(this,"__className__",this.className);this.className=this.className||e===!1?"":en._data(this,"__className__")||""}})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ht," ").indexOf(t)>=0)return!0;return!1}});en.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){en.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});en.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});mt=en.now();gt=/\?/;yt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;en.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=en.trim(t+"");return r&&!en.trim(r.replace(yt,function(e,t,r,o){n&&t&&(i=0);if(0===i)return e;n=r||t;i+=!o-!r;return""}))?Function("return "+r)():en.error("Invalid JSON: "+t)};en.parseXML=function(t){var n,i;if(!t||"string"!==typeof t)return null;try{if(e.DOMParser){i=new DOMParser;n=i.parseFromString(t,"text/xml")}else{n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";n.loadXML(t)}}catch(e){n=void 0}n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||en.error("Invalid XML: "+t);return n};xt=/#.*$/,wt=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ct=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nt=/^(?:GET|HEAD)$/,Et=/^\/\//,kt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,St={},At={},Dt="*/".concat("*");try{bt=location.href}catch(e){bt=Z.createElement("a");bt.href="";bt=bt.href}vt=kt.exec(bt.toLowerCase())||[];en.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt,type:"GET",isLocal:Ct.test(vt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":en.parseJSON,"text xml":en.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,en.ajaxSettings),t):W(en.ajaxSettings,e)},ajaxPrefilter:P(St),ajaxTransport:P(At),ajax:function(e,t){function n(e,t,n,i){var r,c,y,v,x,T=t;if(2!==b){b=2;s&&clearTimeout(s);u=void 0;a=i||"";w.readyState=e>0?4:0;r=e>=200&&e<300||304===e;n&&(v=$(f,w,n));v=z(f,v,w,r);if(r){if(f.ifModified){x=w.getResponseHeader("Last-Modified");x&&(en.lastModified[o]=x);x=w.getResponseHeader("etag");x&&(en.etag[o]=x)}if(204===e||"HEAD"===f.type)T="nocontent";else if(304===e)T="notmodified";else{T=v.state;c=v.data;y=v.error;r=!y}}else{y=T;if(e||!T){T="error";e<0&&(e=0)}}w.status=e;w.statusText=(t||T)+"";r?h.resolveWith(d,[c,T,w]):h.rejectWith(d,[w,T,y]);w.statusCode(g);g=void 0;l&&p.trigger(r?"ajaxSuccess":"ajaxError",[w,f,r?c:y]);m.fireWith(d,[w,T]);if(l){p.trigger("ajaxComplete",[w,f]);--en.active||en.event.trigger("ajaxStop")}}}if("object"===typeof e){t=e;e=void 0}t=t||{};var i,r,o,a,s,l,u,c,f=en.ajaxSetup({},t),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?en(d):en.event,h=en.Deferred(),m=en.Callbacks("once memory"),g=f.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};for(;t=Tt.exec(a);)c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();if(!b){e=v[n]=v[n]||e;y[e]=t}return this},overrideMimeType:function(e){b||(f.mimeType=e);return this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;u&&u.abort(t);n(0,t);return this}};h.promise(w).complete=m.add;w.success=w.done;w.error=w.fail;f.url=((e||f.url||bt)+"").replace(xt,"").replace(Et,vt[1]+"//");f.type=t.method||t.type||f.method||f.type;f.dataTypes=en.trim(f.dataType||"*").toLowerCase().match(re)||[""];if(null==f.crossDomain){i=kt.exec(f.url.toLowerCase());f.crossDomain=!(!i||i[1]===vt[1]&&i[2]===vt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(vt[3]||("http:"===vt[1]?"80":"443")))}f.data&&f.processData&&"string"!==typeof f.data&&(f.data=en.param(f.data,f.traditional));R(St,f,t,w);if(2===b)return w;l=en.event&&f.global;l&&0===en.active++&&en.event.trigger("ajaxStart");f.type=f.type.toUpperCase();f.hasContent=!Nt.test(f.type);o=f.url;if(!f.hasContent){if(f.data){o=f.url+=(gt.test(o)?"&":"?")+f.data;delete f.data}f.cache===!1&&(f.url=wt.test(o)?o.replace(wt,"$1_="+mt++):o+(gt.test(o)?"&":"?")+"_="+mt++)}if(f.ifModified){en.lastModified[o]&&w.setRequestHeader("If-Modified-Since",en.lastModified[o]);en.etag[o]&&w.setRequestHeader("If-None-Match",en.etag[o])}(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType);w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Dt+"; q=0.01":""):f.accepts["*"]);for(r in f.headers)w.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(f.beforeSend.call(d,w,f)===!1||2===b))return w.abort();x="abort";for(r in{success:1,error:1,complete:1})w[r](f[r]);u=R(At,f,t,w);if(u){w.readyState=1;l&&p.trigger("ajaxSend",[w,f]);f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1;u.send(y,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return en.get(e,t,n,"json")},getScript:function(e,t){return en.get(e,void 0,t,"script")}});en.each(["get","post"],function(e,t){en[t]=function(e,n,i,r){if(en.isFunction(n)){r=r||i;i=n;n=void 0}return en.ajax({url:e,type:t,dataType:r,data:n,success:i})}});en._evalUrl=function(e){return en.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};en.fn.extend({wrapAll:function(e){if(en.isFunction(e))return this.each(function(t){en(this).wrapAll(e.call(this,t))});if(this[0]){var t=en(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return en.isFunction(e)?this.each(function(t){en(this).wrapInner(e.call(this,t))}):this.each(function(){var t=en(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=en.isFunction(e);return this.each(function(n){en(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){en.nodeName(this,"body")||en(this).replaceWith(this.childNodes)}).end()}});en.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!Kt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||en.css(e,"display"))};en.expr.filters.visible=function(e){return!en.expr.filters.hidden(e)};jt=/%20/g,Lt=/\[\]$/,Ht=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;en.param=function(e,t){var n,i=[],r=function(e,t){t=en.isFunction(t)?t():null==t?"":t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};void 0===t&&(t=en.ajaxSettings&&en.ajaxSettings.traditional);if(en.isArray(e)||e.jquery&&!en.isPlainObject(e))en.each(e,function(){r(this.name,this.value)});else for(n in e)I(n,e[n],t,r);return i.join("&").replace(jt,"+")};en.fn.extend({serialize:function(){return en.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=en.prop(this,"elements");return e?en.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!en(this).is(":disabled")&&_t.test(this.nodeName)&&!qt.test(e)&&(this.checked||!me.test(e))}).map(function(e,t){var n=en(this).val();return null==n?null:en.isArray(n)?en.map(n,function(e){return{name:t.name,value:e.replace(Ht,"\r\n")}}):{name:t.name,value:n.replace(Ht,"\r\n")}}).get()}});en.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;Mt=0,Ft={},Ot=en.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Ft)Ft[e](void 0,!0)});Kt.cors=!!Ot&&"withCredentials"in Ot;Ot=Kt.ajax=!!Ot;Ot&&en.ajaxTransport(function(e){if(!e.crossDomain||Kt.cors){var t;return{send:function(n,i){var r,o=e.xhr(),a=++Mt;o.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType);e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null);t=function(n,r){var s,l,u;if(t&&(r||4===o.readyState)){delete Ft[a];t=void 0;o.onreadystatechange=en.noop;if(r)4!==o.readyState&&o.abort();else{u={};s=o.status;"string"===typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}}u&&i(s,l,u,o.getAllResponseHeaders())};e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Ft[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}});en.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){en.globalEval(e);return e}}});en.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1);if(e.crossDomain){e.type="GET";e.global=!1}});en.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=Z.head||en("head")[0]||Z.documentElement;return{send:function(i,r){t=Z.createElement("script");t.async=!0;e.scriptCharset&&(t.charset=e.scriptCharset);t.src=e.url;t.onload=t.onreadystatechange=function(e,n){if(n||!t.readyState||/loaded|complete/.test(t.readyState)){t.onload=t.onreadystatechange=null;t.parentNode&&t.parentNode.removeChild(t);t=null;n||r(200,"success")}};n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});Bt=[],Pt=/(=)\?(?=&|$)|\?\?/;en.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||en.expando+"_"+mt++;this[e]=!0;return e}});en.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Pt.test(t.url)?"url":"string"===typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0]){r=t.jsonpCallback=en.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;s?t[s]=t[s].replace(Pt,"$1"+r):t.jsonp!==!1&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+r);t.converters["script json"]=function(){a||en.error(r+" was not called");return a[0]};t.dataTypes[0]="json";o=e[r];e[r]=function(){a=arguments};i.always(function(){e[r]=o;if(t[r]){t.jsonpCallback=n.jsonpCallback;Bt.push(r)}a&&en.isFunction(o)&&o(a[0]);a=o=void 0});return"script"}});en.parseHTML=function(e,t,n){if(!e||"string"!==typeof e)return null;if("boolean"===typeof t){n=t;t=!1}t=t||Z;var i=G.exec(e),r=!n&&[];if(i)return[t.createElement(i[1])];i=en.buildFragment([e],t,r);r&&r.length&&en(r).remove();return en.merge([],i.childNodes)};Rt=en.fn.load;en.fn.load=function(e,t,n){if("string"!==typeof e&&Rt)return Rt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");if(s>=0){i=en.trim(e.slice(s,e.length));e=e.slice(0,s)}if(en.isFunction(t)){n=t;t=void 0}else t&&"object"===typeof t&&(o="POST");a.length>0&&en.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments;a.html(i?en("<div>").append(en.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])});return this};en.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){en.fn[t]=function(e){return this.on(t,e)}});en.expr.filters.animated=function(e){return en.grep(en.timers,function(t){return e===t.elem}).length};Wt=e.document.documentElement;en.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=en.css(e,"position"),f=en(e),d={};"static"===c&&(e.style.position="relative");s=f.offset();o=en.css(e,"top");l=en.css(e,"left");u=("absolute"===c||"fixed"===c)&&en.inArray("auto",[o,l])>-1;if(u){i=f.position();a=i.top;r=i.left}else{a=parseFloat(o)||0;r=parseFloat(l)||0}en.isFunction(t)&&(t=t.call(e,n,s));null!=t.top&&(d.top=t.top-s.top+a);null!=t.left&&(d.left=t.left-s.left+r);"using"in t?t.using.call(e,d):f.css(d)}};en.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){en.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o){t=o.documentElement;if(!en.contains(t,r))return i;typeof r.getBoundingClientRect!==se&&(i=r.getBoundingClientRect());n=V(o);return{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];if("fixed"===en.css(i,"position"))t=i.getBoundingClientRect();else{e=this.offsetParent();t=this.offset();en.nodeName(e[0],"html")||(n=e.offset());n.top+=en.css(e[0],"borderTopWidth",!0);n.left+=en.css(e[0],"borderLeftWidth",!0)}return{top:t.top-n.top-en.css(i,"marginTop",!0),left:t.left-n.left-en.css(i,"marginLeft",!0)
}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Wt;e&&!en.nodeName(e,"html")&&"static"===en.css(e,"position");)e=e.offsetParent;return e||Wt})}});en.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);en.fn[e]=function(i){return he(this,function(e,i,r){var o=V(e);if(void 0===r)return o?t in o?o[t]:o.document.documentElement[i]:e[i];o?o.scrollTo(n?en(o).scrollLeft():r,n?r:en(o).scrollTop()):e[i]=r},e,i,arguments.length,null)}});en.each(["top","left"],function(e,t){en.cssHooks[t]=k(Kt.pixelPosition,function(e,n){if(n){n=$e(e,t);return Re.test(n)?en(e).position()[t]+"px":n}})});en.each({Height:"height",Width:"width"},function(e,t){en.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){en.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!==typeof i),a=n||(i===!0||r===!0?"margin":"border");return he(this,function(t,n,i){var r;if(en.isWindow(t))return t.document.documentElement["client"+e];if(9===t.nodeType){r=t.documentElement;return Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])}return void 0===i?en.css(t,n,a):en.style(t,n,i,a)},t,o?i:void 0,o,null)}})});en.fn.size=function(){return this.length};en.fn.andSelf=en.fn.addBack;"function"===typeof define&&define.amd&&define("1",[],function(){return en});$t=e.jQuery,zt=e.$;en.noConflict=function(t){e.$===en&&(e.$=zt);t&&e.jQuery===en&&(e.jQuery=$t);return en};typeof t===se&&(e.jQuery=e.$=en);return en});
define("2",[],function(t){!function(){var t=window.UMEDITOR_HOME_URL||function(){function t(){this.documentURL=self.document.URL||self.location.href;this.separator="/";this.separatorPattern=/\\|\//g;this.currentDir="./";this.currentDirPattern=/^[.]\/]/;this.path=this.documentURL;this.stack=[];this.push(this.documentURL)}function e(){var e=t.getProtocol(this.path||"");if(e){this.protocol=e;this.localSeparator=/\\|\//.exec(this.path.replace(e,""))[0];this.stack=[]}else{e=/\\|\//.exec(this.path);e&&(this.localSeparator=e[0])}}function i(){var e,i,r,o,a=this.path.replace(this.currentDirPattern,"");t.hasProtocol(this.path)&&(a=a.replace(this.protocol,""));a=a.split(this.localSeparator);a.length=a.length-1;for(e=0,r=a.length,o=this.stack;e<r;e++){i=a[e];i&&(t.isParentPath(i)?o.pop():o.push(i))}}t.isParentPath=function(t){return".."===t};t.hasProtocol=function(e){return!!t.getProtocol(e)};t.getProtocol=function(t){var e=/^[^:]*:\/*/.exec(t);return e?e[0]:null};t.prototype={push:function(t){this.path=t;e.call(this);i.call(this);return this},getPath:function(){return this+""},toString:function(){return this.protocol+this.stack.concat([""]).join(this.separator)}};var r=document.getElementsByTagName("script");r=r[r.length-1].src;return(new t).push(r)+""}();window.UMEDITOR_CONFIG={UMEDITOR_HOME_URL:"/static/js/lib/ueditor/",imageUrl:"/image/upload.json",imagePath:t+"image/",imageFieldName:"file",toolbar:["fontfamily","fontsize","bold","italic","underline","forecolor","backcolor","insertorderedlist","insertunorderedlist | ","justifyleft","justifycenter","justifyright |","source | image ","insertvideo","fullscreen"],serialize:{blackList:{object:1,applet:1,input:1,meta:1,base:1,button:1,select:1,textarea:1,"#comment":1,map:1,area:1,html:1,body:1,head:1,link:1,script:1,"&nbsp;":1,p:1,style:1}}}}()});
define("3",[],function(require){!function($){function getListener(e,t,n){var i;t=t.toLowerCase();return(i=e.__allListeners||n&&(e.__allListeners={}))&&(i[t]||n&&(i[t]=[]))}function getDomNode(e,t,n,i,o,r){var a,s=i&&e[t];!s&&(s=e[n]);for(;!s&&(a=(a||e).parentNode);){if("BODY"==a.tagName||r&&!r(a))return null;s=a[n]}return s&&o&&!o(s)?getDomNode(s,t,n,!1,o):s}var dom,browser,ie,webkit,gecko,opera,utils,EventBase,dtd,attrFix,styleBlock,domUtils,fillCharReg,filterWord,htmlparser,filterNode;UMEDITOR_CONFIG=window.UMEDITOR_CONFIG||{};window.UM={plugins:{},commands:{},I18N:{},version:"1.2.2"};dom=UM.dom={};browser=UM.browser=function(){var e,t,n,i,o=navigator.userAgent.toLowerCase(),r=window.opera,a={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(o),opera:!!r&&r.version,webkit:o.indexOf(" applewebkit/")>-1,mac:o.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};a.gecko="Gecko"==navigator.product&&!a.webkit&&!a.opera&&!a.ie;e=0;if(a.ie){t=o.match(/(?:msie\s([\w.]+))/);n=o.match(/(?:trident.*rv:([\w.]+))/);e=t&&n&&t[1]&&n[1]?Math.max(1*t[1],1*n[1]):t&&t[1]?1*t[1]:n&&n[1]?1*n[1]:0;a.ie11Compat=11==document.documentMode;a.ie9Compat=9==document.documentMode;a.ie8=!!document.documentMode;a.ie8Compat=8==document.documentMode;a.ie7Compat=7==e&&!document.documentMode||7==document.documentMode;a.ie6Compat=e<7||a.quirks;a.ie9above=e>8;a.ie9below=e<9}if(a.gecko){i=o.match(/rv:([\d\.]+)/);if(i){i=i[1].split(".");e=1e4*i[0]+100*(i[1]||0)+1*(i[2]||0)}}/chrome\/(\d+\.\d)/i.test(o)&&(a.chrome=+RegExp["$1"]);/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(o)&&!/chrome/i.test(o)&&(a.safari=+(RegExp["$1"]||RegExp["$2"]));a.opera&&(e=parseFloat(r.version()));a.webkit&&(e=parseFloat(o.match(/ applewebkit\/(\d+)/)[1]));a.version=e;a.isCompatible=!a.mobile&&(a.ie&&e>=6||a.gecko&&e>=10801||a.opera&&e>=9.5||a.air&&e>=1||a.webkit&&e>=522||!1);return a}();ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera;utils=UM.utils={each:function(e,t,n){var i,o,r;if(null!=e)if(e.length===+e.length){for(i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e)===!1)return!1}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return!1},makeInstance:function(e){var t=new Function;t.prototype=e;e=new t;t.prototype=null;return e},extend:function(e,t,n){if(t)for(var i in t)n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e},extend2:function(e){var t,n,i,o=arguments;for(t=1;t<o.length;t++){n=o[t];for(i in n)e.hasOwnProperty(i)||(e[i]=n[i])}return e},inherits:function(e,t){var n=e.prototype,i=utils.makeInstance(t.prototype);utils.extend(i,n,!0);e.prototype=i;return i.constructor=e},bind:function(e,t){return function(){return e.apply(t,arguments)}},defer:function(e,t,n){var i;return function(){n&&clearTimeout(i);i=setTimeout(e,t)}},indexOf:function(e,t,n){var i=-1;n=this.isNumber(n)?n:0;this.each(e,function(e,o){if(o>=n&&e===t){i=o;return!1}});return i},removeItem:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t){e.splice(n,1);n--}},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(e){if(!e)return{};e=utils.isArray(e)?e:e.split(",");for(var t,n=0,i={};t=e[n++];)i[t.toUpperCase()]=i[t]=1;return i},unhtml:function(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},html:function(e){return e?e.replace(/&((g|l|quo)t|amp|#39);/g,function(e){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'"}[e]}):""},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t={float:void 0!=e.cssFloat?"cssFloat":void 0!=e.styleFloat?"styleFloat":"float"};return function(e){return t[e]||(t[e]=e.toLowerCase().replace(/-./g,function(e){return e.charAt(1).toUpperCase()}))}}(),loadFile:function(){function e(e,n){try{for(var i,o=0;i=t[o++];)if(i.doc===e&&i.url==(n.src||n.href))return i}catch(e){return null}}var t=[];return function(n,i,o){var r,a,s,l=e(n,i);if(l)l.ready?o&&o():l.funs.push(o);else{t.push({doc:n,url:i.src||i.href,funs:[o]});if(n.body){if(!i.id||!n.getElementById(i.id)){s=n.createElement(i.tag);delete i.tag;for(a in i)s.setAttribute(a,i[a]);s.onload=s.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){l=e(n,i);if(l.funs.length>0){l.ready=1;for(var t;t=l.funs.pop();)t()}s.onload=s.onreadystatechange=null}};s.onerror=function(){throw Error("The load "+(i.href||i.src)+" fails,check the url settings of file umeditor.config.js ")};n.getElementsByTagName("head")[0].appendChild(s)}}else{r=[];for(a in i)"tag"!=a&&r.push(a+'="'+i[a]+'"');n.write("<"+i.tag+" "+r.join(" ")+" ></"+i.tag+">")}}}}(),isEmptyObject:function(e){if(null==e)return!0;if(this.isArray(e)||this.isString(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},fixColor:function(e,t){var n,i,o;if(/color/i.test(e)&&/rgba?/.test(t)){n=t.split(",");if(n.length>3)return"";t="#";for(i=0;o=n[i++];){o=parseInt(o.replace(/[^\d]/gi,""),10).toString(16);t+=1==o.length?"0"+o:o}t=t.toUpperCase()}return t},clone:function(e,t){var n,i;t=t||{};for(i in e)if(e.hasOwnProperty(i)){n=e[i];if("object"==typeof n){t[i]=utils.isArray(n)?[]:{};utils.clone(e[i],t[i])}else t[i]=n}return t},transUnitToPx:function(e){if(!/(pt|cm)/.test(e))return e;var t;e.replace(/([\d.]+)(\w+)/,function(n,i,o){e=i;t=o});switch(t){case"cm":e=25*parseFloat(e);break;case"pt":e=Math.round(96*parseFloat(e)/72)}return e+(e?"px":"")},cssRule:browser.ie&&11!=browser.version?function(e,t,n){var i,o,r;n=n||document;i=n.indexList?n.indexList:n.indexList={};if(i[e])r=n.styleSheets[i[e]];else{if(void 0===t)return"";r=n.createStyleSheet("",o=n.styleSheets.length);i[e]=o}if(void 0===t)return r.cssText;r.cssText=t||""}:function(e,t,n){n=n||document;var i,o=n.getElementsByTagName("head")[0];if(!(i=n.getElementById(e))){if(void 0===t)return"";i=n.createElement("style");i.id=e;o.appendChild(i)}if(void 0===t)return i.innerHTML;""!==t?i.innerHTML=t:o.removeChild(i)}};utils.each(["String","Function","Array","Number","RegExp","Object"],function(e){UM.utils["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}});EventBase=UM.EventBase=function(){};EventBase.prototype={addListener:function(e,t){e=utils.trim(e).split(" ");for(var n,i=0;n=e[i++];)getListener(this,n,!0).push(t)},removeListener:function(e,t){e=utils.trim(e).split(" ");for(var n,i=0;n=e[i++];)utils.removeItem(getListener(this,n)||[],t)},fireEvent:function(){var e,t,n,i,o,r,a=arguments[0];a=utils.trim(a).split(" ");for(e=0;t=a[e++];){n=getListener(this,t);if(n){r=n.length;for(;r--;)if(n[r]){o=n[r].apply(this,arguments);if(o===!0)return o;void 0!==o&&(i=o)}}(o=this["on"+t.toLowerCase()])&&(i=o.apply(this,arguments))}return i}};dtd=dom.dtd=function(){function e(e){for(var t in e)e[t.toUpperCase()]=e[t];return e}var t=utils.extend2,n=e({isindex:1,fieldset:1}),i=e({input:1,button:1,select:1,textarea:1,label:1}),o=t(e({a:1}),i),r=t({iframe:1},o),a=e({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),s=e({ins:1,del:1,script:1,style:1}),l=t(e({b:1,acronym:1,bdo:1,var:1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),s),d=t(e({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),l),c=t(e({p:1}),d),u=t(e({iframe:1}),d,i),f=e({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,var:1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),h=t(e({a:0}),u),p=e({tr:1}),m=e({"#":1}),g=t(e({param:1}),f),b=t(e({form:1}),n,r,a,c),v=e({li:1,ol:1,ul:1}),y=e({style:1,script:1}),C=e({base:1,link:1,meta:1,title:1}),w=t(C,y),x=e({head:1,body:1}),N=e({html:1}),k=e({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),E=e({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return e({$nonBodyContent:t(N,x,C),$block:k,$inline:h,$inlineWithA:t(e({a:1}),h),$body:t(e({script:1,style:1}),k),$cdata:e({script:1,style:1}),$empty:E,$nonChild:e({iframe:1,textarea:1}),$listItem:e({dd:1,dt:1,li:1}),$list:e({ul:1,ol:1,dl:1}),$isNotEmpty:e({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:e({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1}),$removeEmptyBlock:e({p:1,div:1}),$tableContent:e({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:e({pre:1,script:1,style:1,textarea:1}),html:x,head:w,style:m,script:m,body:b,base:{},link:{},meta:{},title:m,col:{},tr:e({td:1,th:1}),img:{},embed:{},colgroup:e({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:b,td:b,br:{},th:b,center:b,kbd:h,button:t(c,a),basefont:{},h5:h,h4:h,samp:h,h6:h,ol:v,h1:h,h3:h,option:m,h2:h,form:t(n,r,a,c),select:e({optgroup:1,option:1}),font:h,ins:h,menu:v,abbr:h,label:h,table:e({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:h,tfoot:p,cite:h,li:b,input:{},iframe:b,strong:h,textarea:m,noframes:b,big:h,small:h,span:e({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:h,dt:h,sub:h,optgroup:e({option:1}),param:{},bdo:h,var:h,div:b,object:g,sup:h,dd:b,strike:h,area:{},dir:v,map:t(e({area:1,form:1,p:1}),n,s,a),applet:g,dl:e({dt:1,dd:1}),del:h,isindex:{},fieldset:t(e({legend:1}),f),thead:p,ul:v,acronym:h,b:h,a:t(e({a:1}),u),blockquote:t(e({td:1,tr:1,tbody:1,li:1}),b),caption:h,i:h,u:h,tbody:p,s:h,address:t(r,c),tt:h,legend:h,q:h,pre:t(l,o),p:t(e({a:1}),h),em:h,dfn:h})}();attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]);domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&"6"==browser.version?"\ufeff":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},breakParent:function(e,t){var n,i,o,r=e,a=e;do{r=r.parentNode;if(i){n=r.cloneNode(!1);n.appendChild(i);i=n;n=r.cloneNode(!1);n.appendChild(o);o=n}else{i=r.cloneNode(!1);o=i.cloneNode(!1)}for(;n=a.previousSibling;)i.insertBefore(n,i.firstChild);for(;n=a.nextSibling;)o.appendChild(n);a=r}while(t!==r);n=t.parentNode;n.insertBefore(i,t);n.insertBefore(o,t);n.insertBefore(e,o);domUtils.remove(t);return e},trimWhiteTextNode:function(e){function t(t){for(var n;(n=e[t])&&3==n.nodeType&&domUtils.isWhitespace(n);)e.removeChild(n)}t("firstChild");t("lastChild")},getPosition:function(e,t){var n,i,o,r;if(e===t)return 0;i=[e],o=[t];n=e;for(;n=n.parentNode;){if(n===t)return 10;i.push(n)}n=t;for(;n=n.parentNode;){if(n===e)return 20;o.push(n)}i.reverse();o.reverse();if(i[0]!==o[0])return 1;r=-1;for(;r++,i[r]===o[r];);e=i[r];t=o[r];for(;e=e.nextSibling;)if(e===t)return 4;return 2},getNodeIndex:function(e,t){for(var n=e,i=0;n=n.previousSibling;)t&&3==n.nodeType?n.nodeType!=n.nextSibling.nodeType&&i++:i++;return i},inDoc:function(e,t){return 10==domUtils.getPosition(e,t)},findParent:function(e,t,n){if(e&&!domUtils.isBody(e)){e=n?e:e.parentNode;for(;e;){if(!t||t(e)||domUtils.isBody(e))return t&&!t(e)&&domUtils.isBody(e)?null:e;e=e.parentNode}}return null},findParentByTagName:function(e,t,n,i){t=utils.listToMap(utils.isArray(t)?t:[t]);return domUtils.findParent(e,function(e){return t[e.tagName]&&!(i&&i(e))},n)},findParents:function(e,t,n,i){for(var o=t&&(n&&n(e)||!n)?[e]:[];e=domUtils.findParent(e,n);)o.push(e);return i?o:o.reverse()},insertAfter:function(e,t){return e.parentNode.insertBefore(t,e.nextSibling)},remove:function(e,t){var n,i=e.parentNode;if(i){if(t&&e.hasChildNodes())for(;n=e.firstChild;)i.insertBefore(n,e);i.removeChild(e)}return e},getNextDomNode:function(e,t,n,i){return getDomNode(e,"firstChild","nextSibling",t,n,i)},getPreDomNode:function(e,t,n,i){return getDomNode(e,"lastChild","previousSibling",t,n,i)},isBookmarkNode:function(e){return 1==e.nodeType&&e.id&&/^_baidu_bookmark_/i.test(e.id)},getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getCommonAncestor:function(e,t){if(e===t)return e;for(var n=[e],i=[t],o=e,r=-1;o=o.parentNode;){if(o===t)return o;n.push(o)}o=t;for(;o=o.parentNode;){if(o===e)return o;i.push(o)}n.reverse();i.reverse();for(;r++,n[r]===i[r];);return 0==r?null:n[r-1]},clearEmptySibling:function(e,t,n){function i(e,t){for(var n;e&&!domUtils.isBookmarkNode(e)&&(domUtils.isEmptyInlineElement(e)||!new RegExp("[^\t\n\r"+domUtils.fillChar+"]").test(e.nodeValue));){n=e[t];domUtils.remove(e);e=n}}!t&&i(e.nextSibling,"nextSibling");!n&&i(e.previousSibling,"previousSibling")},split:function(e,t){var n,i,o,r=e.ownerDocument;if(browser.ie&&t==e.nodeValue.length){n=r.createTextNode("");return domUtils.insertAfter(e,n)}i=e.splitText(t);if(browser.ie8){o=r.createTextNode("");domUtils.insertAfter(i,o);domUtils.remove(o)}return i},isWhitespace:function(e){return!new RegExp("[^ \t\n\r"+domUtils.fillChar+"]").test(e.nodeValue)},getXY:function(e){for(var t=0,n=0;e.offsetParent;){n+=e.offsetTop;t+=e.offsetLeft;e=e.offsetParent}return{x:t,y:n}},isEmptyInlineElement:function(e){if(1!=e.nodeType||!dtd.$removeEmpty[e.tagName])return 0;e=e.firstChild;for(;e;){if(domUtils.isBookmarkNode(e))return 0;if(1==e.nodeType&&!domUtils.isEmptyInlineElement(e)||3==e.nodeType&&!domUtils.isWhitespace(e))return 0;e=e.nextSibling}return 1},isBlockElm:function(e){return 1==e.nodeType&&(dtd.$block[e.tagName]||styleBlock[domUtils.getComputedStyle(e,"display")])&&!dtd.$nonChild[e.tagName]},getElementsByTagName:function(e,t,n){var i,o,r,a,s,l,d;if(n&&utils.isString(n)){i=n;n=function(e){var t=!1;$.each(utils.trim(i).replace(/[ ]{2,}/g," ").split(" "),function(n,i){if($(e).hasClass(i)){t=!0;return!1}});return t}}t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");o=[];for(r=0;a=t[r++];){s=e.getElementsByTagName(a);for(l=0;d=s[l++];)n&&!n(d)||o.push(d)}return o},unSelectable:ie&&browser.ie9below||browser.opera?function(e){e.onselectstart=function(){return!1};e.onclick=e.onkeyup=e.onkeydown=function(){return!1};e.unselectable="on";e.setAttribute("unselectable","on");for(var t,n=0;t=e.all[n++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on";e.setAttribute("unselectable","on")}}:function(e){e.style.MozUserSelect=e.style.webkitUserSelect=e.style.msUserSelect=e.style.KhtmlUserSelect="none"},removeAttributes:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0;n=t[i++];){n=attrFix[n]||n;switch(n){case"className":e[n]="";break;case"style":e.style.cssText="";!browser.ie&&e.removeAttributeNode(e.getAttributeNode("style"))}e.removeAttribute(n)}},createElement:function(e,t,n){return domUtils.setAttributes(e.createElement(t),n)},setAttributes:function(e,t){var n,i;for(n in t)if(t.hasOwnProperty(n)){i=t[n];switch(n){case"class":e.className=i;break;case"style":e.style.cssText=e.style.cssText+";"+i;break;case"innerHTML":e[n]=i;break;case"value":e.value=i;break;default:e.setAttribute(attrFix[n]||n,i)}}return e},getComputedStyle:function(e,t){return utils.transUnitToPx(utils.fixColor(t,$(e).css(t)))},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},removeStyle:function(e,t){if(browser.ie){"color"==t&&(t="(^|;)"+t);e.style.cssText=e.style.cssText.replace(new RegExp(t+"[^:]*:[^;]+;?","ig"),"")}else e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(utils.cssStyleToDomStyle(t));e.style.cssText||domUtils.removeAttributes(e,["style"])},getStyle:function(e,t){var n=e.style[utils.cssStyleToDomStyle(t)];return utils.fixColor(t,n)},setStyle:function(e,t,n){e.style[utils.cssStyleToDomStyle(t)]=n;utils.trim(e.style.cssText)||this.removeAttributes(e,"style")},removeDirtyAttr:function(e){for(var t,n=0,i=e.getElementsByTagName("*");t=i[n++];)t.removeAttribute("_moz_dirty");e.removeAttribute("_moz_dirty")},getChildCount:function(e,t){var n=0,i=e.firstChild;t=t||function(){return 1};for(;i;){t(i)&&n++;i=i.nextSibling}return n},isEmptyNode:function(e){return!e.firstChild||0==domUtils.getChildCount(e,function(e){return!domUtils.isBr(e)&&!domUtils.isBookmarkNode(e)&&!domUtils.isWhitespace(e)})},isBr:function(e){return 1==e.nodeType&&"BR"==e.tagName},isFillChar:function(e,t){return 3==e.nodeType&&!e.nodeValue.replace(new RegExp((t?"^":"")+domUtils.fillChar),"").length},isEmptyBlock:function(e,t){if(1!=e.nodeType)return 0;t=t||new RegExp("[ \t\r\n"+domUtils.fillChar+"]","g");if(e[browser.ie?"innerText":"textContent"].replace(t,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(e.getElementsByTagName(n).length)return 0;return 1},isCustomeNode:function(e){return 1==e.nodeType&&e.getAttribute("_ue_custom_node_")},fillNode:function(e,t){var n=browser.ie?e.createTextNode(domUtils.fillChar):e.createElement("br");t.innerHTML="";t.appendChild(n)},isBoundaryNode:function(e,t){for(var n;!domUtils.isBody(e);){n=e;e=e.parentNode;if(n!==e[t])return!1}return!0},isFillChar:function(e,t){return 3==e.nodeType&&!e.nodeValue.replace(new RegExp((t?"^":"")+domUtils.fillChar),"").length},isBody:function(e){return $(e).hasClass("edui-body-container")}};fillCharReg=new RegExp(domUtils.fillChar,"g");!function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer===e.endContainer&&e.startOffset==e.endOffset}function t(e){return!e.collapsed&&1==e.startContainer.nodeType&&e.startContainer===e.endContainer&&e.endOffset-e.startOffset==1}function n(t,n,i,o){if(1==n.nodeType&&(dtd.$empty[n.tagName]||dtd.$nonChild[n.tagName])){i=domUtils.getNodeIndex(n)+(t?0:1);n=n.parentNode}if(t){o.startContainer=n;o.startOffset=i;o.endContainer||o.collapse(!0)}else{o.endContainer=n;o.endOffset=i;o.startContainer||o.collapse(!1)}e(o);return o}function i(e,t){try{if(a&&domUtils.inDoc(a,e))if(a.nodeValue.replace(fillCharReg,"").length)a.nodeValue=a.nodeValue.replace(fillCharReg,"");else{var n=a.parentNode;domUtils.remove(a);for(;n&&domUtils.isEmptyInlineElement(n)&&(browser.safari?!(domUtils.getPosition(n,t)&domUtils.POSITION_CONTAINS):!n.contains(t));){a=n.parentNode;domUtils.remove(n);n=a}}}catch(e){}}function o(e,t){var n;e=e[t];for(;e&&domUtils.isFillChar(e);){n=e[t];domUtils.remove(e);e=n}}function r(e,t){var n,i,o,r,a,s,l,d,c,u,f,h=e.startContainer,p=e.endContainer,m=e.startOffset,g=e.endOffset,b=e.document,v=b.createDocumentFragment();1==h.nodeType&&(h=h.childNodes[m]||(n=h.appendChild(b.createTextNode(""))));1==p.nodeType&&(p=p.childNodes[g]||(i=p.appendChild(b.createTextNode(""))));if(h===p&&3==h.nodeType){v.appendChild(b.createTextNode(h.substringData(m,g-m)));if(t){h.deleteData(m,g-m);e.collapse(!0)}return v}a=v,s=domUtils.findParents(h,!0),l=domUtils.findParents(p,!0);for(d=0;s[d]==l[d];)d++;for(c=d;u=s[c];c++){o=u.nextSibling;if(u==h){if(!n)if(3==e.startContainer.nodeType){a.appendChild(b.createTextNode(h.nodeValue.slice(m)));t&&h.deleteData(m,h.nodeValue.length-m)}else a.appendChild(t?h:h.cloneNode(!0))}else{r=u.cloneNode(!1);a.appendChild(r)}for(;o&&o!==p&&o!==l[c];){u=o.nextSibling;a.appendChild(t?o:o.cloneNode(!0));o=u}a=r}a=v;if(!s[d]){a.appendChild(s[d-1].cloneNode(!1));a=a.firstChild}for(c=d;f=l[c];c++){o=f.previousSibling;if(f==p){if(!i&&3==e.endContainer.nodeType){a.appendChild(b.createTextNode(p.substringData(0,g)));t&&p.deleteData(0,g)}}else{r=f.cloneNode(!1);a.appendChild(r)}if(c!=d||!s[d])for(;o&&o!==h;){f=o.previousSibling;a.insertBefore(t?o:o.cloneNode(!0),a.firstChild);o=f}a=r}t&&e.setStartBefore(l[d]?s[d]?l[d]:s[d-1]:l[d-1]).collapse(!0);n&&domUtils.remove(n);i&&domUtils.remove(i);return v}var a,s=0,l=domUtils.fillChar,d=dom.Range=function(e,t){var n=this;n.startContainer=n.startOffset=n.endContainer=n.endOffset=null;n.document=e;n.collapsed=!0;n.body=t};d.prototype={deleteContents:function(){var e;this.collapsed||r(this,1);if(browser.webkit){e=this.startContainer;if(3==e.nodeType&&!e.nodeValue.length){this.setStartBefore(e).collapse(!0);domUtils.remove(e)}}return this},inFillChar:function(){var e=this.startContainer;return!(!this.collapsed||3!=e.nodeType||e.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1!=e.nodeValue.length)},setStart:function(e,t){return n(!0,e,t,this)},setEnd:function(e,t){return n(!1,e,t,this)},setStartAfter:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e)+1)},setStartBefore:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e))},setEndAfter:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e)+1)},setEndBefore:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e))},setStartAtFirst:function(e){return this.setStart(e,0)},setStartAtLast:function(e){return this.setStart(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},setEndAtFirst:function(e){return this.setEnd(e,0)},setEndAtLast:function(e){return this.setEnd(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){return this.setStart(e,0).setEndAtLast(e)},cloneRange:function(){var e=this;return new d(e.document).setStart(e.startContainer,e.startOffset).setEnd(e.endContainer,e.endOffset)},collapse:function(e){var t=this;if(e){t.endContainer=t.startContainer;t.endOffset=t.startOffset}else{t.startContainer=t.endContainer;t.startOffset=t.endOffset}t.collapsed=!0;return t},shrinkBoundary:function(e){function t(e){return 1==e.nodeType&&!domUtils.isBookmarkNode(e)&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]}for(var n,i=this,o=i.collapsed;1==i.startContainer.nodeType&&(n=i.startContainer.childNodes[i.startOffset])&&t(n);)i.setStart(n,0);if(o)return i.collapse(!0);if(!e)for(;1==i.endContainer.nodeType&&i.endOffset>0&&(n=i.endContainer.childNodes[i.endOffset-1])&&t(n);)i.setEnd(n,n.childNodes.length);return i},trimBoundary:function(e){var t,n,i,o,r;this.txtToElmBoundary();t=this.startContainer,n=this.startOffset,i=this.collapsed,o=this.endContainer;if(3==t.nodeType){if(0==n)this.setStartBefore(t);else if(n>=t.nodeValue.length)this.setStartAfter(t);else{r=domUtils.split(t,n);t===o?this.setEnd(r,this.endOffset-n):t.parentNode===o&&(this.endOffset+=1);this.setStartBefore(r)}if(i)return this.collapse(!0)}if(!e){n=this.endOffset;o=this.endContainer;if(3==o.nodeType)if(0==n)this.setEndBefore(o);else{n<o.nodeValue.length&&domUtils.split(o,n);this.setEndAfter(o)}}return this},txtToElmBoundary:function(e){function t(e,t){var n=e[t+"Container"],i=e[t+"Offset"];3==n.nodeType&&(i?i>=n.nodeValue.length&&e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"After"](n):e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"Before"](n))}if(e||!this.collapsed){t(this,"start");t(this,"end")}return this},insertNode:function(e){var t,n,i,o=e,r=1;if(11==e.nodeType){o=e.firstChild;r=e.childNodes.length}this.trimBoundary(!0);t=this.startContainer,n=this.startOffset;i=t.childNodes[n];i?t.insertBefore(e,i):t.appendChild(e);o.parentNode===this.endContainer&&(this.endOffset=this.endOffset+r);return this.setStartBefore(o)},setCursor:function(e,t){return this.collapse(!e).select(t)},createBookmark:function(e,t){var n,i=this.document.createElement("span");i.style.cssText="display:none;line-height:0px;";i.appendChild(this.document.createTextNode("‍"));i.id="_baidu_bookmark_start_"+(t?"":s++);if(!this.collapsed){n=i.cloneNode(!0);n.id="_baidu_bookmark_end_"+(t?"":s++)}this.insertNode(i);n&&this.collapse().insertNode(n).setEndBefore(n);this.setStartAfter(i);return{start:e?i.id:i,end:n?e?n.id:n:null,id:e}},moveToBookmark:function(e){var t=e.id?this.document.getElementById(e.start):e.start,n=e.end&&e.id?this.document.getElementById(e.end):e.end;this.setStartBefore(t);domUtils.remove(t);if(n){this.setEndBefore(n);domUtils.remove(n)}else this.collapse(!0);return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},getClosedNode:function(){var e,n,i;if(!this.collapsed){n=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(t(n)){i=n.startContainer.childNodes[n.startOffset];i&&1==i.nodeType&&(dtd.$empty[i.tagName]||dtd.$nonChild[i.tagName])&&(e=i)}}return e},select:browser.ie?function(e,t){var n,r,s,d,c,u,f,h;this.collapsed||this.shrinkBoundary();r=this.getClosedNode();if(r&&!t){try{n=this.document.body.createControlRange();n.addElement(r);n.select()}catch(e){}return this}s=this.createBookmark(),d=s.start;n=this.document.body.createTextRange();n.moveToElementText(d);n.moveStart("character",1);if(this.collapsed){if(!e&&3!=this.startContainer.nodeType){f=this.document.createTextNode(l),h=this.document.createElement("span");h.appendChild(this.document.createTextNode(l));d.parentNode.insertBefore(h,d);d.parentNode.insertBefore(f,d);i(this.document,f);a=f;o(h,"previousSibling");o(d,"nextSibling");n.moveStart("character",-1);n.collapse(!0)}}else{u=this.document.body.createTextRange();c=s.end;u.moveToElementText(c);n.setEndPoint("EndToEnd",u)}this.moveToBookmark(s);h&&domUtils.remove(h);try{n.select()}catch(e){}return this}:function(e){function t(e){function t(t,n,i){3==t.nodeType&&t.nodeValue.length<n&&(e[i+"Offset"]=t.nodeValue.length)}t(e.startContainer,e.startOffset,"start");t(e.endContainer,e.endOffset,"end")}var n,r,s,d,c=domUtils.getWindow(this.document),u=c.getSelection();browser.gecko?this.body.focus():c.focus();if(u){u.removeAllRanges();if(this.collapsed&&!e){r=this.startContainer,s=r;1==r.nodeType&&(s=r.childNodes[this.startOffset]);if((3!=r.nodeType||!this.startOffset)&&(s?!s.previousSibling||3!=s.previousSibling.nodeType:!r.lastChild||3!=r.lastChild.nodeType)){n=this.document.createTextNode(l);this.insertNode(n);i(this.document,n);o(n,"previousSibling");o(n,"nextSibling");a=n;this.setStart(n,browser.webkit?1:0).collapse(!0)}}d=this.document.createRange();if(this.collapsed&&browser.opera&&1==this.startContainer.nodeType){s=this.startContainer.childNodes[this.startOffset];if(s){for(;s&&domUtils.isBlockElm(s)&&1==s.nodeType&&s.childNodes[0];)s=s.childNodes[0];s&&this.setStartBefore(s).collapse(!0)}else{s=this.startContainer.lastChild;s&&domUtils.isBr(s)&&this.setStartBefore(s).collapse(!0)}}t(this);d.setStart(this.startContainer,this.startOffset);d.setEnd(this.endContainer,this.endOffset);u.addRange(d)}return this},createAddress:function(e,t){function n(e){var n,i,r,a,s,l=e?o.startContainer:o.endContainer,d=domUtils.findParents(l,!0,function(e){return!domUtils.isBody(e)}),c=[];for(n=0;i=d[n++];)c.push(domUtils.getNodeIndex(i,t));r=0;if(t)if(3==l.nodeType){a=l.previousSibling;for(;a&&3==a.nodeType;){r+=a.nodeValue.replace(fillCharReg,"").length;a=a.previousSibling}r+=e?o.startOffset:o.endOffset}else{l=l.childNodes[e?o.startOffset:o.endOffset];if(l)r=domUtils.getNodeIndex(l,t);else{l=e?o.startContainer:o.endContainer;s=l.firstChild;for(;s;)if(domUtils.isFillChar(s))s=s.nextSibling;else{r++;if(3==s.nodeType)for(;s&&3==s.nodeType;)s=s.nextSibling;else s=s.nextSibling}}}else r=e?domUtils.isFillChar(l)?0:o.startOffset:o.endOffset;r<0&&(r=0);c.push(r);return c}var i={},o=this;i.startAddress=n(!0);e||(i.endAddress=o.collapsed?[].concat(i.startAddress):n());return i},moveToAddress:function(e,t){function n(e,t){var n,o,r,a,s,l=i.body;for(r=0,s=e.length;r<s;r++){a=e[r];n=l;l=l.childNodes[a];if(!l){o=a;break}}t?l?i.setStartBefore(l):i.setStart(n,o):l?i.setEndBefore(l):i.setEnd(n,o)}var i=this;n(e.startAddress,!0);!t&&e.endAddress&&n(e.endAddress);return i},equals:function(e){for(var t in this)if(this.hasOwnProperty(t)&&this[t]!==e[t])return!1;return!0},scrollIntoView:function(){var e,t,n,i=$('<span style="padding:0;margin:0;display:block;border:0">&nbsp;</span>');this.cloneRange().insertNode(i.get(0));e=$(window).scrollTop(),t=$(window).height(),n=i.offset().top;(n<e-t||n>e+t)&&(n>e+t?window.scrollTo(0,n-t+i.height()):window.scrollTo(0,e-n));i.remove()},getOffset:function(){var e=this.createBookmark(),t=$(e.start).css("display","inline-block").offset();this.moveToBookmark(e);return t}}}();!function(){function e(e,t){var n,i,o,r,a,s,l,d,c,u,f,h=domUtils.getNodeIndex;e=e.duplicate();e.collapse(t);n=e.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};i=n.children,r=e.duplicate(),a=0,s=i.length-1,l=-1;for(;a<=s;){l=Math.floor((a+s)/2);o=i[l];r.moveToElementText(o);c=r.compareEndPoints("StartToStart",e);if(c>0)s=l-1;else{if(!(c<0))return{container:n,offset:h(o)};a=l+1}}if(l==-1){r.moveToElementText(n);r.setEndPoint("StartToStart",e);d=r.text.replace(/(\r\n|\r)/g,"\n").length;i=n.childNodes;if(!d){o=i[i.length-1];return{container:o,offset:o.nodeValue.length}}u=i.length;for(;d>0;)d-=i[--u].nodeValue.length;return{container:i[u],offset:-d}}r.collapse(c>0);r.setEndPoint(c>0?"StartToStart":"EndToStart",e);d=r.text.replace(/(\r\n|\r)/g,"\n").length;if(!d)return dtd.$empty[o.tagName]||dtd.$nonChild[o.tagName]?{container:n,offset:h(o)+(c>0?0:1)}:{container:o,offset:c>0?0:o.childNodes.length};for(;d>0;)try{f=o;o=o[c>0?"previousSibling":"nextSibling"];d-=o.nodeValue.length}catch(e){return{container:n,offset:h(f)}}return{container:o,offset:c>0?-d:o.nodeValue.length+d}}function t(t,n){if(t.item)n.selectNode(t.item(0));else{var i=e(t,!0);n.setStart(i.container,i.offset);if(0!=t.compareEndPoints("StartToEnd",t)){i=e(t,!1);n.setEnd(i.container,i.offset)}}return n}function n(e,t){var n,i;try{n=e.getNative(t).createRange()}catch(e){return null}i=n.item?n.item(0):n.parentElement();return(i.ownerDocument||i)===e.document?n:null}var i=dom.Selection=function(e,t){var i=this;i.document=e;i.body=t;browser.ie9below&&$(t).on("beforedeactivate",function(){i._bakIERange=i.getIERange()}).on("activate",function(){try{var e=n(i);e&&i.rangeInBody(e)||!i._bakIERange||i._bakIERange.select()}catch(e){}i._bakIERange=null})};i.prototype={hasNativeRange:function(){var e,t;if(!browser.ie||browser.ie9above){t=this.getNative();if(!t.rangeCount)return!1;e=t.getRangeAt(0)}else e=n(this);return this.rangeInBody(e)},getNative:function(e){var t=this.document;try{return t?browser.ie9below||e?t.selection:domUtils.getWindow(t).getSelection():null}catch(e){return null}},getIERange:function(e){var t=n(this,e);return t&&this.rangeInBody(t,e)||!this._bakIERange?t:this._bakIERange},rangeInBody:function(e,t){var n=browser.ie9below||t?e.item?e.item():e.parentElement():e.startContainer;return n===this.body||domUtils.inDoc(n,this.body)},cache:function(){this.clear();this._cachedRange=this.getRange();this._cachedStartElement=this.getStart();this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;
var e=this.getStart();return e?domUtils.findParents(e,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){return this.hasNativeRange()},getRange:function(){function e(e){for(var t=s.body.firstChild,n=e.collapsed;t&&t.firstChild;){e.setStart(t,0);t=t.firstChild}e.startContainer||e.setStart(s.body,0);n&&e.collapse(!0)}var n,i,o,r,a,s=this;if(null!=s._cachedRange)return this._cachedRange;n=new dom.Range(s.document,s.body);if(browser.ie9below){i=s.getIERange();if(i&&this.rangeInBody(i))try{t(i,n)}catch(t){e(n)}else e(n)}else{o=s.getNative();if(o&&o.rangeCount&&s.rangeInBody(o.getRangeAt(0))){r=o.getRangeAt(0);a=o.getRangeAt(o.rangeCount-1);n.setStart(r.startContainer,r.startOffset).setEnd(a.endContainer,a.endOffset);n.collapsed&&domUtils.isBody(n.startContainer)&&!n.startOffset&&e(n)}else{if(this._bakRange&&(this._bakRange.startContainer===this.body||domUtils.inDoc(this._bakRange.startContainer,this.body)))return this._bakRange;e(n)}}return this._bakRange=n},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var e,t,n,i,o=browser.ie9below?this.getIERange():this.getRange();if(browser.ie9below){if(!o)return this.document.body.firstChild;if(o.item)return o.item(0);e=o.duplicate();e.text.length>0&&e.moveStart("character",1);e.collapse(1);t=e.parentElement();i=n=o.parentElement();for(;n=n.parentNode;)if(n==t){t=i;break}}else{t=o.startContainer;1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,o.startOffset)]);if(3==t.nodeType)return t.parentNode}return t},getText:function(){var e,t;if(this.isFocus()&&(e=this.getNative())){t=browser.ie9below?e.createRange():e.getRangeAt(0);return browser.ie9below?t.text:t.toString()}return""}}}();!function(){function e(e,t){var n,i,o,r;if(t.textarea)if(utils.isString(t.textarea)){for(i=0,r=domUtils.getElementsByTagName(e,"textarea");o=r[i++];)if(o.id=="umeditor_textarea_"+t.options.textarea){n=o;break}}else n=t.textarea;if(!n){e.appendChild(n=domUtils.createElement(document,"textarea",{name:t.options.textarea,id:"umeditor_textarea_"+t.options.textarea,style:"display:none"}));t.textarea=n}n.value=t.hasContents()?t.options.allHtmlEnabled?t.getAllHtml():t.getContent(null,null,!0):""}function t(e){for(var t in UM.plugins)if(e.options.excludePlugins.indexOf(t)==-1){UM.plugins[t].call(e);e.plugins[t]=1}e.langIsReady=!0;e.fireEvent("langReady")}function n(e){for(var t in e)return t}var i,o=0,r=UM.Editor=function(e){var i=this;i.uid=o++;EventBase.call(i);i.commands={};i.options=utils.extend(utils.clone(e||{}),UMEDITOR_CONFIG,!0);i.shortcutkeys={};i.inputRules=[];i.outputRules=[];i.setOpt({isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,enterTag:"p",lang:"zh-cn",langPath:i.options.UMEDITOR_HOME_URL+"lang/",theme:"default",themePath:i.options.UMEDITOR_HOME_URL+"themes/",allHtmlEnabled:!1,autoSyncData:!0,autoHeightEnabled:!0,excludePlugins:""});i.plugins={};if(utils.isEmptyObject(UM.I18N))utils.loadFile(document,{src:i.options.langPath+i.options.lang+"/"+i.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){t(i)});else{i.options.lang=n(UM.I18N);t(i)}};r.prototype={ready:function(e){var t=this;e&&(t.isReady?e.apply(t):t.addListener("ready",e))},setOpt:function(e,t){var n={};utils.isString(e)?n[e]=t:n=e;utils.extend(this.options,n,!0)},getOpt:function(e){return this.options[e]||""},destroy:function(){var e,t,n,i=this;i.fireEvent("destroy");e=i.container.parentNode;e===document.body&&(e=i.container);t=i.textarea;if(t)t.style.display="";else{t=document.createElement("textarea");e.parentNode.insertBefore(t,e)}t.style.width=i.body.offsetWidth+"px";t.style.height=i.body.offsetHeight+"px";t.value=i.getContent();t.id=i.key;e.contains(t)&&$(t).insertBefore(e);e.innerHTML="";domUtils.remove(e);UM.clearCache(i.id);for(n in i)i.hasOwnProperty(n)&&delete this[n]},initialCont:function(e){if(e){e.getAttribute("name")&&(this.options.textarea=e.getAttribute("name"));if(e&&/script|textarea/gi.test(e.tagName)){var t=document.createElement("div");e.parentNode.insertBefore(t,e);this.options.initialContent=UM.htmlparser(e.value||e.innerHTML||this.options.initialContent).toHtml();e.className&&(t.className=e.className);e.style.cssText&&(t.style.cssText=e.style.cssText);if(/textarea/i.test(e.tagName)){this.textarea=e;this.textarea.style.display="none"}else{e.parentNode.removeChild(e);e.id&&(t.id=e.id)}e=t;e.innerHTML=""}return e}return null},render:function(e){var t,n=this,i=n.options,o=function(t){return parseInt($(e).css(t))};utils.isString(e)&&(e=document.getElementById(e));if(e){this.id=e.getAttribute("id");UM.setEditor(this);utils.cssRule("edui-style-body",n.options.initialStyle,document);e=this.initialCont(e);e.className+=" edui-body-container";i.initialFrameWidth?i.minFrameWidth=i.initialFrameWidth:i.minFrameWidth=i.initialFrameWidth=$(e).width()||UM.defaultWidth;i.initialFrameHeight?i.minFrameHeight=i.initialFrameHeight:i.initialFrameHeight=i.minFrameHeight=$(e).height()||UM.defaultHeight;e.style.width=/%$/.test(i.initialFrameWidth)?"100%":i.initialFrameWidth-o("padding-left")-o("padding-right")+"px";t=/%$/.test(i.initialFrameHeight)?"100%":i.initialFrameHeight-o("padding-top")-o("padding-bottom");if(this.options.autoHeightEnabled){e.style.minHeight=t+"px";e.style.height="";if(browser.ie&&browser.version<=6){e.style.height=t;e.style.setExpression("height","this.scrollHeight <= "+t+' ? "'+t+'px" : "auto"')}}else $(e).height(t);e.style.zIndex=i.zIndex;this._setup(e)}},_setup:function(t){var n,i,o,r=this,a=r.options;t.contentEditable=!0;document.body.spellcheck=!1;r.document=document;r.window=document.defaultView||document.parentWindow;r.body=t;r.$body=$(t);r.selection=new dom.Selection(document,r.body);r._isEnabled=!1;browser.gecko&&(n=this.selection.getNative())&&n.removeAllRanges();this._initEvents();for(i=t.parentNode;i&&!domUtils.isBody(i);i=i.parentNode)if("FORM"==i.tagName){r.form=i;r.options.autoSyncData?$(t).on("blur",function(){e(i,r)}):$(i).on("submit",function(){e(this,r)});break}if(a.initialContent)if(a.autoClearinitialContent){o=r.execCommand;r.execCommand=function(){r.fireEvent("firstBeforeExecCommand");return o.apply(r,arguments)};this._setDefaultContent(a.initialContent)}else this.setContent(a.initialContent,!1,!0);domUtils.isEmptyNode(r.body)&&(r.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>");a.focus&&setTimeout(function(){r.focus(r.options.focusInEnd);!r.options.autoClearinitialContent&&r._selectionChange()},0);r.container||(r.container=t.parentNode);r._bindshortcutKeys();r.isReady=1;r.fireEvent("ready");a.onready&&a.onready.call(r);browser.ie&&!browser.ie9above||$(r.body).on("blur focus",function(e){var t=r.selection.getNative();if("blur"==e.type)t.rangeCount>0&&(r._bakRange=t.getRangeAt(0));else{try{r._bakRange&&t.addRange(r._bakRange)}catch(e){}r._bakRange=null}});!a.isShow&&r.setHide();a.readonly&&r.setDisabled()},sync:function(t){var n=this,i=t?document.getElementById(t):domUtils.findParent(n.body.parentNode,function(e){return"FORM"==e.tagName},!0);i&&e(i,n)},setHeight:function(e,t){!t&&(this.options.initialFrameHeight=e);if(this.options.autoHeightEnabled){$(this.body).css({"min-height":e+"px"});if(browser.ie&&browser.version<=6&&this.container){this.container.style.height=e;this.container.style.setExpression("height","this.scrollHeight <= "+e+' ? "'+e+'px" : "auto"')}}else $(this.body).height(e);this.fireEvent("resize")},setWidth:function(e){this.$container&&this.$container.width(e);$(this.body).width(e-1*$(this.body).css("padding-left").replace("px","")-1*$(this.body).css("padding-right").replace("px",""));this.fireEvent("resize")},addshortcutkey:function(e,t){var n={};t?n[e]=t:n=e;utils.extend(this.shortcutkeys,n)},_bindshortcutKeys:function(){var e=this,t=this.shortcutkeys;e.addListener("keydown",function(n,i){var o,r,a,s,l,d,c=i.keyCode||i.which;for(o in t){r=t[o].split(",");for(a=0;s=r[a++];){s=s.split(":");l=s[0],d=s[1];if((/^(ctrl)(\+shift)?\+(\d+)$/.test(l.toLowerCase())||/^(\d+)$/.test(l))&&(("ctrl"==RegExp.$1?i.ctrlKey||i.metaKey:0)&&(""!=RegExp.$2?i[RegExp.$2.slice(1)+"Key"]:1)&&c==RegExp.$3||c==RegExp.$1)){e.queryCommandState(o,d)!=-1&&e.execCommand(o,d);domUtils.preventDefault(i)}}}})},getContent:function(e,t,n,i,o){var r,a=this;if(e&&utils.isFunction(e)){t=e;e=""}if(t?!t():!this.hasContents())return"";a.fireEvent("beforegetcontent");r=UM.htmlparser(a.body.innerHTML,i);a.filterOutputRule(r);a.fireEvent("aftergetcontent",r);return r.toHtml(o)},getAllHtml:function(){var e,t=this,n=[];t.fireEvent("getAllHtml",n);if(browser.ie&&browser.version>8){e="";utils.each(t.document.styleSheets,function(t){e+=t.href?'<link rel="stylesheet" type="text/css" href="'+t.href+'" />':"<style>"+t.cssText+"</style>"});utils.each(t.document.getElementsByTagName("script"),function(t){e+=t.outerHTML})}return"<html><head>"+(t.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+t.options.charset+'"/>':"")+(e||t.document.getElementsByTagName("head")[0].innerHTML)+n.join("\n")+"</head><body "+(ie&&browser.version<9?'class="view"':"")+">"+t.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var e=new RegExp(domUtils.fillChar,"g"),t=this.body.innerHTML.replace(/[\n\r]/g,"");t=t.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>\/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(e,t,n){return dtd.$block[n]?"\n":t?t:""});return t.replace(e,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var e=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(e,"").replace(/\u00a0/g," ")},setContent:function(t,n,i){function o(e){return"DIV"==e.tagName&&e.getAttribute("cdata_tag")}var r,a,s,l,d,c=this;c.fireEvent("beforesetcontent",t);r=UM.htmlparser(t);c.filterInputRule(r);t=r.toHtml();c.body.innerHTML=(n?c.body.innerHTML:"")+t;if("p"==c.options.enterTag){a=this.body.firstChild;if(!a||1==a.nodeType&&(dtd.$cdata[a.tagName]||o(a)||domUtils.isCustomeNode(a))&&a===this.body.lastChild)this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else{l=c.document.createElement("p");for(;a;){for(;a&&(3==a.nodeType||1==a.nodeType&&dtd.p[a.tagName]&&!dtd.$cdata[a.tagName]);){s=a.nextSibling;l.appendChild(a);a=s}if(l.firstChild){if(!a){c.body.appendChild(l);break}a.parentNode.insertBefore(l,a);l=c.document.createElement("p")}a=a.nextSibling}}}c.fireEvent("aftersetcontent");c.fireEvent("contentchange");!i&&c._selectionChange();c._bakRange=c._bakIERange=c._bakNativeRange=null;browser.gecko&&(d=this.selection.getNative())&&d.removeAllRanges();c.options.autoSyncData&&c.form&&e(c.form,c)},focus:function(e){try{var t=this,n=t.selection.getRange();e?n.setStartAtLast(t.body.lastChild).setCursor(!1,!0):n.select(!0);this.fireEvent("focus")}catch(e){}},blur:function(){var e=this.selection.getNative();e.empty?e.empty():e.removeAllRanges();this.fireEvent("blur")},isFocus:function(){return this.fireEvent("isfocus")===!0||this.selection.isFocus()},_initEvents:function(){var e=this,t=e.body,n=function(){e._proxyDomEvent.apply(e,arguments)};$(t).on("click contextmenu mousedown keydown keyup keypress mouseup mouseover mouseout selectstart",n).on("focus blur",n).on("mouseup keydown",function(t){"keydown"==t.type&&(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)||2!=t.button&&e._selectionChange(250,t)})},_proxyDomEvent:function(e){return this.fireEvent(e.type.replace(/^on/,""),e)},_selectionChange:function(e,t){var n,o,r,a=this,s=!1;if(browser.ie&&browser.version<9&&t&&"mouseup"==t.type){r=this.selection.getRange();if(!r.collapsed){s=!0;n=t.clientX;o=t.clientY}}clearTimeout(i);i=setTimeout(function(){var e,i;if(a.selection.getNative()){if(s&&"None"==a.selection.getNative().type){e=a.document.body.createTextRange();try{e.moveToPoint(n,o)}catch(t){e=null}}if(e){i=a.selection.getIERange;a.selection.getIERange=function(){return e}}a.selection.cache();i&&(a.selection.getIERange=i);if(a.selection._cachedRange&&a.selection._cachedStartElement){a.fireEvent("beforeselectionchange");a.fireEvent("selectionchange",!!t);a.fireEvent("afterselectionchange");a.selection.clear()}}},e||50)},_callCmdFn:function(e,t){t=Array.prototype.slice.call(t,0);var n,i,o=t.shift().toLowerCase();n=this.commands[o]||UM.commands[o];i=n&&n[e];return n&&i||"queryCommandState"!=e?i?i.apply(this,[o].concat(t)):void 0:0},execCommand:function(e){var t,n,i,o;if(!this.isFocus()){t=this.selection._bakRange;t?t.select():this.focus(!0)}e=e.toLowerCase();n=this,o=n.commands[e]||UM.commands[e];if(!o||!o.execCommand)return null;if(o.notNeedUndo||n.__hasEnterExecCommand){i=this._callCmdFn("execCommand",arguments);!n.__hasEnterExecCommand&&!o.ignoreContentChange&&!n._ignoreContentChange&&n.fireEvent("contentchange")}else{n.__hasEnterExecCommand=!0;if(n.queryCommandState.apply(n,arguments)!=-1){n.fireEvent("saveScene");n.fireEvent("beforeexeccommand",e);i=this._callCmdFn("execCommand",arguments);!o.ignoreContentChange&&!n._ignoreContentChange&&n.fireEvent("contentchange");n.fireEvent("afterexeccommand",e);n.fireEvent("saveScene")}n.__hasEnterExecCommand=!1}!n.__hasEnterExecCommand&&!o.ignoreContentChange&&!n._ignoreContentChange&&n._selectionChange();return i},queryCommandState:function(e){try{return this._callCmdFn("queryCommandState",arguments)}catch(e){return 0}},queryCommandValue:function(e){try{return this._callCmdFn("queryCommandValue",arguments)}catch(e){return null}},hasContents:function(e){var t,n,i,o,r;if(e)for(t=0;n=e[t++];)if(this.body.getElementsByTagName(n).length>0)return!0;if(!domUtils.isEmptyBlock(this.body))return!0;e=["div"];for(t=0;n=e[t++];){i=domUtils.getElementsByTagName(this.body,n);for(o=0;r=i[o++];)if(domUtils.isCustomeNode(r))return!0}return!1},reset:function(){this.fireEvent("reset")},isEnabled:function(){return 1!=this._isEnabled},setEnabled:function(){var e,t=this;t.body.contentEditable=!0;if(t.lastBk){e=t.selection.getRange();try{e.moveToBookmark(t.lastBk);delete t.lastBk}catch(n){e.setStartAtFirst(t.body).collapse(!0)}e.select(!0)}if(t.bkqueryCommandState){t.queryCommandState=t.bkqueryCommandState;delete t.bkqueryCommandState}if(t._bkproxyDomEvent){t._proxyDomEvent=t._bkproxyDomEvent;delete t._bkproxyDomEvent}t.fireEvent("setEnabled")},enable:function(){return this.setEnabled()},setDisabled:function(e,t){var n=this;n.body.contentEditable=!1;n._except=e?utils.isArray(e)?e:[e]:[];n.lastBk||(n.lastBk=n.selection.getRange().createBookmark(!0));if(!n.bkqueryCommandState){n.bkqueryCommandState=n.queryCommandState;n.queryCommandState=function(e){return utils.indexOf(n._except,e)!=-1?n.bkqueryCommandState.apply(n,arguments):-1}}if(!t&&!n._bkproxyDomEvent){n._bkproxyDomEvent=n._proxyDomEvent;n._proxyDomEvent=function(){return!1}}n.fireEvent("selectionchange");n.fireEvent("setDisabled",n._except)},disable:function(e){return this.setDisabled(e)},_setDefaultContent:function(){function e(){var t=this;if(t.document.getElementById("initContent")){t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>";t.removeListener("firstBeforeExecCommand focus",e);setTimeout(function(){t.focus();t._selectionChange()},0)}}return function(t){var n=this;n.body.innerHTML='<p id="initContent">'+t+"</p>";n.addListener("firstBeforeExecCommand focus",e)}}(),setShow:function(){var e=this,t=e.selection.getRange();if("none"==e.container.style.display){try{t.moveToBookmark(e.lastBk);delete e.lastBk}catch(n){t.setStartAtFirst(e.body).collapse(!0)}setTimeout(function(){t.select(!0)},100);e.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var e=this;e.lastBk||(e.lastBk=e.selection.getRange().createBookmark(!0));e.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(e){var t,n,i=UM.I18N[this.options.lang];if(!i)throw Error("not import language file");e=(e||"").split(".");for(t=0;n=e[t++];){i=i[n];if(!i)break}return i},getContentLength:function(e,t){var n,i,o=this.getContent(!1,!1,!0).length;if(e){t=(t||[]).concat(["hr","img","iframe"]);o=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(n=0;i=t[n++];)o+=this.body.getElementsByTagName(i).length}return o},addInputRule:function(e,t){e.ignoreUndo=t;this.inputRules.push(e)},filterInputRule:function(e,t){for(var n,i=0;n=this.inputRules[i++];)t&&n.ignoreUndo||n.call(this,e)},addOutputRule:function(e,t){e.ignoreUndo=t;this.outputRules.push(e)},filterOutputRule:function(e,t){for(var n,i=0;n=this.outputRules[i++];)t&&n.ignoreUndo||n.call(this,e)}};utils.inherits(r,EventBase)}();filterWord=UM.filterWord=function(){function e(e){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(e)}function t(e){e=e.replace(/[\d.]+\w+/g,function(e){return utils.transUnitToPx(e)});return e}function n(e){return e.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(e){if(browser.opera)return"";try{if(/Bitmap/i.test(e))return"";var n=e.match(/width:([ \d.]*p[tx])/i)[1],i=e.match(/height:([ \d.]*p[tx])/i)[1],o=e.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+t(n)+'" height="'+t(i)+'" src="'+o+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,function(e,t,n,i){return"class"==t&&"MsoListParagraph"==i?e:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(e,t,n){return n.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(e,n,i,o){var r,a,s,l,d,c=[],u=o.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g);for(r=0;a=u[r];r++){d=a.split(":");if(2==d.length){s=d[0].toLowerCase();l=d[1].toLowerCase();if(/^(background)\w*/.test(s)&&0==l.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(s)&&/^0\w+$/.test(l))continue;switch(s){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(n)||(c[r]=s.replace(/^mso-|-alt$/g,"")+":"+t(l));continue;case"horiz-align":c[r]="text-align:"+l;continue;case"vert-align":c[r]="vertical-align:"+l;continue;case"font-color":case"mso-foreground":c[r]="color:"+l;continue;case"mso-background":case"mso-highlight":c[r]="background:"+l;continue;case"mso-default-height":c[r]="min-height:"+t(l);continue;case"mso-default-width":c[r]="min-width:"+t(l);continue;case"mso-padding-between-alt":c[r]="border-collapse:separate;border-spacing:"+t(l);continue;case"text-line-through":"single"!=l&&"double"!=l||(c[r]="text-decoration:line-through");continue;case"mso-zero-height":"yes"==l&&(c[r]="display:none");continue;case"margin":if(!/[1-9]/.test(l))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(s)||/text\-indent|padding|margin/.test(s)&&/\-[\d.]+/.test(l))continue;c[r]=s+":"+d[1]}}return n+(c.length?' style="'+c.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d.]+(cm|pt)/g,function(e){return utils.transUnitToPx(e)})}return function(t){return e(t)?n(t):t}}();!function(){function e(e,t,n){e.push(h);return t+(n?1:-1)}function t(e,t){for(var n=0;n<t;n++)e.push(f)}function n(a,s,l,d){switch(a.type){case"root":for(var c,u=0;c=a.children[u++];){if(l&&"element"==c.type&&!dtd.$inlineWithA[c.tagName]&&u>1){e(s,d,!0);t(s,d)}n(c,s,l,d)}break;case"text":i(a,s);break;case"element":o(a,s,l,d);break;case"comment":r(a,s,l)}return s}function i(e,t){"pre"==e.parentNode.tagName?t.push(e.data):t.push(u[e.parentNode.tagName]?utils.html(e.data):e.data.replace(/[ ]{2}/g," &nbsp;"))}function o(i,o,r,a){var s,l,d,u,f="";if(i.attrs){f=[];s=i.attrs;for(l in s)f.push(l+(void 0!==s[l]?'="'+(c[l]?utils.html(s[l]).replace(/["]/g,function(e){return"&quot;"}):utils.unhtml(s[l]))+'"':""));f=f.join(" ")}o.push("<"+i.tagName+(f?" "+f:"")+(dtd.$empty[i.tagName]?"/":"")+">");if(r&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length){a=e(o,a,!0);t(o,a)}if(i.children&&i.children.length)for(d=0;u=i.children[d++];){if(r&&"element"==u.type&&!dtd.$inlineWithA[u.tagName]&&d>1){e(o,a);t(o,a)}n(u,o,r,a)}if(!dtd.$empty[i.tagName]){if(r&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length){a=e(o,a);t(o,a)}o.push("</"+i.tagName+">")}}function r(e,t){t.push("<!--"+e.data+"-->")}function a(e,t){var n,i,o;if("element"==e.type&&e.getAttr("id")==t)return e;if(e.children&&e.children.length)for(i=0;o=e.children[i++];)if(n=a(o,t))return n}function s(e,t,n){"element"==e.type&&e.tagName==t&&n.push(e);if(e.children&&e.children.length)for(var i,o=0;i=e.children[o++];)s(i,t,n)}function l(e,t){if(e.children&&e.children.length)for(var n,i=0;n=e.children[i];){l(n,t);if(n.parentNode){n.children&&n.children.length&&t(n);n.parentNode&&i++}}else t(e)}var d=UM.uNode=function(e){this.type=e.type;this.data=e.data;this.tagName=e.tagName;this.parentNode=e.parentNode;this.attrs=e.attrs||{};this.children=e.children},c={href:1,src:1,_src:1,_href:1,cdata_data:1},u={style:1,script:1},f="    ",h="\n";d.createElement=function(e){return/[<>]/.test(e)?UM.htmlparser(e).children[0]:new d({type:"element",children:[],tagName:e})};d.createText=function(e,t){return new UM.uNode({type:"text",data:t?e:utils.unhtml(e||"")})};d.prototype={toHtml:function(e){var t=[];n(this,t,e,0);return t.join("")},innerHTML:function(e){var t,n,i;if("element"!=this.type||dtd.$empty[this.tagName])return this;if(utils.isString(e)){if(this.children)for(t=0;n=this.children[t++];)n.parentNode=null;this.children=[];i=UM.htmlparser(e);for(t=0;n=i.children[t++];){this.children.push(n);n.parentNode=this}return this}i=new UM.uNode({type:"root",children:this.children});return i.toHtml()},innerText:function(e,t){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(e){if(this.children)for(var n,i=0;n=this.children[i++];)n.parentNode=null;this.children=[];this.appendChild(d.createText(e,t));return this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){var e,t,n=this.parentNode;for(e=0;t=n.children[e];e++)if(t===this)return 0==e?null:n.children[e-1]},nextSibling:function(){var e,t,n=this.parentNode;for(e=0;t=n.children[e++];)if(t===this)return n.children[e]},replaceChild:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t){this.children.splice(i,1,e);t.parentNode=null;e.parentNode=this;return e}}},appendChild:function(e){if("root"==this.type||"element"==this.type&&!dtd.$empty[this.tagName]){this.children||(this.children=[]);e.parentNode&&e.parentNode.removeChild(e);for(var t,n=0;t=this.children[n];n++)if(t===e){this.children.splice(n,1);break}this.children.push(e);e.parentNode=this;return e}},insertBefore:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t){this.children.splice(i,0,e);e.parentNode=this;return e}}},insertAfter:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t){this.children.splice(i+1,0,e);e.parentNode=this;return e}}},removeChild:function(e,t){var n,i,o,r;if(this.children)for(n=0;i=this.children[n];n++)if(i===e){this.children.splice(n,1);i.parentNode=null;if(t&&i.children&&i.children.length)for(o=0;r=i.children[o];o++){this.children.splice(n+o,0,r);r.parentNode=this}return i}},getAttr:function(e){return this.attrs&&this.attrs[e.toLowerCase()]},setAttr:function(e,t){if(e){this.attrs||(this.attrs={});if(utils.isObject(e))for(var n in e)e[n]?this.attrs[n.toLowerCase()]=e[n]:delete this.attrs[n];else t?this.attrs[e.toLowerCase()]=t:delete this.attrs[e]}else delete this.attrs},hasAttr:function(e){var t=this.getAttr(e);return null!==t&&void 0!==t},getIndex:function(){var e,t,n=this.parentNode;for(e=0;t=n.children[e];e++)if(t===this)return e;return-1},getNodeById:function(e){var t,n,i;if(this.children&&this.children.length)for(n=0;i=this.children[n++];)if(t=a(i,e))return t},getNodesByTagName:function(e){e=utils.trim(e).replace(/[ ]{2,}/g," ").split(" ");var t=[],n=this;utils.each(e,function(e){if(n.children&&n.children.length)for(var i,o=0;i=n.children[o++];)s(i,e,t)});return t},getStyle:function(e){var t,n,i=this.getAttr("style");if(!i)return"";t=new RegExp("(^|;)\\s*"+e+":([^;]+)","i");n=i.match(t);return n&&n[0]?n[2]:""},setStyle:function(e,t){function n(e,t){var n=new RegExp("(^|;)\\s*"+e+":([^;]+;?)","gi");o=o.replace(n,"$1");t&&(o=e+":"+utils.unhtml(t)+";"+o)}var i,o=this.getAttr("style");o||(o="");if(utils.isObject(e))for(i in e)n(i,e[i]);else n(e,t);this.setAttr("style",utils.trim(o))},hasClass:function(e){if(this.hasAttr("class")){var t=this.getAttr("class").split(/\s+/),n=!1;$.each(t,function(t,i){i===e&&(n=!0)});return n}return!1},addClass:function(e){var t=null,n=!1;if(this.hasAttr("class")){t=this.getAttr("class");t=t.split(/\s+/);t.forEach(function(t){t!==e||(n=!0)});!n&&t.push(e);this.setAttr("class",t.join(" "))}else this.setAttr("class",e)},removeClass:function(e){if(this.hasAttr("class")){var t=this.getAttr("class");t=t.replace(new RegExp("\\b"+e+"\\b","g"),"");this.setAttr("class",utils.trim(t).replace(/[ ]{2,}/g," "))}},traversal:function(e){this.children&&this.children.length&&l(this,e);return this}}}();htmlparser=UM.htmlparser=function(e,t){function n(e,t){if(l[e.tagName]){var n=a.createElement(l[e.tagName]);e.appendChild(n);n.appendChild(a.createText(t));e=n}else e.appendChild(a.createText(t))}function i(e,t,n){var o,l,d,c,u,f;if(o=s[t]){l=e;for(;"root"!=l.type;){if(utils.isArray(o)?utils.indexOf(o,l.tagName)!=-1:o==l.tagName){e=l;d=!0;break}l=l.parentNode}d||(e=i(e,utils.isArray(o)?o[0]:o))}c=new a({parentNode:e,type:"element",tagName:t.toLowerCase(),children:dtd.$empty[t]?null:[]});if(n){u={};for(;f=g.exec(n);)u[f[1].toLowerCase()]=r[f[1].toLowerCase()]?f[2]||f[3]||f[4]:utils.unhtml(f[2]||f[3]||f[4]);c.attrs=u}e.children.push(c);return dtd.$empty[t]?e:c}function o(e,t){e.children.push(new a({type:"comment",data:t,parentNode:e}))}var r,a,s,l,d,c,u,f,h,p,m=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,g=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,b={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};e=e.replace(new RegExp(domUtils.fillChar,"g"),"");t||(e=e.replace(new RegExp("[\\r\\t\\n"+(t?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(t?"":" ")+"]*","g"),function(e,n){return n&&b[n.toLowerCase()]?e.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):e.replace(new RegExp("^[\\r\\n"+(t?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(t?"":" ")+"]+$"),"")}));r={href:1,src:1};a=UM.uNode,s={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},l={ol:"li",ul:"li"};c=0,u=0;f=new a({type:"root",children:[]});h=f;for(;d=m.exec(e);){c=d.index;try{c>u&&n(h,e.slice(u,c));if(d[3])dtd.$cdata[h.tagName]?n(h,d[0]):h=i(h,d[3].toLowerCase(),d[4]);else if(d[1]){if("root"!=h.type)if(dtd.$cdata[h.tagName]&&!dtd.$cdata[d[1]])n(h,d[0]);else{p=h;for(;"element"==h.type&&h.tagName!=d[1].toLowerCase();){h=h.parentNode;if("root"==h.type){h=p;throw"break"}}h=h.parentNode}}else d[2]&&o(h,d[2])}catch(e){}u=m.lastIndex}u<e.length&&n(h,e.slice(u));return f};filterNode=UM.filterNode=function(){function e(t,n){var i,o,r,a,s,l,d,c,u,f;switch(t.type){case"text":break;case"element":if(i=n[t.tagName])if("-"===i)t.parentNode.removeChild(t);else if(utils.isFunction(i)){o=t.parentNode,r=t.getIndex();i(t);if(t.parentNode){if(t.children)for(a=0;s=t.children[a];){e(s,n);s.parentNode&&a++}}else for(a=r;s=o.children[a];){e(s,n);s.parentNode&&a++}}else{l=i["$"];if(l&&t.attrs){d={};for(u in l){c=t.getAttr(u);if("style"==u&&utils.isArray(l[u])){f=[];utils.each(l[u],function(e){var n;(n=t.getStyle(e))&&f.push(e+":"+n)});c=f.join(";")}c&&(d[u]=c)}t.attrs=d}if(t.children)for(a=0;s=t.children[a];){e(s,n);s.parentNode&&a++}}else if(dtd.$cdata[t.tagName])t.parentNode.removeChild(t);else{o=t.parentNode,r=t.getIndex();t.parentNode.removeChild(t,!0);for(a=r;s=o.children[a];){e(s,n);s.parentNode&&a++}}break;case"comment":t.parentNode.removeChild(t)}}return function(t,n){var i,o,r;if(utils.isEmptyObject(n))return t;(i=n["-"])&&utils.each(i.split(" "),function(e){n[e]="-"});for(o=0;r=t.children[o];){e(r,n);r.parentNode&&o++}return t}}();UM.commands["inserthtml"]={execCommand:function(e,t,n){var i,o,r,a,s,l,d,c,u,f,h,p,m,g,b=this;if(t&&b.fireEvent("beforeinserthtml",t)!==!0){i=b.selection.getRange();o=i.document.createElement("div");o.style.display="inline";if(!n){r=UM.htmlparser(t);b.options.filterRules&&UM.filterNode(r,b.options.filterRules);b.filterInputRule(r);t=r.toHtml()}o.innerHTML=utils.trim(t);if(!i.collapsed){a=i.startContainer;domUtils.isFillChar(a)&&i.setStartBefore(a);a=i.endContainer;domUtils.isFillChar(a)&&i.setEndAfter(a);i.txtToElmBoundary();if(i.endContainer&&1==i.endContainer.nodeType){a=i.endContainer.childNodes[i.endOffset];a&&domUtils.isBr(a)&&i.setEndAfter(a)}if(0==i.startOffset){a=i.startContainer;if(domUtils.isBoundaryNode(a,"firstChild")){a=i.endContainer;if(i.endOffset==(3==a.nodeType?a.nodeValue.length:a.childNodes.length)&&domUtils.isBoundaryNode(a,"lastChild")){b.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>";i.setStart(b.body.firstChild,0).collapse(!0)}}}!i.collapsed&&i.deleteContents();if(1==i.startContainer.nodeType){s=i.startContainer.childNodes[i.startOffset];if(s&&domUtils.isBlockElm(s)&&(l=s.previousSibling)&&domUtils.isBlockElm(l)){i.setEnd(l,l.childNodes.length).collapse();for(;s.firstChild;)l.appendChild(s.firstChild);domUtils.remove(s)}}}u=0;if(i.inFillChar()){s=i.startContainer;if(domUtils.isFillChar(s)){i.setStartBefore(s).collapse(!0);domUtils.remove(s)}else if(domUtils.isFillChar(s,!0)){s.nodeValue=s.nodeValue.replace(fillCharReg,"");i.startOffset--;i.collapsed&&i.collapse(!0)}}for(;s=o.firstChild;){if(u){h=b.document.createElement("p");for(;s&&(3==s.nodeType||!dtd.$block[s.tagName]);){f=s.nextSibling;h.appendChild(s);s=f}h.firstChild&&(s=h)}i.insertNode(s);f=s.nextSibling;if(!u&&s.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(s)){d=domUtils.findParent(s,function(e){return domUtils.isBlockElm(e)});if(d&&"body"!=d.tagName.toLowerCase()&&(!dtd[d.tagName][s.nodeName]||s.parentNode!==d)){if(dtd[d.tagName][s.nodeName]){c=s.parentNode;for(;c!==d;){l=c;c=c.parentNode}}else l=d;domUtils.breakParent(s,l||c);l=s.previousSibling;domUtils.trimWhiteTextNode(l);l.childNodes.length||domUtils.remove(l);!browser.ie&&(p=s.nextSibling)&&domUtils.isBlockElm(p)&&p.lastChild&&!domUtils.isBr(p.lastChild)&&p.appendChild(b.document.createElement("br"));u=1}}p=s.nextSibling;if(!o.firstChild&&p&&domUtils.isBlockElm(p)){i.setStart(p,0).collapse(!0);break}i.setEndAfter(s).collapse()}s=i.startContainer;f&&domUtils.isBr(f)&&domUtils.remove(f);if(domUtils.isBlockElm(s)&&domUtils.isEmptyNode(s))if(f=s.nextSibling){domUtils.remove(s);1==f.nodeType&&dtd.$block[f.tagName]&&i.setStart(f,0).collapse(!0).shrinkBoundary()}else try{s.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(e){i.setStartBefore(s);domUtils.remove(s)}try{if(browser.ie9below&&1==i.startContainer.nodeType&&!i.startContainer.childNodes[i.startOffset]){
m=i.startContainer,l=m.childNodes[i.startOffset-1];if(l&&1==l.nodeType&&dtd.$empty[l.tagName]){g=this.document.createTextNode(domUtils.fillChar);i.insertNode(g).setStart(g,0).collapse(!0)}}setTimeout(function(){i.select(!0)})}catch(e){}setTimeout(function(){i=b.selection.getRange();i.scrollIntoView();b.fireEvent("afterinserthtml")},200)}}};UM.commands["insertimage"]={execCommand:function(e,t){var n,i,o,r,a;t=utils.isArray(t)?t:[t];if(t.length){n=this;i=[],o="";r=t[0];if(1==t.length){o='<img src="'+r.src+'" '+(r._src?' _src="'+r._src+'" ':"")+(r.width?'width="'+r.width+'" ':"")+(r.height?' height="'+r.height+'" ':"")+("left"==r["floatStyle"]||"right"==r["floatStyle"]?' style="float:'+r["floatStyle"]+';"':"")+(r.title&&""!=r.title?' title="'+r.title+'"':"")+(r.border&&"0"!=r.border?' border="'+r.border+'"':"")+(r.alt&&""!=r.alt?' alt="'+r.alt+'"':"")+(r.hspace&&"0"!=r.hspace?' hspace = "'+r.hspace+'"':"")+(r.vspace&&"0"!=r.vspace?' vspace = "'+r.vspace+'"':"")+"/>";"center"==r["floatStyle"]&&(o='<p style="text-align: center">'+o+"</p>");i.push(o)}else for(a=0;r=t[a++];){o="<p "+("center"==r["floatStyle"]?'style="text-align: center" ':"")+'><img src="'+r.src+'" '+(r.width?'width="'+r.width+'" ':"")+(r._src?' _src="'+r._src+'" ':"")+(r.height?' height="'+r.height+'" ':"")+' style="'+(r["floatStyle"]&&"center"!=r["floatStyle"]?"float:"+r["floatStyle"]+";":"")+(r.border||"")+'" '+(r.title?' title="'+r.title+'"':"")+" /></p>";i.push(o)}n.execCommand("insertHtml",i.join(""),!0)}}};UM.plugins["justify"]=function(){var e=this;$.each("justifyleft justifyright justifycenter justifyfull".split(" "),function(t,n){e.commands[n]={execCommand:function(e){return this.document.execCommand(e)},queryCommandValue:function(e){var t=this.document.queryCommandValue(e);return t===!0||"true"===t?e.replace(/justify/,""):""},queryCommandState:function(e){return this.document.queryCommandState(e)?1:0}}})};UM.plugins["font"]=function(){var e,t=this,n={forecolor:"forecolor",backcolor:"backcolor",fontsize:"fontsize",fontfamily:"fontname"},i={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"},o={forecolor:"color",fontsize:"size",fontfamily:"face"};t.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"},{name:"sans-serif",val:"sans-serif"}],fontsize:[10,12,16,18,24,32,48]});t.addOutputRule(function(e){utils.each(e.getNodesByTagName("font"),function(e){var t,n,i;if("font"==e.tagName){t=[];for(n in e.attrs)switch(n){case"size":i=e.attrs[n];$.each({10:"1",12:"2",16:"3",18:"4",24:"5",32:"6",48:"7"},function(e,t){if(t==i){i=e;return!1}});t.push("font-size:"+i+"px");break;case"color":t.push("color:"+e.attrs[n]);break;case"face":t.push("font-family:"+e.attrs[n]);break;case"style":t.push(e.attrs[n])}e.attrs={style:t.join(";")}}e.tagName="span";if("span"==e.parentNode.tagName&&1==e.parentNode.children.length){$.each(e.attrs,function(t,n){e.parentNode.attrs[t]="style"==t?e.parentNode.attrs[t]+n:n});e.parentNode.removeChild(e,!0)}})});for(e in n)!function(e){t.commands[e]={execCommand:function(e,t){var o,r,a,s,l;if("transparent"!=t){o=this.selection.getRange();if(!o.collapsed){"fontsize"==e&&(t={10:"1",12:"2",16:"3",18:"4",24:"5",32:"6",48:"7"}[(t+"").replace(/px/,"")]);this.document.execCommand(n[e],!1,t);browser.gecko&&$.each(this.$body.find("a"),function(e,t){var n,i=t.parentNode;if(i.lastChild===i.firstChild&&/FONT|SPAN/.test(i.tagName)){n=i.cloneNode(!1);n.innerHTML=t.innerHTML;$(t).html("").append(n).insertBefore(i);$(i).remove()}});if(!browser.ie){a=this.selection.getNative().getRangeAt(0);s=a.commonAncestorContainer;o=this.selection.getRange(),l=o.createBookmark(!0);$(s).find("a").each(function(e,t){var n,i=t.parentNode;if("FONT"==i.nodeName){n=i.cloneNode(!1);n.innerHTML=t.innerHTML;$(t).html("").append(n)}});o.moveToBookmark(l).select()}return!0}r=$("<span></span>").css(i[e],t)[0];o.insertNode(r).setStart(r,0).setCursor()}},queryCommandValue:function(e){var n=t.selection.getStart(),r=$(n).css(i[e]);void 0===r&&(r=$(n).attr(o[e]));return r?utils.fixColor(e,r).replace(/px/,""):""},queryCommandState:function(e){return this.queryCommandValue(e)}}}(e)};UM.plugins["link"]=function(){var e=this;e.setOpt("autourldetectinie",!1);browser.ie&&this.options.autourldetectinie===!1&&this.addListener("keyup",function(e,t){var n,i,o,r=this,a=t.keyCode;if(13==a||32==a){n=r.selection.getRange();i=n.startContainer;if(13==a){if("P"==i.nodeName){o=i.previousSibling;if(o&&1==o.nodeType){o=o.lastChild;o&&"A"==o.nodeName&&!o.getAttribute("_href")&&domUtils.remove(o,!0)}}}else if(32==a&&3==i.nodeType&&/^\s$/.test(i.nodeValue)){i=i.previousSibling;i&&"A"==i.nodeName&&!i.getAttribute("_href")&&domUtils.remove(i,!0)}}});this.addOutputRule(function(e){$.each(e.getNodesByTagName("a"),function(e,t){var n=utils.html(t.getAttr("_href"));/^(ftp|https?|\/|file)/.test(n)||(n="http://"+n);t.setAttr("href",n);t.setAttr("_href");""==t.getAttr("title")&&t.setAttr("title")})});this.addInputRule(function(e){$.each(e.getNodesByTagName("a"),function(e,t){t.setAttr("_href",utils.html(t.getAttr("href")))})});e.commands["link"]={execCommand:function(e,t){var n,i=this,o=i.selection.getRange();if(o.collapsed){n=o.startContainer;if(n=domUtils.findParentByTagName(n,"a",!0)){$(n).attr(t);o.selectNode(n).select()}else o.insertNode($("<a>"+t.href+"</a>").attr(t)[0]).select()}else{i.document.execCommand("createlink",!1,"_umeditor_link");utils.each(domUtils.getElementsByTagName(i.body,"a",function(e){return"_umeditor_link"==e.getAttribute("href")}),function(e){"_umeditor_link"==$(e).text()&&$(e).text(t.href);domUtils.setAttributes(e,t);o.selectNode(e).select()})}},queryCommandState:function(){return this.queryCommandValue("link")?1:0},queryCommandValue:function(){var e,t=this.selection.getStartElementPath();$.each(t,function(t,n){if("A"==n.nodeName){e=n;return!1}});return e}};e.commands["unlink"]={execCommand:function(){this.document.execCommand("unlink")}}};UM.commands["print"]={execCommand:function(){var e,t,n=this,i="editor_print_"+ +new Date;$('<iframe src="" id="'+i+'" name="'+i+'" frameborder="0"></iframe>').attr("id",i).css({width:"0px",height:"0px",overflow:"hidden",float:"left",position:"absolute",top:"-10000px",left:"-10000px"}).appendTo(n.$container.find(".edui-dialog-container"));e=window.open("",i,""),t=e.document;t.open();t.write("<html><head></head><body><div>"+this.getContent(null,null,!0)+"</div><script>setTimeout(function(){window.print();setTimeout(function(){window.parent.$('#"+i+"').remove();},100);},200);</script></body></html>");t.close()},notNeedUndo:1};UM.plugins["paragraph"]=function(){var e=this;e.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""});e.commands["paragraph"]={execCommand:function(e,t){return this.document.execCommand("formatBlock",!1,"<"+t+">")},queryCommandValue:function(){try{var e=this.document.queryCommandValue("formatBlock")}catch(e){}return e}}};UM.plugins["horizontal"]=function(){var e=this;e.commands["horizontal"]={execCommand:function(){var t,n,i,o,r,a;this.document.execCommand("insertHorizontalRule");t=e.selection.getRange().txtToElmBoundary(!0),n=t.startContainer;if(domUtils.isBody(t.startContainer)){i=t.startContainer.childNodes[t.startOffset];i||(i=$("<p></p>").appendTo(t.startContainer).html(browser.ie?"&nbsp;":"<br/>")[0]);t.setStart(i,0).setCursor()}else{for(;dtd.$inline[n.tagName]&&n.lastChild===n.firstChild;){o=n.parentNode;o.appendChild(n.firstChild);o.removeChild(n);n=o}for(;dtd.$inline[n.tagName];)n=n.parentNode;if(1==n.childNodes.length&&"HR"==n.lastChild.nodeName){r=n.lastChild;$(r).insertBefore(n);t.setStart(n,0).setCursor()}else{r=$("hr",n)[0];domUtils.breakParent(r,n);a=r.previousSibling;a&&domUtils.isEmptyBlock(a)&&$(a).remove();t.setStart(r.nextSibling,0).setCursor()}}}}};UM.commands["cleardoc"]={execCommand:function(){var e=this,t=e.selection.getRange();e.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>";t.setStart(e.body.firstChild,0).setCursor(!1,!0);setTimeout(function(){e.fireEvent("clearDoc")},0)}};UM.plugins["undo"]=function(){function e(e,t){if(e.length!=t.length)return 0;for(var n=0,i=e.length;n<i;n++)if(e[n]!=t[n])return 0;return 1}function t(t,n){return t.collapsed!=n.collapsed?0:e(t.startAddress,n.startAddress)&&e(t.endAddress,n.endAddress)?1:0}function n(){this.list=[];this.index=0;this.hasUndo=!1;this.hasRedo=!1;this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&1==this.list.length){this.reset();return}for(;this.list[this.index].content==this.list[this.index-1].content;){this.index--;if(0==this.index)return this.restore(0)}this.restore(--this.index)}};this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==this.list[this.index+1].content;){this.index++;if(this.index==this.list.length-1)return this.restore(this.index)}this.restore(++this.index)}};this.restore=function(){var e,t,n=this.editor,i=this.list[this.index],o=UM.htmlparser(i.content.replace(h,""));n.options.autoClearEmptyNode=!1;n.filterInputRule(o,!0);n.options.autoClearEmptyNode=m;n.body.innerHTML=o.toHtml();n.fireEvent("afterscencerestore");browser.ie&&utils.each(domUtils.getElementsByTagName(n.document,"td th caption p"),function(e){domUtils.isEmptyNode(e)&&domUtils.fillNode(n.document,e)});try{e=new dom.Range(n.document,n.body).moveToAddress(i.address);if(browser.ie&&e.collapsed&&1==e.startContainer.nodeType){t=e.startContainer.childNodes[e.startOffset];(!t||1==t.nodeType&&dtd.$empty[t])&&e.insertNode(n.document.createTextNode(" ")).collapse(!0)}e.select(p[e.startContainer.nodeName.toLowerCase()])}catch(e){}this.update();this.clearKey();n.fireEvent("reset",!0)};this.getScene=function(){var e,t,n=this.editor,i=n.selection.getRange(),o=i.createAddress(!1,!0);n.fireEvent("beforegetscene");e=UM.htmlparser(n.body.innerHTML,!0);n.options.autoClearEmptyNode=!1;n.filterOutputRule(e,!0);n.options.autoClearEmptyNode=m;t=e.toHtml();browser.ie&&(t=t.replace(/>&nbsp;</g,"><").replace(/\s*</g,"<").replace(/>\s*/g,">"));n.fireEvent("aftergetscene");return{address:o,content:t}};this.save=function(e,n){clearTimeout(o);var i=this.getScene(n),r=this.list[this.index];if(!(r&&r.content==i.content&&(e?1:t(r.address,i.address)))){this.list=this.list.slice(0,this.index+1);this.list.push(i);this.list.length>u&&this.list.shift();this.index=this.list.length-1;this.clearKey();this.update()}};this.update=function(){this.hasRedo=!!this.list[this.index+1];this.hasUndo=!!this.list[this.index-1]};this.reset=function(){this.list=[];this.index=0;this.hasUndo=!1;this.hasRedo=!1;this.clearKey()};this.clearKey=function(){a=0;s=null}}function i(){this.undoManger.save()}var o,r,a,s,l,d,c=this,u=c.options.maxUndoCount||20,f=c.options.maxInputCount||20,h=new RegExp(domUtils.fillChar+"|</hr>","gi"),p={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},m=c.options.autoClearEmptyNode;c.undoManger=new n;c.undoManger.editor=c;c.addListener("saveScene",function(){var e=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,e)});c.addListener("beforeexeccommand",i);c.addListener("afterexeccommand",i);c.addListener("reset",function(e,t){t||this.undoManger.reset()});c.commands["redo"]=c.commands["undo"]={execCommand:function(e){this.undoManger[e]()},queryCommandState:function(e){return this.undoManger["has"+("undo"==e.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};r={16:1,17:1,18:1,37:1,38:1,39:1,40:1},a=0;l=!1;c.addListener("ready",function(){$(this.body).on("compositionstart",function(){l=!0}).on("compositionend",function(){l=!1})});c.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89,shift+ctrl+z"});d=!0;c.addListener("keydown",function(e,t){function n(e){e.selection.getRange().collapsed&&e.fireEvent("contentchange");e.undoManger.save(!1,!0);e.fireEvent("selectionchange")}var i=this,c=t.keyCode||t.which;if(!r[c]&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){if(l)return;if(!i.selection.getRange().collapsed){i.undoManger.save(!1,!0);d=!1;return}0==i.undoManger.list.length&&i.undoManger.save(!0);clearTimeout(o);o=setTimeout(function(){if(l)var e=setInterval(function(){if(!l){n(i);clearInterval(e)}},300);else n(i)},200);s=c;a++;a>=f&&n(i)}});c.addListener("keyup",function(e,t){var n=t.keyCode||t.which;if(!r[n]&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){if(l)return;if(!d){this.undoManger.save(!1,!0);d=!0}}})};UM.plugins["paste"]=function(){function e(e){var t,n,i,o=this.document;if(!o.getElementById("baidu_pastebin")){t=this.selection.getRange(),n=t.createBookmark(),i=o.createElement("div");i.id="baidu_pastebin";browser.webkit&&i.appendChild(o.createTextNode(domUtils.fillChar+domUtils.fillChar));this.body.appendChild(i);n.start.style.display="";i.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+$(n.start).position().top+"px";t.selectNodeContents(i).select(!0);setTimeout(function(){if(browser.webkit)for(var r,a=0,s=o.querySelectorAll("#baidu_pastebin");r=s[a++];){if(!domUtils.isEmptyNode(r)){i=r;break}domUtils.remove(r)}try{i.parentNode.removeChild(i)}catch(e){}t.moveToBookmark(n).select(!0);e(i)},0)}}function t(e){var t,i,o,r,a,s,l,d,c,u,f,h,p,m,g,b;if(e.firstChild){i=domUtils.getElementsByTagName(e,"span");for(o=0;r=i[o++];)"_baidu_cut_start"!=r.id&&"_baidu_cut_end"!=r.id||domUtils.remove(r);if(browser.webkit){a=e.querySelectorAll("div br");for(o=0;s=a[o++];){l=s.parentNode;if("DIV"==l.tagName&&1==l.childNodes.length){l.innerHTML="<p><br/></p>";domUtils.remove(l)}}d=e.querySelectorAll("#baidu_pastebin");for(o=0;c=d[o++];){u=n.document.createElement("p");c.parentNode.insertBefore(u,c);for(;c.firstChild;)u.appendChild(c.firstChild);domUtils.remove(c)}f=e.querySelectorAll("meta");for(o=0;h=f[o++];)domUtils.remove(h);a=e.querySelectorAll("br");for(o=0;h=a[o++];)/^apple-/i.test(h.className)&&domUtils.remove(h)}if(browser.gecko){p=e.querySelectorAll("[_moz_dirty]");for(o=0;h=p[o++];)h.removeAttribute("_moz_dirty")}if(!browser.ie){m=e.querySelectorAll("span.Apple-style-span");for(o=0;h=m[o++];)domUtils.remove(h,!0)}t=e.innerHTML;t=UM.filterWord(t);g=UM.htmlparser(t);n.options.filterRules&&UM.filterNode(g,n.options.filterRules);n.filterInputRule(g);if(browser.webkit){b=g.lastChild();b&&"element"==b.type&&"br"==b.tagName&&g.removeChild(b);utils.each(n.body.querySelectorAll("div"),function(e){domUtils.isEmptyBlock(e)&&domUtils.remove(e)})}t={html:g.toHtml()};n.fireEvent("beforepaste",t,g);if(!t.html)return;n.execCommand("insertHtml",t.html,!0);n.fireEvent("afterpaste",t)}}var n=this;n.addListener("ready",function(){$(n.body).on("cut",function(){var e=n.selection.getRange();!e.collapsed&&n.undoManger&&n.undoManger.save()}).on(browser.ie||browser.opera?"keydown":"paste",function(i){(!browser.ie&&!browser.opera||(i.ctrlKey||i.metaKey)&&"86"==i.keyCode)&&e.call(n,function(e){t(e)})})})};UM.plugins["list"]=function(){var e=this;e.setOpt({insertorderedlist:{decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:""}});this.addInputRule(function(e){utils.each(e.getNodesByTagName("li"),function(e){0==e.children.length&&e.parentNode.removeChild(e)})});e.commands["insertorderedlist"]=e.commands["insertunorderedlist"]={execCommand:function(e){this.document.execCommand(e);var t=this.selection.getRange(),n=t.createBookmark(!0);this.$body.find("ol,ul").each(function(e,t){var n=t.parentNode;if("P"==n.tagName&&n.lastChild===n.firstChild){$(t).children().each(function(e,t){var i=n.cloneNode(!1);$(i).append(t.innerHTML);$(t).html("").append(i)});$(t).insertBefore(n);$(n).remove()}if(dtd.$inline[n.tagName]){"SPAN"==n.tagName&&$(t).children().each(function(e,t){var i=n.cloneNode(!1);if("P"!=t.firstChild.nodeName){for(;t.firstChild;)i.appendChild(t.firstChild);$("<p></p>").appendTo(t).append(i)}else{for(;t.firstChild;)i.appendChild(t.firstChild);$(t.firstChild).append(i)}});domUtils.remove(n,!0)}});t.moveToBookmark(n).select();return!0},queryCommandState:function(e){return this.document.queryCommandState(e)}}};!function(){var e={textarea:function(e,t){var n=t.ownerDocument.createElement("textarea");n.style.cssText="resize:none;border:0;padding:0;margin:0;overflow-y:auto;outline:0";if(browser.ie&&browser.version<8){n.style.width=t.offsetWidth+"px";n.style.height=t.offsetHeight+"px";t.onresize=function(){n.style.width=t.offsetWidth+"px";n.style.height=t.offsetHeight+"px"}}t.appendChild(n);return{container:n,setContent:function(e){n.value=e},getContent:function(){return n.value},select:function(){var e;if(browser.ie){e=n.createTextRange();e.collapse(!0);e.select()}else{n.setSelectionRange(0,0);n.focus()}},dispose:function(){t.removeChild(n);t.onresize=null;n=null;t=null}}}};UM.plugins["source"]=function(){function t(t){return e.textarea(a,t)}var n,i,o,r,a=this,s=this.options,l=!1;s.sourceEditor="textarea";a.setOpt({sourceEditorFirst:!1});i=a.getContent;a.commands["source"]={execCommand:function(){var e,r,s,d,c;l=!l;if(l){o=a.selection.getRange().createAddress(!1,!0);a.undoManger&&a.undoManger.save(!0);browser.gecko&&(a.body.contentEditable=!1);a.body.style.cssText+=";position:absolute;left:-32768px;top:-32768px;";a.fireEvent("beforegetcontent");e=UM.htmlparser(a.body.innerHTML);a.filterOutputRule(e);e.traversal(function(e){if("element"==e.type)switch(e.tagName){case"td":case"th":case"caption":e.children&&1==e.children.length&&"br"==e.firstChild().tagName&&e.removeChild(e.firstChild());break;case"pre":e.innerText(e.innerText().replace(/&nbsp;/g," "))}});a.fireEvent("aftergetcontent");r=e.toHtml(!0);n=t(a.body.parentNode);n.setContent(r);s=function(e){return parseInt($(a.body).css(e))};$(n.container).width($(a.body).width()+s("padding-left")+s("padding-right")).height($(a.body).height());setTimeout(function(){n.select()});a.getContent=function(){return n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>"}}else{a.$body.css({position:"",left:"",top:""});d=n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>";d=d.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(e,t){return t&&!dtd.$inlineWithA[t.toLowerCase()]?e.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):e.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")});a.setContent(d);n.dispose();n=null;a.getContent=i;c=a.body.firstChild;c||(a.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>");a.undoManger&&a.undoManger.save(!0);browser.gecko&&(a.body.contentEditable=!0);try{a.selection.getRange().moveToAddress(o).select()}catch(e){}}this.fireEvent("sourcemodechanged",l)},queryCommandState:function(){return 0|l},notNeedUndo:1};r=a.queryCommandState;a.queryCommandState=function(e){e=e.toLowerCase();return l?e in{source:1,fullscreen:1}?r.apply(this,arguments):-1:r.apply(this,arguments)}}}();UM.plugins["enterkey"]=function(){var e,t=this,n=t.options.enterTag;t.addListener("keyup",function(n,i){var o,r,a,s,l,d,c,u=i.keyCode||i.which;if(13==u){o=t.selection.getRange(),r=o.startContainer;if(browser.ie)t.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(e)){if(browser.gecko){s=domUtils.findParentByTagName(r,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0);if(!s){t.document.execCommand("formatBlock",!1,"<p>");a=1}}else if(1==r.nodeType){l=t.document.createTextNode("");o.insertNode(l);d=domUtils.findParentByTagName(l,"div",!0);if(d){c=t.document.createElement("p");for(;d.firstChild;)c.appendChild(d.firstChild);d.parentNode.insertBefore(c,d);domUtils.remove(d);o.setStartBefore(l).setCursor();a=1}domUtils.remove(l)}t.undoManger&&a&&t.undoManger.save()}browser.opera&&o.select()}}});t.addListener("keydown",function(i,o){var r,a,s,l,d,c=o.keyCode||o.which;if(13==c){if(t.fireEvent("beforeenterkeydown")){domUtils.preventDefault(o);return}t.fireEvent("saveScene",!0,!0);e="";r=t.selection.getRange();if(!r.collapsed){a=r.startContainer,s=r.endContainer,l=domUtils.findParentByTagName(a,"td",!0),d=domUtils.findParentByTagName(s,"td",!0);if(l&&d&&l!==d||!l&&d||l&&!d){o.preventDefault?o.preventDefault():o.returnValue=!1;return}}if("p"==n&&!browser.ie){a=domUtils.findParentByTagName(r.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0);if(a||browser.opera){e=a.tagName;"p"==a.tagName.toLowerCase()&&browser.gecko&&domUtils.removeDirtyAttr(a)}else{t.document.execCommand("formatBlock",!1,"<p>");if(browser.gecko){r=t.selection.getRange();a=domUtils.findParentByTagName(r.startContainer,"p",!0);a&&domUtils.removeDirtyAttr(a)}}}}});browser.ie&&t.addListener("setDisabled",function(){$(t.body).find("p").each(function(e,t){domUtils.isEmptyBlock(t)&&(t.innerHTML="&nbsp;")})})};UM.commands["preview"]={execCommand:function(){var e=window.open("","_blank",""),t=e.document,n=this.getContent(null,null,!0),i=this.getOpt("UMEDITOR_HOME_URL"),o=n.indexOf("mathquill-embedded-latex")!=-1?'<link rel="stylesheet" href="'+i+'third-party/mathquill/mathquill.css"/><script src="'+i+'third-party/jquery.min.js"></script><script src="'+i+'third-party/mathquill/mathquill.min.js"></script>':"";t.open();t.write("<html><head>"+o+"</head><body><div>"+n+"</div></body></html>");t.close()},notNeedUndo:1};UM.plugins["basestyle"]=function(){var e=["bold","underline","superscript","subscript","italic","strikethrough"],t=this;t.addshortcutkey({Bold:"ctrl+66",Underline:"ctrl+shift+85",strikeThrough:"ctrl+shift+83"});t.addOutputRule(function(e){$.each(e.getNodesByTagName("b i u strike s"),function(e,t){switch(t.tagName){case"b":t.tagName="strong";break;case"i":t.tagName="em";break;case"u":t.tagName="span";t.setStyle("text-decoration","underline");break;case"s":case"strike":t.tagName="span";t.setStyle("text-decoration","line-through")}})});$.each(e,function(e,n){t.commands[n]={execCommand:function(e){var t,n=this.selection.getRange();if(n.collapsed&&1!=this.queryCommandState(e)){t=this.document.createElement({bold:"strong",underline:"u",superscript:"sup",subscript:"sub",italic:"em",strikethrough:"strike"}[e]);n.insertNode(t).setStart(t,0).setCursor(!1);return!0}return this.document.execCommand(e)},queryCommandState:function(e){if(browser.gecko)return this.document.queryCommandState(e);var t=this.selection.getStartElementPath(),n=!1;$.each(t,function(t,i){switch(e){case"bold":if("STRONG"==i.nodeName||"B"==i.nodeName){n=1;return!1}break;case"underline":if("U"==i.nodeName||"SPAN"==i.nodeName&&"underline"==$(i).css("text-decoration")){n=1;return!1}break;case"superscript":if("SUP"==i.nodeName){n=1;return!1}break;case"subscript":if("SUB"==i.nodeName){n=1;return!1}break;case"italic":if("EM"==i.nodeName||"I"==i.nodeName){n=1;return!1}break;case"strikethrough":if("S"==i.nodeName||"STRIKE"==i.nodeName||"SPAN"==i.nodeName&&"line-through"==$(i).css("text-decoration")){n=1;return!1}}});return n}}})};UM.plugins["video"]=function(){function e(e,t,i,o,r,a){return a?'<embed type="application/x-shockwave-flash" class="edui-faked-video" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+e+'" width="'+t+'" height="'+i+'"'+(r?' style="float:'+r+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(o?'id="'+o+'"':"")+' width="'+t+'" height="'+i+'" _url="'+e+'" class="edui-faked-video" src="'+n.options.UMEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+n.options.UMEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(r?"float:"+r+";":"")+'" />'}function t(t,n){utils.each(t.getNodesByTagName(n?"img":"embed"),function(t){if("edui-faked-video"==t.getAttr("class")){var i=e(n?t.getAttr("_url"):t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),null,t.getStyle("float")||"",n);t.parentNode.replaceChild(UM.uNode.createElement(i),t)}})}var n=this;n.addOutputRule(function(e){t(e,!0)});n.addInputRule(function(e){t(e)});n.commands["insertvideo"]={execCommand:function(t,i){var o,r,a,s,l;i=utils.isArray(i)?i:[i];o=[],r="tmpVedio";for(a=0,l=i.length;a<l;a++){s=i[a];o.push(e(s.url,s.width||420,s.height||280,r+a,s.align,!1))}n.execCommand("inserthtml",o.join(""),!0)},queryCommandState:function(){var e=n.selection.getRange().getClosedNode(),t=e&&"edui-faked-video"==e.className;return t?1:0}}};UM.plugins["selectall"]=function(){var e=this;e.commands["selectall"]={execCommand:function(){var e=this,t=e.body,n=e.selection.getRange();n.selectNodeContents(t);if(domUtils.isEmptyBlock(t)){browser.opera&&t.firstChild&&1==t.firstChild.nodeType&&n.setStartAtFirst(t.firstChild);n.collapse(!0)}n.select(!0)},notNeedUndo:1};e.addshortcutkey({selectAll:"ctrl+65"})};UM.plugins["removeformat"]=function(){var e=this;e.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"});e.commands["removeformat"]={execCommand:function(e,t,n,i,o){function r(e){var t,n,i;if(3==e.nodeType||"span"!=e.tagName.toLowerCase())return 0;if(browser.ie){t=e.attributes;if(t.length){for(n=0,i=t.length;n<i;n++)if(t[n].specified)return 0;return 1}}return!e.attributes.length}function a(e){var t,i,a,u,h,p,m,g=e.createBookmark();e.collapsed&&e.enlarge(!0);if(!o){t=domUtils.findParentByTagName(e.startContainer,"a",!0);t&&e.setStartBefore(t);t=domUtils.findParentByTagName(e.endContainer,"a",!0);t&&e.setEndAfter(t)}s=e.createBookmark();h=s.start;for(;(l=h.parentNode)&&!domUtils.isBlockElm(l);){domUtils.breakParent(h,l);domUtils.clearEmptySibling(h)}if(s.end){h=s.end;for(;(l=h.parentNode)&&!domUtils.isBlockElm(l);){domUtils.breakParent(h,l);domUtils.clearEmptySibling(h)}i=domUtils.getNextDomNode(s.start,!1,f);for(;i&&i!=s.end;){a=domUtils.getNextDomNode(i,!0,f);if(!dtd.$empty[i.tagName.toLowerCase()]&&!domUtils.isBookmarkNode(i))if(d.test(i.tagName))if(n){domUtils.removeStyle(i,n);r(i)&&"text-decoration"!=n&&domUtils.remove(i,!0)}else domUtils.remove(i,!0);else if(!dtd.$tableContent[i.tagName]&&!dtd.$list[i.tagName]){domUtils.removeAttributes(i,c);r(i)&&domUtils.remove(i,!0)}i=a}}u=s.start.parentNode;!domUtils.isBlockElm(u)||dtd.$tableContent[u.tagName]||dtd.$list[u.tagName]||domUtils.removeAttributes(u,c);u=s.end.parentNode;s.end&&domUtils.isBlockElm(u)&&!dtd.$tableContent[u.tagName]&&!dtd.$list[u.tagName]&&domUtils.removeAttributes(u,c);e.moveToBookmark(s).moveToBookmark(g);h=e.startContainer,m=e.collapsed;for(;1==h.nodeType&&domUtils.isEmptyNode(h)&&dtd.$removeEmpty[h.tagName];){p=h.parentNode;e.setStartBefore(h);e.startContainer===e.endContainer&&e.endOffset--;domUtils.remove(h);h=p}if(!m){h=e.endContainer;for(;1==h.nodeType&&domUtils.isEmptyNode(h)&&dtd.$removeEmpty[h.tagName];){p=h.parentNode;e.setEndBefore(h);domUtils.remove(h);h=p}}}var s,l,d=new RegExp("^(?:"+(t||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),c=n?[]:(i||this.options.removeFormatAttributes).split(","),u=new dom.Range(this.document),f=function(e){return 1==e.nodeType};u=this.selection.getRange();if(!u.collapsed){a(u);u.select()}}}};UM.plugins["keystrokes"]=function(){var e=this,t=!0;e.addListener("keydown",function(n,i){var o,r,a,s,l,d,c,u=i.keyCode||i.which,f=e.selection.getRange();if(!f.collapsed&&!(i.ctrlKey||i.shiftKey||i.altKey||i.metaKey)&&(u>=65&&u<=90||u>=48&&u<=57||u>=96&&u<=111||{13:1,8:1,46:1}[u])){o=f.startContainer;domUtils.isFillChar(o)&&f.setStartBefore(o);o=f.endContainer;domUtils.isFillChar(o)&&f.setEndAfter(o);f.txtToElmBoundary();if(f.endContainer&&1==f.endContainer.nodeType){o=f.endContainer.childNodes[f.endOffset];o&&domUtils.isBr(o)&&f.setEndAfter(o)}if(0==f.startOffset){o=f.startContainer;if(domUtils.isBoundaryNode(o,"firstChild")){o=f.endContainer;if(f.endOffset==(3==o.nodeType?o.nodeValue.length:o.childNodes.length)&&domUtils.isBoundaryNode(o,"lastChild")){e.fireEvent("saveScene");e.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>";f.setStart(e.body.firstChild,0).setCursor(!1,!0);e._selectionChange();return}}}}if(8==u){f=e.selection.getRange();t=f.collapsed;if(e.fireEvent("delkeydown",i))return;if(f.collapsed&&f.inFillChar()){r=f.startContainer;if(domUtils.isFillChar(r)){f.setStartBefore(r).shrinkBoundary(!0).collapse(!0);domUtils.remove(r)}else{r.nodeValue=r.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"");f.startOffset--;f.collapse(!0).select(!0)}}if(r=f.getClosedNode()){e.fireEvent("saveScene");f.setStartBefore(r);domUtils.remove(r);f.setCursor();e.fireEvent("saveScene");domUtils.preventDefault(i);return}if(!browser.ie){r=domUtils.findParentByTagName(f.startContainer,"table",!0);a=domUtils.findParentByTagName(f.endContainer,"table",!0);if(r&&!a||!r&&a||r!==a){i.preventDefault();return}}r=f.startContainer;if(f.collapsed&&1==r.nodeType){s=r.childNodes[f.startOffset-1];if(s&&1==s.nodeType&&"BR"==s.tagName){e.fireEvent("saveScene");f.setStartBefore(s).collapse(!0);domUtils.remove(s);f.select();e.fireEvent("saveScene")}}if(browser.chrome&&f.collapsed){for(;0==f.startOffset&&!domUtils.isEmptyBlock(f.startContainer);)f.setStartBefore(f.startContainer);l=f.startContainer.childNodes[f.startOffset-1];if(l&&"BR"==l.nodeName){f.setStartBefore(l);e.fireEvent("saveScene");$(l).remove();f.setCursor();e.fireEvent("saveScene")}}}if(browser.gecko&&46==u){d=e.selection.getRange();if(d.collapsed){r=d.startContainer;if(domUtils.isEmptyBlock(r)){c=r.parentNode;for(;1==domUtils.getChildCount(c)&&!domUtils.isBody(c);){r=c;c=c.parentNode}r===c.lastChild&&i.preventDefault();return}}}});e.addListener("keyup",function(e,n){var i,o,r,a,s,l,d=n.keyCode||n.which,c=this;if(8==d){if(c.fireEvent("delkeyup"))return;i=c.selection.getRange();if(i.collapsed){r=["h1","h2","h3","h4","h5","h6"];if((o=domUtils.findParentByTagName(i.startContainer,r,!0))&&domUtils.isEmptyBlock(o)){a=o.previousSibling;if(a&&"TABLE"!=a.nodeName){domUtils.remove(o);i.setStartAtLast(a).setCursor(!1,!0);return}s=o.nextSibling;if(s&&"TABLE"!=s.nodeName){domUtils.remove(o);i.setStartAtFirst(s).setCursor(!1,!0);return}}if(domUtils.isBody(i.startContainer)){o=domUtils.createElement(c.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});i.insertNode(o).setStart(o,0).setCursor(!1,!0)}}if(!t&&(3==i.startContainer.nodeType||1==i.startContainer.nodeType&&domUtils.isEmptyBlock(i.startContainer)))if(browser.ie){l=i.document.createElement("span");i.insertNode(l).setStartBefore(l).collapse(!0);i.select();domUtils.remove(l)}else i.select()}})};UM.plugins["autosave"]=function(){function e(e){var a=null;if(!(new Date-i<o))if(e.hasContents()){i=new Date;e._saveFlag=null;a=n.body.innerHTML;if(e.fireEvent("beforeautosave",{content:a})!==!1){t.saveLocalData(r,a);e.fireEvent("afterautosave",{content:a})}}else r&&t.removeItem(r)}var t,n=this,i=new Date,o=20,r=null;n.setOpt("saveInterval",500);t=UM.LocalStorage=function(){function e(){var e=document.createElement("div");e.style.display="none";if(!e.addBehavior)return null;e.addBehavior("#default#userdata");return{getItem:function(t){var i=null;try{document.body.appendChild(e);e.load(n);i=e.getAttribute(t);document.body.removeChild(e)}catch(e){}return i},setItem:function(t,i){document.body.appendChild(e);e.setAttribute(t,i);e.save(n);document.body.removeChild(e)},removeItem:function(t){document.body.appendChild(e);e.removeAttribute(t);e.save(n);document.body.removeChild(e)}}}var t=window.localStorage||e()||null,n="localStorage";return{saveLocalData:function(e,n){if(t&&n){t.setItem(e,n);return!0}return!1},getLocalData:function(e){return t?t.getItem(e):null},removeItem:function(e){t&&t.removeItem(e)}}}();n.addListener("ready",function(){var e="-drafts-data",t=null;t=n.key?n.key+e:(n.container.parentNode.id||"ue-common")+e;r=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+t});n.addListener("contentchange",function(){if(r){n._saveFlag&&window.clearTimeout(n._saveFlag);n.options.saveInterval>0?n._saveFlag=window.setTimeout(function(){
e(n)},n.options.saveInterval):e(n)}});n.commands["clearlocaldata"]={execCommand:function(e,n){r&&t.getLocalData(r)&&t.removeItem(r)},notNeedUndo:!0,ignoreContentChange:!0};n.commands["getlocaldata"]={execCommand:function(e,n){return r?t.getLocalData(r)||"":""},notNeedUndo:!0,ignoreContentChange:!0};n.commands["drafts"]={execCommand:function(e,i){if(r){n.body.innerHTML=t.getLocalData(r)||"<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>";n.focus(!0)}},queryCommandState:function(){return r?null===t.getLocalData(r)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}};UM.plugins["autoupload"]=function(){function getPasteImage(e){return e.clipboardData&&e.clipboardData.items&&1==e.clipboardData.items.length&&/^image\//.test(e.clipboardData.items[0].type)?e.clipboardData.items:null}function getDropImage(e){return e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null}var sendAndInsertImage,me=this;me.setOpt("pasteImageEnabled",!0);me.setOpt("dropFileEnabled",!0);sendAndInsertImage=function(file,editor){var xhr,fd=new FormData;fd.append(editor.options.imageFieldName||"file",file,file.name||"blob."+file.type.substr("image/".length));fd.append("type","ajax");xhr=new XMLHttpRequest;xhr.open("post",me.options.imageUrl,!0);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.addEventListener("load",function(e){try{var json=eval("("+e.target.response+")"),link=json.url,picLink=me.options.imagePath+link;editor.execCommand("insertimage",{src:picLink,_src:picLink})}catch(e){}});xhr.send(fd)};me.addListener("ready",function(){if(window.FormData&&window.FileReader){var e=function(e){var t,n,i=!1,o="paste"==e.type?getPasteImage(e.originalEvent):getDropImage(e.originalEvent);if(o){t=o.length;for(;t--;){n=o[t];n.getAsFile&&(n=n.getAsFile());if(n&&n.size>0&&/image\/\w+/i.test(n.type)){sendAndInsertImage(n,me);i=!0}}if(i)return!1}};me.getOpt("pasteImageEnabled")&&me.$body.on("paste",e);me.getOpt("dropFileEnabled")&&me.$body.on("drop",e);me.$body.on("dragover",function(e){if("Files"==e.originalEvent.dataTransfer.types[0])return!1})}})};UM.plugins["formula"]=function(){function e(){return n.$body.find("iframe.edui-formula-active")[0]||null}function t(){var t=e();t&&t.contentWindow.formula.blur()}var n=this;n.addInputRule(function(e){$.each(e.getNodesByTagName("span"),function(e,t){if(t.hasClass("mathquill-embedded-latex")){for(var i,o="";i=t.firstChild();){o+=i.data;t.removeChild(i)}t.tagName="iframe";t.setAttr({frameborder:"0",src:n.getOpt("UMEDITOR_HOME_URL")+"dialogs/formula/formula.html","data-latex":utils.unhtml(o)})}})});n.addOutputRule(function(e){$.each(e.getNodesByTagName("iframe"),function(e,t){if(t.hasClass("mathquill-embedded-latex")){t.tagName="span";t.appendChild(UM.uNode.createText(t.getAttr("data-latex")));t.setAttr({frameborder:"",src:"","data-latex":""})}})});n.addListener("click",function(){t()});n.addListener("afterexeccommand",function(e,n){"formula"!=n&&t()});n.commands["formula"]={execCommand:function(t,i){var o=e();if(o)o.contentWindow.formula.insertLatex(i);else{n.execCommand("inserthtml",'<span class="mathquill-embedded-latex">'+i+"</span>");browser.ie&&browser.ie9below&&setTimeout(function(){var e=n.selection.getRange(),t=e.startContainer;if(1==t.nodeType&&!t.childNodes[e.startOffset]){e.insertNode(n.document.createTextNode(" "));e.setCursor()}},100)}},queryCommandState:function(e){return 0},queryCommandValue:function(t){var n=e();return n&&n.contentWindow.formula.getLatex()}}};!function(e){function t(t,n,i){t.prototype=e.extend2(e.extend({},n),(UM.ui[i]||o).prototype,!0);t.prototype.supper=(UM.ui[i]||o).prototype;if(UM.ui[i]&&UM.ui[i].prototype.defaultOpt){var r=UM.ui[i].prototype.defaultOpt,a=t.prototype.defaultOpt;t.prototype.defaultOpt=e.extend({},r,a||{})}return t}function n(t,n){e[r+n]=t;e.fn[r+n]=function(n){var i,o=Array.prototype.slice.call(arguments,1);this.each(function(r,a){var s=e(a),l=s.edui();if(!l){t(n&&e.isPlainObject(n)?n:{},s);s.edui(l)}if("string"==e.type(n))if("this"==n)i=l;else{i=l[n].apply(l,o);if(i!==l&&void 0!==i)return!1;i=null}});return null!==i?i:this}}var i,o,r,a;e.parseTmpl=function(e,t){var n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",n);return t?i(t):i};e.extend2=function(t,n){var i,o,r,a=arguments,s="boolean"==e.type(a[a.length-1])&&a[a.length-1],l="boolean"==e.type(a[a.length-1])?a.length-1:a.length;for(i=1;i<l;i++){o=a[i];for(r in o)s&&t.hasOwnProperty(r)||(t[r]=o[r])}return t};e.IE6=!!window.ActiveXObject&&6==parseFloat(navigator.userAgent.match(/msie (\d+)/i)[1]);i=[];o=function(){};r="edui";o.prototype={on:function(t,n){this.root().on(t,e.proxy(n,this));return this},off:function(t,n){this.root().off(t,e.proxy(n,this));return this},trigger:function(e,t){return this.root().trigger(e,t)!==!1&&this},root:function(e){return this._$el||(this._$el=e)},destroy:function(){},data:function(e,t){if(void 0!==t){this.root().data(r+e,t);return this}return this.root().data(r+e)},register:function(t,n,o){i.push({evtname:t,$els:e.isArray(n)?n:[n],handler:e.proxy(o,n)})}};e.fn.edui=function(e){return e?this.data("eduiwidget",e):this.data("eduiwidget")};a=1;UM.ui={define:function(i,o,s){var l=UM.ui[i]=t(function(t,n){var o,s=function(){};e.extend(s.prototype,l.prototype,{guid:i+a++,widgetName:i});o=new s;if("string"==e.type(t)){o.init&&o.init({});o.root().edui(o);o.root().find("a").click(function(e){e.preventDefault()});return o.root()[r+i].apply(o.root(),arguments)}n&&o.root(n);o.init&&o.init(!t||e.isPlainObject(t)?e.extend2(t||{},o.defaultOpt||{},!0):t);try{o.root().find("a").click(function(e){e.preventDefault()})}catch(e){}return o.root().edui(o)},o,s);n(l,i)}};e(function(){e(document).on("click mouseup mousedown dblclick mouseover",function(t){e.each(i,function(n,i){i.evtname==t.type&&e.each(i.$els,function(n,o){o[0]===t.target||e.contains(o[0],t.target)||i.handler(t)})})})})}(jQuery);UM.ui.define("button",{tpl:'<<%if(!texttype){%>div class="edui-btn edui-btn-<%=icon%> <%if(name){%>edui-btn-name-<%=name%><%}%>" unselectable="on" onmousedown="return false" <%}else{%>a class="edui-text-btn"<%}%><% if(title) {%> data-original-title="<%=title%>" <%};%>> <% if(icon) {%><div unselectable="on" class="edui-icon-<%=icon%> edui-icon"></div><% }; %><%if(text) {%><span unselectable="on" onmousedown="return false" class="edui-button-label"><%=text%></span><%}%><%if(caret && text){%><span class="edui-button-spacing"></span><%}%><% if(caret) {%><span unselectable="on" onmousedown="return false" class="edui-caret"></span><% };%></<%if(!texttype){%>div<%}else{%>a<%}%>>',defaultOpt:{text:"",title:"",icon:"",width:"",caret:!1,texttype:!1,click:function(){}},init:function(e){var t=this;t.root($($.parseTmpl(t.tpl,e))).click(function(n){t.wrapclick(e.click,n)});t.root().hover(function(){t.root().hasClass("edui-disabled")||t.root().toggleClass("edui-hover")});return t},wrapclick:function(e,t){if(!this.disabled()){this.root().trigger("wrapclick");$.proxy(e,this,t)()}return this},label:function(e){if(void 0===e)return this.root().find(".edui-button-label").text();this.root().find(".edui-button-label").text(e);return this},disabled:function(e){if(void 0===e)return this.root().hasClass("edui-disabled");this.root().toggleClass("edui-disabled",e);this.root().hasClass("edui-disabled")&&this.root().removeClass("edui-hover");return this},active:function(e){if(void 0===e)return this.root().hasClass("edui-active");this.root().toggleClass("edui-active",e);return this},mergeWith:function(e){var t=this;t.data("$mergeObj",e);e.edui().data("$mergeObj",t.root());$.contains(document.body,e[0])||e.appendTo(t.root());t.on("click",function(){t.wrapclick(function(){e.edui().show()})}).register("click",t.root(),function(t){e.hide()})}});!function(){UM.ui.define("toolbar",{tpl:'<div class="edui-toolbar"  ><div class="edui-btn-toolbar" unselectable="on" onmousedown="return false"  ></div></div>',init:function(){var e=this.root($(this.tpl));this.data("$btnToolbar",e.find(".edui-btn-toolbar"))},appendToBtnmenu:function(e){var t=this.data("$btnToolbar");e=$.isArray(e)?e:[e];$.each(e,function(e,n){t.append(n)})}})}();UM.ui.define("menu",{show:function(e,t,n,i,o){n=n||"position";if(this.trigger("beforeshow")!==!1){this.root().css($.extend({display:"block"},e?{top:e[n]().top+("right"==t?0:e.outerHeight())-(i||0),left:e[n]().left+("right"==t?e.outerWidth():0)-(o||0)}:{}));this.trigger("aftershow")}},hide:function(e){var t;if(this.trigger("beforehide")!==!1){(t=this.root().data("parentmenu"))&&(t.data("parentmenu")||e)&&t.edui().hide();this.root().css("display","none");this.trigger("afterhide")}},attachTo:function(e){var t=this;if(!e.data("$mergeObj")){e.data("$mergeObj",t.root());e.on("wrapclick",function(e){t.show()});t.register("click",e,function(e){t.hide()});t.data("$mergeObj",e)}}});UM.ui.define("dropmenu",{tmpl:'<ul class="edui-dropdown-menu" aria-labelledby="dropdownMenu" ><%for(var i=0,ci;ci=data[i++];){%><%if(ci.divider){%><li class="edui-divider"></li><%}else{%><li <%if(ci.active||ci.disabled){%>class="<%= ci.active|| \'\' %> <%=ci.disabled||\'\' %>" <%}%> data-value="<%= ci.value%>"><a href="#" tabindex="-1"><em class="edui-dropmenu-checkbox"><i class="edui-icon-ok"></i></em><%= ci.label%></a></li><%}%><%}%></ul>',defaultOpt:{data:[],click:function(){}},init:function(e){var t=this,n={click:1,mouseover:1,mouseout:1};this.root($($.parseTmpl(this.tmpl,e))).on("click",'li[class!="edui-disabled edui-divider edui-dropdown-submenu"]',function(n){$.proxy(e.click,t,n,$(this).data("value"),$(this))()}).find("li").each(function(i,o){var r,a=$(this);if(!a.hasClass("edui-disabled edui-divider edui-dropdown-submenu")){r=e.data[i];$.each(n,function(e){r[e]&&a[e](function(n){$.proxy(r[e],o)(n,r,t.root)})})}})},disabled:function(e){$("li[class!=edui-divider]",this.root()).each(function(){var t=$(this);e===!0?t.addClass("edui-disabled"):$.isFunction(e)?t.toggleClass("edui-disabled",e(li)):t.removeClass("edui-disabled")})},val:function(e){var t;$('li[class!="edui-divider edui-disabled edui-dropdown-submenu"]',this.root()).each(function(){var n=$(this);if(void 0===e){if(n.find("em.edui-dropmenu-checked").length){t=n.data("value");return!1}}else n.find("em").toggleClass("edui-dropmenu-checked",n.data("value")==e)});if(void 0===e)return t},addSubmenu:function(e,t,n){var i,o;n=n||0;i=$("li[class!=edui-divider]",this.root());o=$('<li class="edui-dropdown-submenu"><a tabindex="-1" href="#">'+e+"</a></li>").append(t);n>=0&&n<i.length?o.insertBefore(i[n]):n<0?o.insertBefore(i[0]):n>=i.length&&o.appendTo(i)}},"menu");UM.ui.define("splitbutton",{tpl:'<div class="edui-splitbutton <%if (name){%>edui-splitbutton-<%= name %><%}%>"  unselectable="on" <%if(title){%>data-original-title="<%=title%>"<%}%>><div class="edui-btn"  unselectable="on" ><%if(icon){%><div  unselectable="on" class="edui-icon-<%=icon%> edui-icon"></div><%}%><%if(text){%><%=text%><%}%></div><div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"></div></div></div>',defaultOpt:{text:"",title:"",click:function(){}},init:function(e){var t=this;t.root($($.parseTmpl(t.tpl,e)));t.root().find(".edui-btn:first").click(function(n){t.disabled()||$.proxy(e.click,t)()});t.root().find(".edui-dropdown-toggle").click(function(){t.disabled()||t.trigger("arrowclick")});t.root().hover(function(){t.root().hasClass("edui-disabled")||t.root().toggleClass("edui-hover")});return t},wrapclick:function(e,t){this.disabled()||$.proxy(e,this,t)();return this},disabled:function(e){if(void 0===e)return this.root().hasClass("edui-disabled");this.root().toggleClass("edui-disabled",e).find(".edui-btn").toggleClass("edui-disabled",e);return this},active:function(e){if(void 0===e)return this.root().hasClass("edui-active");this.root().toggleClass("edui-active",e).find(".edui-btn:first").toggleClass("edui-active",e);return this},mergeWith:function(e){var t=this;t.data("$mergeObj",e);e.edui().data("$mergeObj",t.root());$.contains(document.body,e[0])||e.appendTo(t.root());t.root().delegate(".edui-dropdown-toggle","click",function(){t.wrapclick(function(){e.edui().show()})});t.register("click",t.root().find(".edui-dropdown-toggle"),function(t){e.hide()})}});UM.ui.define("colorsplitbutton",{tpl:'<div class="edui-splitbutton <%if (name){%>edui-splitbutton-<%= name %><%}%>"  unselectable="on" <%if(title){%>data-original-title="<%=title%>"<%}%>><div class="edui-btn"  unselectable="on" ><%if(icon){%><div  unselectable="on" class="edui-icon-<%=icon%> edui-icon"></div><%}%><div class="edui-splitbutton-color-label" <%if (color) {%>style="background: <%=color%>"<%}%>></div><%if(text){%><%=text%><%}%></div><div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"></div></div></div>',defaultOpt:{color:""},init:function(e){var t=this;t.supper.init.call(t,e)},colorLabel:function(){return this.root().find(".edui-splitbutton-color-label")}},"splitbutton");UM.ui.define("popup",{tpl:'<div class="edui-dropdown-menu edui-popup"<%if(!<%=stopprop%>){%>onmousedown="return false"<%}%>><div class="edui-popup-body" unselectable="on" onmousedown="return false"><%=subtpl%></div><div class="edui-popup-caret"></div></div>',defaultOpt:{stopprop:!1,subtpl:"",width:"",height:""},init:function(e){this.root($($.parseTmpl(this.tpl,e)));return this},mergeTpl:function(e){return $.parseTmpl(this.tpl,{subtpl:e})},show:function(e,t){t||(t={});var n=t.fnname||"position";if(this.trigger("beforeshow")!==!1){this.root().css($.extend({display:"block"},e?{top:e[n]().top+("right"==t.dir?0:e.outerHeight())-(t.offsetTop||0),left:e[n]().left+("right"==t.dir?e.outerWidth():0)-(t.offsetLeft||0),position:"absolute"}:{}));this.root().find(".edui-popup-caret").css({top:t.caretTop||0,left:t.caretLeft||0,position:"absolute"}).addClass(t.caretDir||"up");this.trigger("aftershow")}},hide:function(){this.root().css("display","none");this.trigger("afterhide")},attachTo:function(e,t){var n=this;if(!e.data("$mergeObj")){e.data("$mergeObj",n.root());e.on("wrapclick",function(i){n.show(e,t)});n.register("click",e,function(e){n.hide()});n.data("$mergeObj",e)}},getBodyContainer:function(){return this.root().find(".edui-popup-body")}});UM.ui.define("scale",{tpl:'<div class="edui-scale" unselectable="on"><span class="edui-scale-hand0"></span><span class="edui-scale-hand1"></span><span class="edui-scale-hand2"></span><span class="edui-scale-hand3"></span><span class="edui-scale-hand4"></span><span class="edui-scale-hand5"></span><span class="edui-scale-hand6"></span><span class="edui-scale-hand7"></span></div>',defaultOpt:{$doc:$(document),$wrap:$(document)},init:function(e){e.$doc&&(this.defaultOpt.$doc=e.$doc);e.$wrap&&(this.defaultOpt.$wrap=e.$wrap);this.root($($.parseTmpl(this.tpl,e)));this.initStyle();this.startPos=this.prePos={x:0,y:0};this.dragId=-1;return this},initStyle:function(){utils.cssRule("edui-style-scale",".edui-scale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;}.edui-scale span{position:absolute;left:0;top:0;width:7px;height:7px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-scale .edui-scale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},_eventHandler:function(e){var t,n,i=this,o=i.defaultOpt.$doc;switch(e.type){case"mousedown":t=e.target||e.srcElement;if(t.className.indexOf("edui-scale-hand")!=-1){i.dragId=t.className.slice(-1);i.startPos.x=i.prePos.x=e.clientX;i.startPos.y=i.prePos.y=e.clientY;o.bind("mousemove",$.proxy(i._eventHandler,i))}break;case"mousemove":if(i.dragId!=-1){i.updateContainerStyle(i.dragId,{x:e.clientX-i.prePos.x,y:e.clientY-i.prePos.y});i.prePos.x=e.clientX;i.prePos.y=e.clientY;i.updateTargetElement()}break;case"mouseup":if(i.dragId!=-1){i.dragId=-1;i.updateTargetElement();n=i.data("$scaleTarget");n.parent()&&i.attachTo(i.data("$scaleTarget"))}o.unbind("mousemove",$.proxy(i._eventHandler,i))}},updateTargetElement:function(){var e=this,t=e.root(),n=e.data("$scaleTarget");n.css({width:t.width(),height:t.height()});e.attachTo(n)},updateContainerStyle:function(e,t){var n,i=this,o=i.root(),r=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];if(0!=r[e][0]){n=parseInt(o.offset().left)+t.x;o.css("left",i._validScaledProp("left",n))}if(0!=r[e][1]){n=parseInt(o.offset().top)+t.y;o.css("top",i._validScaledProp("top",n))}if(0!=r[e][2]){n=o.width()+r[e][2]*t.x;o.css("width",i._validScaledProp("width",n))}if(0!=r[e][3]){n=o.height()+r[e][3]*t.y;o.css("height",i._validScaledProp("height",n))}},_validScaledProp:function(e,t){var n=this.root(),i=this.defaultOpt.$doc,o=function(e,n,i){return e+n>i?i-n:t};t=isNaN(t)?0:t;switch(e){case"left":return t<0?0:o(t,n.width(),i.width());case"top":return t<0?0:o(t,n.height(),i.height());case"width":return t<=0?1:o(t,n.offset().left,i.width());case"height":return t<=0?1:o(t,n.offset().top,i.height())}},show:function(e){var t=this;e&&t.attachTo(e);t.root().bind("mousedown",$.proxy(t._eventHandler,t));t.defaultOpt.$doc.bind("mouseup",$.proxy(t._eventHandler,t));t.root().show();t.trigger("aftershow")},hide:function(){var e=this;e.root().unbind("mousedown",$.proxy(e._eventHandler,e));e.defaultOpt.$doc.unbind("mouseup",$.proxy(e._eventHandler,e));e.root().hide();e.trigger("afterhide")},attachTo:function(e){var t=this,n=e.offset(),i=t.root(),o=t.defaultOpt.$wrap,r=o.offset();t.data("$scaleTarget",e);t.root().css({position:"absolute",width:e.width(),height:e.height(),left:n.left-r.left-parseInt(o.css("border-left-width"))-parseInt(i.css("border-left-width")),top:n.top-r.top-parseInt(o.css("border-top-width"))-parseInt(i.css("border-top-width"))})},getScaleTarget:function(){return this.data("$scaleTarget")[0]}});UM.ui.define("colorpicker",{tpl:function(e){var t,n="ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(","),i='<div unselectable="on" onmousedown="return false" class="edui-colorpicker<%if (name){%> edui-colorpicker-<%=name%><%}%>" ><table unselectable="on" onmousedown="return false"><tr><td colspan="10">'+e.lang_themeColor+'</td> </tr><tr class="edui-colorpicker-firstrow" >';for(t=0;t<n.length;t++){t&&t%10===0&&(i+="</tr>"+(60==t?'<tr><td colspan="10">'+e.lang_standardColor+"</td></tr>":"")+"<tr"+(60==t?' class="edui-colorpicker-firstrow"':"")+">");i+=t<70?'<td><a unselectable="on" onmousedown="return false" title="'+n[t]+'" class="edui-colorpicker-colorcell" data-color="#'+n[t]+'" style="background-color:#'+n[t]+";border:solid #ccc;"+(t<10||t>=60?"border-width:1px;":t>=10&&t<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':""}i+="</tr></table></div>";return i},init:function(e){var t=this;t.root($($.parseTmpl(t.supper.mergeTpl(t.tpl(e)),e)));t.root().on("click",function(e){t.trigger("pickcolor",$(e.target).data("color"))})}},"popup");!function(){var e="combobox",t="edui-combobox-item",n="edui-combobox-item-hover",i="edui-combobox-checked-icon",o="edui-combobox-item-label";UM.ui.define(e,function(){return{tpl:'<ul class="dropdown-menu edui-combobox-menu<%if (comboboxName!==\'\') {%> edui-combobox-<%=comboboxName%><%}%>" unselectable="on" onmousedown="return false" role="menu" aria-labelledby="dropdownMenu"><%if(autoRecord) {%><%for( var i=0, len = recordStack.length; i<len; i++ ) {%><%var index = recordStack[i];%><li class="<%=itemClassName%><%if( selected == index ) {%> edui-combobox-checked<%}%>" data-item-index="<%=index%>" unselectable="on" onmousedown="return false"><span class="edui-combobox-icon" unselectable="on" onmousedown="return false"></span><label class="<%=labelClassName%>" style="<%=itemStyles[ index ]%>" unselectable="on" onmousedown="return false"><%=items[index]%></label></li><%}%><%if( i ) {%><li class="edui-combobox-item-separator"></li><%}%><%}%><%for( var i=0, label; label = items[i]; i++ ) {%><li class="<%=itemClassName%><%if( selected == i ) {%> edui-combobox-checked<%}%> edui-combobox-item-<%=i%>" data-item-index="<%=i%>" unselectable="on" onmousedown="return false"><span class="edui-combobox-icon" unselectable="on" onmousedown="return false"></span><label class="<%=labelClassName%>" style="<%=itemStyles[ i ]%>" unselectable="on" onmousedown="return false"><%=label%></label></li><%}%></ul>',defaultOpt:{recordStack:[],items:[],value:[],comboboxName:"",selected:"",autoRecord:!0,recordCount:5},init:function(e){var n=this;$.extend(n._optionAdaptation(e),n._createItemMapping(e.recordStack,e.items),{itemClassName:t,iconClass:i,labelClassName:o});this._transStack(e);n.root($($.parseTmpl(n.tpl,e)));this.data("options",e).initEvent()},initEvent:function(){var e=this;e.initSelectItem();this.initItemActive()},initSelectItem:function(){var e=this,n="."+o;e.root().delegate("."+t,"click",function(){var t=$(this),i=t.attr("data-item-index"),o=e.trigger("comboboxselect",{label:t.find(n).text(),value:e.data("options").value[i]});o.select(i);e.hide();return!1})},initItemActive:function(){var e={mouseenter:"addClass",mouseleave:"removeClass"};$.IE6&&this.root().delegate("."+t,"mouseenter mouseleave",function(t){$(this)[e[t.type]](n)}).one("afterhide",function(){})},select:function(e){var t=this.data("options").itemCount,n=this.data("options").autowidthitem;n&&!n.length&&(n=this.data("options").items);if(0==t)return null;e<0?e=t+e%t:e>=t&&(e=t-1);this.trigger("changebefore",n[e]);this._update(e);this.trigger("changeafter",n[e]);return null},selectItemByLabel:function(e){var t=this.data("options").itemMapping,n=this,i=null;!$.isArray(e)&&(e=[e]);$.each(e,function(e,o){i=t[o];if(void 0!==i){n.select(i);return!1}})},_transStack:function(e){var t=[],n=-1,i=-1;$.each(e.recordStack,function(o,r){n=e.itemMapping[r];if($.isNumeric(n)){t.push(n);r==e.selected&&(i=n)}});e.recordStack=t;e.selected=i;t=null},_optionAdaptation:function(e){if(!("itemStyles"in e)){e.itemStyles=[];for(var t=0,n=e.items.length;t<n;t++)e.itemStyles.push("")}e.autowidthitem=e.autowidthitem||e.items;e.itemCount=e.items.length;return e},_createItemMapping:function(e,t){var n={},i={recordStack:[],mapping:{}};$.each(t,function(e,t){n[t]=e});i.itemMapping=n;$.each(e,function(e,t){if(void 0!==n[t]){i.recordStack.push(n[t]);i.mapping[t]=n[t]}});return i},_update:function(e){var t=this.data("options"),n=[],i=null;$.each(t.recordStack,function(t,i){i!=e&&n.push(i)});n.unshift(e);n.length>t.recordCount&&(n.length=t.recordCount);t.recordStack=n;t.selected=e;i=$($.parseTmpl(this.tpl,t));this.root().html(i.html());i=null;n=null}}}(),"menu")}();!function(){var e="buttoncombobox";UM.ui.define(e,function(){return{defaultOpt:{label:"",title:""},init:function(e){var t=this,n=$.eduibutton({caret:!0,name:e.comboboxName,title:e.title,text:e.label,click:function(){t.show(this.root())}});t.supper.init.call(t,e);t.on("changebefore",function(e,t){n.eduibutton("label",t)});t.data("button",n);t.attachTo(n)},button:function(){return this.data("button")}}}(),"combobox")}();UM.ui.define("modal",{tpl:'<div class="edui-modal" tabindex="-1" ><div class="edui-modal-header"><div class="edui-close" data-hide="modal"></div><h3 class="edui-title"><%=title%></h3></div><div class="edui-modal-body"  style="<%if(width){%>width:<%=width%>px;<%}%><%if(height){%>height:<%=height%>px;<%}%>"> </div><% if(cancellabel || oklabel) {%><div class="edui-modal-footer"><div class="edui-modal-tip"></div><%if(oklabel){%><div class="edui-btn edui-btn-primary" data-ok="modal"><%=oklabel%></div><%}%><%if(cancellabel){%><div class="edui-btn" data-hide="modal"><%=cancellabel%></div><%}%></div><%}%></div>',defaultOpt:{title:"",cancellabel:"",oklabel:"",width:"",height:"",backdrop:!0,keyboard:!0},init:function(e){var t=this;t.root($($.parseTmpl(t.tpl,e||{})));t.data("options",e);e.okFn&&t.on("ok",$.proxy(e.okFn,t));e.cancelFn&&t.on("beforehide",$.proxy(e.cancelFn,t));t.root().delegate('[data-hide="modal"]',"click",$.proxy(t.hide,t)).delegate('[data-ok="modal"]',"click",$.proxy(t.ok,t));$('[data-hide="modal"],[data-ok="modal"]',t.root()).hover(function(){$(this).toggleClass("edui-hover")})},toggle:function(){var e=this;return e[e.data("isShown")?"hide":"show"]()},show:function(){var e=this;e.trigger("beforeshow");if(!e.data("isShown")){e.data("isShown",!0);e.escape();e.backdrop(function(){e.autoCenter();e.root().show().focus().trigger("aftershow")})}},showTip:function(e){$(".edui-modal-tip",this.root()).html(e).fadeIn()},hideTip:function(e){$(".edui-modal-tip",this.root()).fadeOut(function(){$(this).html("")})},autoCenter:function(){!$.IE6&&this.root().css("margin-left",-(this.root().width()/2))},hide:function(){var e=this;e.trigger("beforehide");if(e.data("isShown")){e.data("isShown",!1);e.escape();e.hideModal()}},escape:function(){var e=this;e.data("isShown")&&e.data("options").keyboard?e.root().on("keyup",function(t){27==t.which&&e.hide()}):e.data("isShown")||e.root().off("keyup")},hideModal:function(){var e=this;e.root().hide();e.backdrop(function(){e.removeBackdrop();e.trigger("afterhide")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(e){var t=this;t.data("isShown")&&t.data("options").backdrop&&(t.$backdrop=$('<div class="edui-modal-backdrop" />').click("static"==t.data("options").backdrop?$.proxy(t.root()[0].focus,t.root()[0]):$.proxy(t.hide,t)));t.trigger("afterbackdrop");e&&e()},attachTo:function(e){var t=this;if(!e.data("$mergeObj")){e.data("$mergeObj",t.root());e.on("click",function(){t.toggle(e)});t.data("$mergeObj",e)}},ok:function(){var e=this;e.trigger("beforeok");e.trigger("ok",e)!==!1&&e.hide()},getBodyContainer:function(){return this.root().find(".edui-modal-body")}});UM.ui.define("tooltip",{tpl:'<div class="edui-tooltip" unselectable="on" onmousedown="return false"><div class="edui-tooltip-arrow" unselectable="on" onmousedown="return false"></div><div class="edui-tooltip-inner" unselectable="on" onmousedown="return false"></div></div>',init:function(e){var t=this;t.root($($.parseTmpl(t.tpl,e||{})))},content:function(e){var t=this,n=$(e.currentTarget).attr("data-original-title");t.root().find(".edui-tooltip-inner")["text"](n)},position:function(e){var t=this,n=$(e.currentTarget);t.root().css($.extend({display:"block"},n?{top:n.outerHeight(),left:(n.outerWidth()-t.root().outerWidth())/2}:{}))},show:function(e){if(!$(e.currentTarget).hasClass("edui-disabled")){var t=this;t.content(e);t.root().appendTo($(e.currentTarget));t.position(e);t.root().css("display","block")}},hide:function(){var e=this;e.root().css("display","none")},attachTo:function(e){function t(e){var t=this;$.contains(document.body,t.root()[0])||t.root().appendTo(e);t.data("tooltip",t.root());e.each(function(){$(this).attr("data-original-title")&&$(this).on("mouseenter",$.proxy(t.show,t)).on("mouseleave click",$.proxy(t.hide,t))})}var n=this;"undefined"===$.type(e)?$("[data-original-title]").each(function(e,i){t.call(n,$(i))}):e.data("tooltip")||t.call(n,e)}});UM.ui.define("tab",{init:function(e){var t=this,n=e.selector;if($.type(n)){t.root($(n,e.context));t.data("context",e.context);$(n,t.data("context")).on("click",function(e){t.show(e)})}},show:function(e){var t,n,i,o=this,r=$(e.target),a=r.closest("ul"),s=r.attr("data-context");s=s&&s.replace(/.*(?=#[^\s]*$)/,"");i=r.parent("li");if(i.length&&!i.hasClass("edui-active")){t=a.find(".edui-active:last a")[0];e=$.Event("beforeshow",{target:r[0],relatedTarget:t});o.trigger(e);if(!e.isDefaultPrevented()){n=$(s,o.data("context"));o.activate(r.parent("li"),a);o.activate(n,n.parent(),function(){o.trigger({type:"aftershow",relatedTarget:t})})}}},activate:function(e,t,n){if(void 0===e)return $(".edui-tab-item.edui-active",this.root()).index();var i=t.find("> .edui-active");i.removeClass("edui-active");e.addClass("edui-active");n&&n()}});UM.ui.define("separator",{tpl:'<div class="edui-separator" unselectable="on" onmousedown="return false" ></div>',init:function(e){var t=this;t.root($($.parseTmpl(t.tpl,e)));return t}});!function(){var e={},t={},n=[],i=null,o={},r={},a={},s=null;utils.extend(UM,{defaultWidth:500,defaultHeight:500,registerUI:function(t,n){utils.each(t.split(/\s+/),function(t){e[t]=n})},setEditor:function(e){!t[e.id]&&(t[e.id]=e)},registerWidget:function(e,t,n){o[e]=$.extend2(t,{$root:"",_preventDefault:!1,root:function(e){return this.$root||(this.$root=e)},preventDefault:function(){this._preventDefault=!0},clear:!1});n&&(r[e]=n)},getWidgetData:function(e){return o[e]},setWidgetBody:function(e,t,n){n._widgetData||utils.extend(n,{_widgetData:{},getWidgetData:function(e){return this._widgetData[e]},getWidgetCallback:function(e){var n=this;return function(){return r[e].apply(n,[n,t].concat(Array.prototype.slice.call(arguments,0)))}}});var i=o[e];if(!i)return null;i=n._widgetData[e];if(!i){i=o[e];i=n._widgetData[e]="function"==$.type(i)?i:utils.clone(i)}i.root(t.edui().getBodyContainer());i.initContent(n,t);i._preventDefault||i.initEvent(n,t);i.width&&t.width(i.width)},setActiveWidget:function(e){i=e},getEditor:function(e,n){var i=t[e]||(t[e]=this.createEditor(e,n));s=s?Math.max(i.getOpt("zIndex"),s):i.getOpt("zIndex");return i},setTopEditor:function(e){$.each(t,function(t,n){e==n?e.$container&&e.$container.css("zIndex",s+1):n.$container&&n.$container.css("zIndex",n.getOpt("zIndex"))})},clearCache:function(e){t[e]&&delete t[e]},delEditor:function(e){var n;(n=t[e])&&n.destroy()},ready:function(e){n.push(e)},createEditor:function(e,t){function i(){var t,i=this.createUI("#"+e,o);o.key=e;o.ready(function(){$.each(n,function(e,t){$.proxy(t,o)()})});t=o.options;t.initialFrameWidth?t.minFrameWidth=t.initialFrameWidth:t.minFrameWidth=t.initialFrameWidth=o.$body.width()||UM.defaultWidth;i.css({width:t.initialFrameWidth,zIndex:o.getOpt("zIndex")});UM.browser.ie&&6===UM.browser.version&&document.execCommand("BackgroundImageCache",!1,!0);o.render(e);$.eduitooltip&&$.eduitooltip("attachTo",$("[data-original-title]",i)).css("z-index",o.getOpt("zIndex")+1);i.find("a").click(function(e){e.preventDefault()});o.fireEvent("afteruiready")}var o=new UM.Editor(t),r=this;o.langIsReady?$.proxy(i,r)():o.addListener("langReady",$.proxy(i,r));return o},createUI:function(t,n){var i,o=$(t),r=$('<div class="edui-container"><div class="edui-editor-body"></div></div>').insertBefore(o);n.$container=r;n.container=r[0];n.$body=o;if(browser.ie&&browser.ie9above){i=$('<span style="padding:0;margin:0;height:0;width:0"></span>');i.insertAfter(r)}$.each(e,function(e,t){var i=t.call(n,e);i&&(a[e]=i)});r.find(".edui-editor-body").append(o).before(this.createToolbar(n.options,n));r.find(".edui-toolbar").append($('<div class="edui-dialog-container"></div>'));return r},createToolbar:function(e,t){var n,i=$.eduitoolbar(),o=i.edui();
if(e.toolbar&&e.toolbar.length){n=[];$.each(e.toolbar,function(e,t){$.each(t.split(/\s+/),function(e,t){if("|"==t)$.eduiseparator&&n.push($.eduiseparator());else{var i=a[t];"fullscreen"==t?i&&n.unshift(i):i&&n.push(i)}});n.length&&o.appendToBtnmenu(n)})}else i.find(".edui-btn-toolbar").remove();return i}})}();UM.registerUI("bold italic redo undo underline strikethrough superscript subscript insertorderedlist insertunorderedlist cleardoc selectall link unlink print preview justifyleft justifycenter justifyright justifyfull removeformat horizontal drafts",function(e){var t=this,n=$.eduibutton({icon:e,click:function(){t.execCommand(e)},title:this.getLang("labelMap")[e]||""});this.addListener("selectionchange",function(){var t=this.queryCommandState(e);n.edui().disabled(t==-1).active(1==t)});return n});!function(){function e(e){var t=this;if(!e)throw new Error("invalid params, notfound editor");t.editor=e;a[e.uid]=this;e.addListener("destroy",function(){delete a[e.uid];t.editor=null})}var t={},n=["width","height","position","top","left","margin","padding","overflowX","overflowY"],i={},o={},r={},a={};UM.registerUI("fullscreen",function(t){var n=this,i=$.eduibutton({icon:"fullscreen",title:n.options.labelMap&&n.options.labelMap[t]||n.getLang("labelMap."+t),click:function(){n.execCommand(t);UM.setTopEditor(n)}});n.addListener("selectionchange",function(){var e=this.queryCommandState(t);i.edui().disabled(e==-1).active(1==e)});n.addListener("ready",function(){n.options.fullscreen&&e.getInstance(n).toggle()});return i});UM.commands["fullscreen"]={execCommand:function(t){e.getInstance(this).toggle()},queryCommandState:function(e){return this._edui_fullscreen_status},notNeedUndo:1};e.prototype={toggle:function(){var e=this.editor,t=this.isFullState();e.fireEvent("beforefullscreenchange",!t);this.update(!t);t?this.revert():this.enlarge();e.fireEvent("afterfullscreenchange",!t);"true"===e.body.contentEditable&&e.fireEvent("fullscreenchanged",!t);e.fireEvent("selectionchange")},enlarge:function(){this.saveSataus();this.setDocumentStatus();this.resize()},revert:function(){var e=this.editor.options,t=/%$/.test(e.initialFrameHeight)?"100%":e.initialFrameHeight-this.getStyleValue("padding-top")-this.getStyleValue("padding-bottom")-this.getStyleValue("border-width");$.IE6&&this.getEditorHolder().style.setExpression("height","this.scrollHeight <= "+t+' ? "'+t+'px" : "auto"');this.revertContainerStatus();this.revertContentAreaStatus();this.revertDocumentStatus()},update:function(e){this.editor._edui_fullscreen_status=e},resize:function(){var e=null,t=0,n=0,i=0,o=0,r=this.editor,a=null,s=null;if(this.isFullState()){e=$(window);n=e.width();t=e.height();s=this.getEditorHolder();i=parseInt(domUtils.getComputedStyle(s,"border-width"),10)||0;i+=parseInt(domUtils.getComputedStyle(r.container,"border-width"),10)||0;o+=parseInt(domUtils.getComputedStyle(s,"padding-left"),10)+parseInt(domUtils.getComputedStyle(s,"padding-right"),10)||0;$.IE6&&s.style.setExpression("height",null);a=this.getBound();$(r.container).css({width:n+"px",height:t+"px",position:$.IE6?"absolute":"fixed",top:a.top,left:a.left,margin:0,padding:0,overflowX:"hidden",overflowY:"hidden"});$(s).css({width:n-2*i-o+"px",height:t-2*i-(r.options.withoutToolbar?0:$(".edui-toolbar",r.container).outerHeight())-$(".edui-bottombar",r.container).outerHeight()+"px",overflowX:"hidden",overflowY:"auto"})}},saveSataus:function(){var e,i,o=this.editor.container.style,r=null,a={};for(e=0,i=n.length;e<i;e++){r=n[e];a[r]=o[r]}t[this.editor.uid]=a;this.saveContentAreaStatus();this.saveDocumentStatus()},saveContentAreaStatus:function(){var e=$(this.getEditorHolder());i[this.editor.uid]={width:e.css("width"),overflowX:e.css("overflowX"),overflowY:e.css("overflowY"),height:e.css("height")}},saveDocumentStatus:function(){var e=$(this.getEditorDocumentBody());o[this.editor.uid]={overflowX:e.css("overflowX"),overflowY:e.css("overflowY")};r[this.editor.uid]={overflowX:$(this.getEditorDocumentElement()).css("overflowX"),overflowY:$(this.getEditorDocumentElement()).css("overflowY")}},revertContainerStatus:function(){$(this.editor.container).css(this.getEditorStatus())},revertContentAreaStatus:function(){var e=this.getEditorHolder(),t=this.getContentAreaStatus();if(this.supportMin()){delete t.height;e.style.height=null}$(e).css(t)},revertDocumentStatus:function(){var e=this.getDocumentStatus();$(this.getEditorDocumentBody()).css("overflowX",e.body.overflowX);$(this.getEditorDocumentElement()).css("overflowY",e.html.overflowY)},setDocumentStatus:function(){$(this.getEditorDocumentBody()).css({overflowX:"hidden",overflowY:"hidden"});$(this.getEditorDocumentElement()).css({overflowX:"hidden",overflowY:"hidden"})},isFullState:function(){return!!this.editor._edui_fullscreen_status},getEditorStatus:function(){return t[this.editor.uid]},getContentAreaStatus:function(){return i[this.editor.uid]},getEditorDocumentElement:function(){return this.editor.container.ownerDocument.documentElement},getEditorDocumentBody:function(){return this.editor.container.ownerDocument.body},getEditorHolder:function(){return this.editor.body},getDocumentStatus:function(){return{body:o[this.editor.uid],html:r[this.editor.uid]}},supportMin:function(){var e=null;if(!this._support){e=document.createElement("div");this._support="minWidth"in e.style;e=null}return this._support},getBound:function(){var e={html:!0,body:!0},t={top:0,left:0},n=null;if(!$.IE6)return t;n=this.editor.container.offsetParent;if(n&&!e[n.nodeName.toLowerCase()]){e=n.getBoundingClientRect();t.top=-e.top;t.left=-e.left}return t},getStyleValue:function(e){return parseInt(domUtils.getComputedStyle(this.getEditorHolder(),e))}};$.extend(e,{listen:function(){var t=null;if(!e._hasFullscreenListener){e._hasFullscreenListener=!0;$(window).on("resize",function(){if(null!==t){window.clearTimeout(t);t=null}t=window.setTimeout(function(){for(var e in a)a[e].resize();t=null},50)})}},getInstance:function(t){a[t.uid]||new e(t);return a[t.uid]}});e.listen()}();UM.registerUI("link image video map formula",function(e){var t,n,i=this,o={title:i.options.labelMap&&i.options.labelMap[e]||i.getLang("labelMap."+e),url:i.options.UMEDITOR_HOME_URL+"dialogs/"+e+"/"+e+".js"},r=$.eduibutton({icon:e,title:this.getLang("labelMap")[e]||""});utils.loadFile(document,{src:o.url,tag:"script",type:"text/javascript",defer:"defer"},function(){var a,s,l=UM.getWidgetData(e);if(l){if(l.buttons){a=l.buttons.ok;if(a){o.oklabel=a.label||i.getLang("ok");a.exec&&(o.okFn=function(){return $.proxy(a.exec,null,i,n)()})}s=l.buttons.cancel;if(s){o.cancellabel=s.label||i.getLang("cancel");s.exec&&(o.cancelFn=function(){return $.proxy(s.exec,null,i,n)()})}}l.width&&(o.width=l.width);l.height&&(o.height=l.height);n=$.eduimodal(o);n.attr("id","edui-dialog-"+e).addClass("edui-dialog-"+e).find(".edui-modal-body").addClass("edui-dialog-"+e+"-body");n.edui().on("beforehide",function(){var e=i.selection.getRange();e.equals(t)&&e.select()}).on("beforeshow",function(){var o=this.root(),r=null,a=null;t=i.selection.getRange();o.parent()[0]||$("body").append(o);if($.IE6){r={width:$(window).width(),height:$(window).height()};a=o.parents(".edui-toolbar")[0].getBoundingClientRect();o.css({position:"absolute",margin:0,left:(r.width-o.width())/2-a.left,top:100-a.top})}UM.setWidgetBody(e,n,i);UM.setTopEditor(i)}).on("afterbackdrop",function(){this.$backdrop.css("zIndex",i.getOpt("zIndex")+1).appendTo($("body"));n.css("zIndex",i.getOpt("zIndex")+2)}).on("beforeok",function(){try{t.select()}catch(e){}}).attachTo(r)}});i.addListener("selectionchange",function(){var t=this.queryCommandState(e);r.edui().disabled(t==-1).active(1==t)});return r});UM.registerUI("emotion formula",function(e){var t=this,n=t.options.UMEDITOR_HOME_URL+"dialogs/"+e+"/"+e+".js",i=$.eduibutton({icon:e,title:this.getLang("labelMap")[e]||""});utils.loadFile(document,{src:n,tag:"script",type:"text/javascript",defer:"defer"},function(){var o={url:n},r=UM.getWidgetData(e);r.width&&(o.width=r.width);r.height&&(o.height=r.height);$.eduipopup(o).css("zIndex",t.options.zIndex+1).addClass("edui-popup-"+e).edui().on("beforeshow",function(){var n=this.root();n.parent().length||t.$container.find(".edui-dialog-container").append(n);UM.setWidgetBody(e,n,t);UM.setTopEditor(t)}).attachTo(i,{offsetTop:-5,offsetLeft:10,caretLeft:11,caretTop:-8});t.addListener("selectionchange",function(){var t=this.queryCommandState(e);i.edui().disabled(t==-1).active(1==t)})});return i});UM.registerUI("imagescale",function(){var e,t=this;t.setOpt("imageScaleEnabled",!0);if(browser.webkit&&t.getOpt("imageScaleEnabled")){t.addListener("click",function(n,i){var o,r,a,s=t.selection.getRange(),l=s.getClosedNode(),d=i.target;if(l&&"IMG"==l.tagName&&d==l){if(!e){e=$.eduiscale({$wrap:t.$container}).css("zIndex",t.options.zIndex);t.$container.append(e);o=function(){e.edui().hide()},r=function(e){var t=e.target||e.srcElement;t&&t.className.indexOf("edui-scale")==-1&&o(e)};e.edui().on("aftershow",function(){$(document).bind("keydown",o);$(document).bind("mousedown",r);t.selection.getNative().removeAllRanges()}).on("afterhide",function(){$(document).unbind("keydown",o);$(document).unbind("mousedown",r);var n=e.edui().getScaleTarget();n.parentNode&&t.selection.getRange().selectNode(n).select()}).on("mousedown",function(n){t.selection.getNative().removeAllRanges();var i=n.target||n.srcElement;i&&i.className.indexOf("edui-scale-hand")==-1&&(a=setTimeout(function(){e.edui().hide()},200))}).on("mouseup",function(e){var t=e.target||e.srcElement;t&&t.className.indexOf("edui-scale-hand")==-1&&clearTimeout(a)})}e.edui().show($(l))}else e&&"none"!=e.css("display")&&e.edui().hide()});t.addListener("click",function(e,n){if("IMG"==n.target.tagName){var i=new dom.Range(t.document,t.body);i.selectNode(n.target).select()}})}});UM.registerUI("autofloat",function(){var e,t,n=this,i=n.getLang();n.setOpt({autoFloatEnabled:!0,topOffset:0});e=n.options.autoFloatEnabled!==!1,t=n.options.topOffset;e&&n.ready(function(){function e(){if(!UM.ui){alert(i.autofloatMsg);return 0}return 1}function o(){var e=document.body.style;e.backgroundImage='url("about:blank")';e.backgroundAttachment="fixed"}function r(){if(!m){var e=domUtils.getXY(d),i=domUtils.getComputedStyle(d,"position"),o=domUtils.getComputedStyle(d,"left");d.style.width=d.offsetWidth+"px";d.style.zIndex=1*n.options.zIndex+1;d.parentNode.insertBefore(h,d);if(u||f&&browser.ie){"absolute"!=d.style.position&&(d.style.position="absolute");d.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-c+t+"px"}else if("fixed"!=d.style.position){d.style.position="fixed";d.style.top=t+"px";("absolute"==i||"relative"==i)&&parseFloat(o)&&(d.style.left=e.x+"px")}}}function a(){h.parentNode&&h.parentNode.removeChild(h);d.style.cssText=l}function s(){var e=p(n.container),t=n.options.toolbarTopOffset||0;e.top<0&&e.bottom-d.offsetHeight>t?r():a()}var l,d,c,u=browser.ie&&browser.version<=6,f=browser.quirks,h=document.createElement("div"),p=function(e){var t,n,i;try{t=e.getBoundingClientRect()}catch(e){t={left:0,top:0,height:0,width:0}}n={left:Math.round(t.left),top:Math.round(t.top),height:Math.round(t.bottom-t.top),width:Math.round(t.right-t.left)};for(;(i=e.ownerDocument)!==document&&(e=domUtils.getWindow(i).frameElement);){t=e.getBoundingClientRect();n.left+=t.left;n.top+=t.top}n.bottom=n.top+n.height;n.right=n.left+n.width;return n},m=!1,g=utils.defer(function(){s()},browser.ie?200:100,!0);n.addListener("destroy",function(){$(window).off("scroll resize",s);n.removeListener("keydown",g)});if(e(n)){d=$(".edui-toolbar",n.container)[0];n.addListener("afteruiready",function(){setTimeout(function(){c=$(d).offset().top},100)});l=d.style.cssText;h.style.height=d.offsetHeight+"px";u&&o();$(window).on("scroll resize",s);n.addListener("keydown",g);n.addListener("resize",function(){a();h.style.height=d.offsetHeight+"px";s()});n.addListener("beforefullscreenchange",function(e,t){if(t){a();m=t}});n.addListener("fullscreenchanged",function(e,t){t||s();m=t});n.addListener("sourcemodechanged",function(e,t){setTimeout(function(){s()},0)});n.addListener("clearDoc",function(){setTimeout(function(){s()},0)})}})});UM.registerUI("source",function(e){var t,n=this;n.addListener("fullscreenchanged",function(){n.$container.find("textarea").width(n.$body.width()-10).height(n.$body.height())});t=$.eduibutton({icon:e,click:function(){n.execCommand(e);UM.setTopEditor(n)},title:this.getLang("labelMap")[e]||""});this.addListener("selectionchange",function(){var n=this.queryCommandState(e);t.edui().disabled(n==-1).active(1==n)});return t});UM.registerUI("paragraph fontfamily fontsize",function(e){function t(e,n){var i=$("<span>").html(e).css({display:"inline",position:"absolute",top:-1e7,left:-1e5}).appendTo(document.body),o=i.width();i.remove();i=null;if(o<50)return e;e=e.slice(0,n?-4:-1);return e.length?t(e+"...",!0):"..."}function n(e){var n,i=[];for(n in e.items){e.value.push(n);i.push(n);e.autowidthitem.push(t(n))}e.items=i;e.autoRecord=!1;return e}function i(e){var n,i,o=null,r=[];for(n=0,i=e.items.length;n<i;n++){o=e.items[n].val;r.push(o.split(/\s*,\s*/)[0]);e.itemStyles.push("font-family: "+o);e.value.push(o);e.autowidthitem.push(t(r[n]))}e.items=r;return e}function o(e){var t,n,i=null,o=[];e.itemStyles=[];e.value=[];for(t=0,n=e.items.length;t<n;t++){i=e.items[t];o.push(i);e.itemStyles.push("font-size: "+i+"px")}e.value=e.items;e.items=o;e.autoRecord=!1;return e}var r=this,a=r.options.labelMap&&r.options.labelMap[e]||r.getLang("labelMap."+e),s={label:a,title:a,comboboxName:e,items:r.options[e]||[],itemStyles:[],value:[],autowidthitem:[]},l=null,d=null;if(0==s.items.length)return null;switch(e){case"paragraph":s=n(s);break;case"fontfamily":s=i(s);break;case"fontsize":s=o(s)}l=$.eduibuttoncombobox(s).css("zIndex",r.getOpt("zIndex")+1);d=l.edui();d.on("comboboxselect",function(t,n){r.execCommand(e,n.value)}).on("beforeshow",function(){0===l.parent().length&&l.appendTo(r.$container.find(".edui-dialog-container"));UM.setTopEditor(r)});this.addListener("selectionchange",function(t){var n=this.queryCommandState(e),i=this.queryCommandValue(e);d.button().edui().disabled(n==-1).active(1==n);if(i){i=i.replace(/['"]/g,"").toLowerCase().split(/['|"]?\s*,\s*[\1]?/);d.selectItemByLabel(i)}});return d.button().addClass("edui-combobox")});UM.registerUI("forecolor backcolor",function(e){function t(){return domUtils.getComputedStyle(o[0],"background-color")}var n=this,i=null,o=null,r=null;this.addListener("selectionchange",function(){var t=this.queryCommandState(e);r.edui().disabled(t==-1).active(1==t)});r=$.eduicolorsplitbutton({icon:e,caret:!0,name:e,title:n.getLang("labelMap")[e],click:function(){n.execCommand(e,t())}});o=r.edui().colorLabel();i=$.eduicolorpicker({name:e,lang_clearColor:n.getLang("clearColor")||"",lang_themeColor:n.getLang("themeColor")||"",lang_standardColor:n.getLang("standardColor")||""}).on("pickcolor",function(t,i){window.setTimeout(function(){o.css("backgroundColor",i);n.execCommand(e,i)},0)}).on("show",function(){UM.setActiveWidget(colorPickerWidget.root())}).css("zIndex",n.getOpt("zIndex")+1);r.edui().on("arrowclick",function(){i.parent().length||n.$container.find(".edui-dialog-container").append(i);i.edui().show(r,{caretDir:"down",offsetTop:-5,offsetLeft:8,caretLeft:11,caretTop:-8});UM.setTopEditor(n)}).register("click",r,function(){i.edui().hide()});return r})}(jQuery)});
define("4",["1","6","8"],function(i,n,e){var t=i("1"),r=i("6"),s=i("8"),o={options:{},push_error_sign:function(i,n){var e,t;if("function"==typeof this.options.error)this.options.error(i,n);else{e=[];e.push('<span class="n-icon"></span>');e.push('<span class="n-msg">'+n+"</span>");t=i.parent().find(".n-error");if(t.length>0)t.show();else{i.parent().append('<span class="n-error"></span>');t=i.parent().find(".n-error")}t.html(e.join(""));i.parent().find(".n-ok").hide()}},push_ok_sign:function(i){if("function"==typeof this.options.ok)this.options.ok(i);else{var n=i.parent().find(".n-ok");n.length>0?n.show():i.parent().append('<span class="n-ok"></span>');i.parent().find(".n-error").hide()}},check_number:function(i){if(isNaN(i.val())){this.push_error_sign(i,"请填入数字类型");return!1}return!0},positive_integer:function(i){if(!this.check_number(i))return!1;if(parseInt(i.val())!=i.val()){this.push_error_sign(i,"请填入整数");return!1}if(parseInt(i.val())<=0){this.push_error_sign(i,"请填入不小于0的整数");return!1}return!0},required:function(i,n){if(r.isEmpty(i.val())){this.push_error_sign(i,n+"不能为空");return!1}return!0},check_length:function(i,n){var e=n.replace("[","").replace("]","").split("~");if(1==e.length){if(i.val().length==parseInt(e[0]))return!0;this.push_error_sign(i,"请输入"+e[0]+"个字符")}else{if(r.isEmpty(e[0])&&r.isEmpty(e[1]))return!0;if(r.isEmpty(e[0])){if(i.val().length<=parseInt(e[1]))return!0;this.push_error_sign(i,"不能超过"+e[1]+"个字符")}else if(r.isEmpty(e[1])){if(i.val().length>=parseInt(e[0]))return!0;this.push_error_sign(i,"不能少于"+e[0]+"个字符")}else{if(i.val().length>=parseInt(e[0])&&i.val().length<=parseInt(e[1]))return!0;this.push_error_sign(i,"请输入"+e[0]+"到"+e[1]+"个字符")}}return!1},self_function:function(i,n){if("function"!=typeof this.options.rules[i])return!0;var e=this.options.rules[i](n.val());if(e.ret)return!0;this.push_error_sign(n,e.message)},validator:function(i,n){var e,r,s,a=n.split(":"),f=a[0],l=t(i),u=!0;if(2==a.length){e=a[1].split(";");for(r=0;r<e.length;++r){s=e[r];if("required"==s){if(!o.required(l,f)){u=!1;break}}else if(s.indexOf("length")>=0){if(!o.check_length(l,s.replace("length",""))){u=!1;break}}else if("number"===s){if(!o.check_number(l)){u=!1;break}}else if("positive_integer"===s){if(!o.positive_integer(l)){u=!1;break}}else if(!o.self_function(s,l)){u=!1;break}}}u&&o.push_ok_sign(l);return u},validator_fields:function(i){var n,e=!0;for(n in i)t(n).each(function(){o.validator(this,i[n])||(e=!1)});return e},reset_sign:function(i){var n,e=i.fields;for(n in e)if("function"==typeof i.reset_sign)i.reset_sign(t(n));else{t(n).parent().find(".n-error").hide();t(n).parent().find(".n-ok").hide()}},bind_validator_field_mouse_action:function(i){var n,e=i.fields;for(n in e)t(n).each(function(){t(this).blur({field:n,node:this},function(i){o.validator(i.data.node,e[i.data.field])})})},bind_submit_action:function(i,n){t(i.submit_target).unbind("click");t(i.submit_target).bind("click",function(){o.validator_fields(i.fields)&&i.valid(n)});"function"==typeof i.submitAction&&i.submitAction(function(){o.validator_fields(i.fields)&&i.valid(n)})},init_css:function(){t("head").append('<style type="text/css">'+s+"</style>")},init:function(){t.fn["validator"]=function(i){if(0!=t(this).length){o.options=i;o.bind_submit_action(i,this);o.bind_validator_field_mouse_action(i);o.reset_sign(i)}};this.init_css()}};o.init()});
define("6",[],function(t,n,e){"use strict";n.isEmpty=function(t){return"undefined"==typeof t||null==t||0==t.length};n.isNotEmpty=function(t){return!this.isEmpty(t)};n.getFormData=function(t){var n={},e=t.serializeArray();$.each(e,function(){if(void 0!==n[this.name]){n[this.name].push||(n[this.name]=[n[this.name]]);n[this.name].push(this.value||"")}else n[this.name]=this.value||""});return n};n.filterNull=function(t){return this.filterString(t,"")};n.filterString=function(t,n){return this.isEmpty(t)?n:t};n.substring=function(t,n){t=this.filterString(t,"");return t.length<=n?t:t.substring(0,n)+"..."};n.week_show=function(t){var n={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};return n[t]};n.check_score=function(t){var n,e={};e.ret=!1;if(isNaN(t)){e.message="请填入数字";return e}if(t<0||t>100){e.message="请填入0~100之间的分数";return e}n=t.split(".");if(2==n.length&&n[1].length>2){e.message="分数必须是两位以内的小数";return e}e.ret=!0;return e};n.format_number=function(t,n){for(var e=""+t;e.length<n;)e="0"+e;return e}});
define("7",["1","6","9"],function(t,n,o){var i=t("1"),s=(t("6"),t("9")),e={params:{left:0,top:0,currentX:0,currentY:0,move:!1,yesNo:!1,ok:""},onmousedown:function(t,n){t.mousedown(function(o){e.params.move=!0;if(!o){o=window.event;t.onselectstart(function(){return!1})}var i=o;e.params.currentX=i.clientX;e.params.currentY=i.clientY;e.params.left=n.css("left");e.params.top=n.css("top")})},onmouseup:function(t){document.onmouseup=function(){e.params.move=!1;"auto"!==t.css("left")&&(e.params.left=t.css("left"));"auto"!==t.css("top")&&(e.params.top=t.css("top"))}},onmousemove:function(t){document.onmousemove=function(n){var o,i,s,c,a=n?n:window.event;if(e.params.move){o=a.clientX,i=a.clientY;s=o-e.params.currentX,c=i-e.params.currentY;t.css("left",parseInt(e.params.left)+s+"px");t.css("top",parseInt(e.params.top)+c+"px")}}},drag_target:function(t,n){this.onmousedown(t,n);this.onmousemove(n);this.onmouseup(n)}},c={_config:{width:"300px",height:"175px",left:"40%",top:"20%",title:"系统提示",content:"",only_text:!1,query_dialog:!1,dome_node:null},load_css:function(){i("head").append('<style type="text/css">'+s+"</style>")},_dialog:function(t){var n=i(".dialog-dialog_div");if(0==n.length){i("body").prepend('<div class="dialog-dialog_div"></div>');n=i(".dialog-dialog_div")}n.css("width",t.width);n.css("height",t.height);n.css("left",t.left);n.css("top",t.top);n.html(this._build_dialog_html(t));n.show();this._dialog_only_text(n,t);this._bind_yes_no_btn(n,t);e.drag_target(n.find(".title"),n);this._bind_close_action(n)},_dialog_only_text:function(t,n){var o=t.find(".dialog_content"),i=t.height()-t.find(".title").height()-t.find(".bottom").height();o.css("height",i+"px")},_build_dialog_html:function(t){var n=[];n.push("<table>");n.push("<tr>");n.push('<td class="title">');n.push("<span>"+t.title+"</span>");n.push('<a href="javascript:void(0)" class="close"><strong>x</strong></a>');n.push("</td>");n.push("</tr>");n.push("<tr>");n.push('<td class="dialog_content">');n.push(t.content);n.push("</td>");n.push("</tr>");if(t.yesNo){n.push("<tr>");n.push('<td class="bottom">');n.push('<a class="no btn45" href="javascript:void(0)">取消</a>');n.push('<a class="yes btn45" href="javascript:void(0)">确认</a>');n.push("</td>");n.push("</tr>")}n.push("</table>");return n.join("")},_bind_close_action:function(t){var n=t.find(".close");n.unbind("click");n.bind("click",function(){c.close_drag()})},_bind_yes_no_btn:function(t,n){var o,i=t.find(".bottom .no");i.unbind("click");i.bind("click",function(){c.close_drag()});o=t.find(".bottom .yes");o.unbind("click");o.bind("click",function(){"function"==typeof n.ok&&n.ok()})},close_drag:function(){var t=i(".dialog-dialog_div");t.hide();this._config.query_dialog&&this._config.dome_node.html(this._config.content)},init_config:function(t){if("undefined"!==typeof t){var n={};i.extend(n,this._config);return i.extend(n,t)}return this._config},extend_jquery_dialog:function(){i.fn["dialog"]=function(t){c._config.content=this.html();c._dialog(c.init_config(t));c._config.query_dialog=!0;c._config.dome_node=this;this.html("")}},open_dialog:function(t){c._dialog(c.init_config(t))},init:function(){this.load_css();this.extend_jquery_dialog()}};c.init();n.open=c.open_dialog;n.openSample=function(t,n){c.open_dialog({title:t,content:n,yesNo:!1})};n.yesNo=function(t,n,o){c.open_dialog({title:t,content:n,height:"190px",yesNo:!0,ok:o})};n.close=function(t){setTimeout(function(){c.close_drag()},t)}});
define("a",[],function(t,e,s){Date.prototype.format=function(t){var e,s={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(e in s)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?s[e]:("00"+s[e]).substr((""+s[e]).length)));return t}});
define("b",["6"],function(a,t,r){var e=a("6"),i={current_page:1,page_number:function(a,t){var r,e,i,u=[],n=[],p=[];for(r=1;r<5;++r)r<=t&&u.push(r);for(r=a-4;r<=a+4;++r)r>=1&&r<=t&&n.push(r);for(r=t-4;r<=t;++r)r>=1&&r<=t&&p.push(r);e=[];i={};for(r=0;r<u.length;++r){e.push(u[r]);i[u[r]]=1}for(r=0;r<n.length;++r){0==r&&n[0]-e[e.length-1]>1&&e.push("...");if(!i[n[r]]){e.push(n[r]);i[n[r]]=1}}for(r=0;r<p.length;++r){0==r&&p[0]-e[e.length-1]>1&&e.push("...");if(!i[p[r]]){e.push(p[r]);i[p[r]]=1}}return e},html:function(a){var t,r,e,u;i.current_page=a.currentPage;t=[];t.push('<div item="p-page-div">');t.push('<ul class="l">');t.push("当前"+a.currentPage+"/"+a.totalPage+"页");t.push(" 共有 "+a.totalRecord+" 条记录");t.push("</ul>");t.push('<ul class="r">');t.push('<ul class="r">');t.push('<li><a href="javascript:void(0)" data="1">首页</a></li>');1==a.currentPage?t.push('<li><a href="javascript:void(0)" data="1">上一页</a></li>'):t.push('<li><a href="javascript:void(0)" data="'+(a.currentPage-1)+'">上一页</a></li>');r=this.page_number(a.currentPage,a.totalPage);for(e=0;e<r.length;++e){u=r[e];"..."==u?t.push("<li>...</li>"):u==a.currentPage?t.push('<li><a href="javascript:void(0)" class="selected">'+u+"</a></li>"):t.push('<li><a href="javascript:void(0)" data="'+u+'">'+u+"</a></li>")}a.currentPage==a.totalPage?t.push('<li><a href="javascript:void(0)" data="'+a.totalPage+'">下一页</a></li>'):t.push('<li><a href="javascript:void(0)" data="'+(a.currentPage+1)+'">下一页</a></li>');t.push('<li><a href="javascript:void(0)" data="'+a.totalPage+'">末页</a></li>');t.push("</ul>");t.push("</div>");return t.join("")},turning_page:function(a){var t=$('div[item="p-page-div"]').find("A");t.unbind("click");t.bind("click",function(){var t=this.getAttribute("data");e.isEmpty(t)||"..."==t||a(t)})}};t.html=function(a){return i.html(a)};t.turning_page=i.turning_page;t.current_page=function(){return"undefined"==typeof i.current_page||null==i.current_page?1:i.current_page}});
define("c",["6"],function(e,t,i){"use strict";function n(e){var t={selectNode:null,type:"",departmentId:"",lock:!1};"undefined"!=typeof e.university&&(this.universityNode=$.extend({},t,{type:"university"},e.university));"undefined"!=typeof e.college&&(this.collegeNode=$.extend({},t,{type:"college"},e.college));"undefined"!=typeof e.department&&(this.departmentNode=$.extend({},t,{type:"department"},e.department));"undefined"!=typeof e.speciality&&(this.specialityNode=$.extend({},t,{type:"speciality"},e.speciality));this.complete=e.complete;this.main()}var o=e("6");n.prototype={constructor:n,hideSelectNode:function(e){var t,i;for(t=0;t<e.length;++t){i=e[t];if("undefined"!=typeof i){i.selectNode.html("");i.selectNode.hide()}}},buildOptionHtml:function(e,t){var i,n,d,l;if(0==e.length&&"load"==t){"function"==typeof this.complete&&this.complete();return i}n=[];n.push('<option value="">全部</option>');for(d=0;d<e.length;++d){l=e[d];0==d&&(l.isUniversity?i=this.universityNode:l.isCollege?i=this.collegeNode:l.isDepartment?i=this.departmentNode:l.isSpeciality&&(i=this.specialityNode));n.push('<option value="'+l.desId+'">'+l.departmentName+"</option>")}if("undefined"!=typeof i&&null!=i){i.selectNode.html(n.join(""));i.selectNode.show();if(o.isNotEmpty(i.departmentId)){i.selectNode.val(i.departmentId);this.loadUniversityDepartment(i.departmentId,t);i.departmentId=""}else"load"==t&&"function"==typeof this.complete&&this.complete();i.lock&&i.selectNode.attr("disabled","disabled")}return i},bindSelectAction:function(e){if("undefined"!=typeof e&&null!=e&&!e.lock){var t=this;e.selectNode.off("change");e.selectNode.on("change","",e.type,function(e){"university"==e.data?t.hideSelectNode([t.collegeNode,t.departmentNode,t.specialityNode]):"college"==e.data?t.hideSelectNode([t.departmentNode,t.specialityNode]):"department"==e.data&&t.hideSelectNode([t.specialityNode]);var i=$(this).val();o.isNotEmpty(i)&&t.loadUniversityDepartment(i,"action")})}},loadUniversityDepartment:function(e,t){var i=this;$.ajax({url:"/university/list.json",type:"POST",data:{parentDesId:e},dataType:"json",success:function(e){if(e.ret){var n=i.buildOptionHtml(e.data,t);i.bindSelectAction(n)}else console.log("load university department failed:"+e.message)}})},main:function(){this.hideSelectNode([this.collegeNode,this.departmentNode,this.specialityNode]);this.loadUniversityDepartment("","load")}};n.initSelect=function(e){new n(e)};return n});
define("d",[],function(n,e,i){"use strict";e.print=function(n,e,i){var o=document.body.innerHTML;n.hide();document.body.innerHTML=e.prop("outerHTML");window.print();document.body.innerHTML=o;i()}});
define("e",[],function(e,t,n){var l,i;!function(){function e(){C.$dp=C.$dp||{};obj={$:function(e){return"string"==typeof e?M[v].getElementById(e):e},$D:function(e,t){return this.$DV(this.$(e).value,t)},$DV:function(e,t){var n,i,a;if(""!=e){this.dt=l.cal.splitDate(e,l.cal.dateFmt);if(t)for(n in t)if(void 0===this.dt[n])this.errMsg="invalid property:"+n;else{this.dt[n]+=t[n];if("M"==n){i=t["M"]>0?1:0,a=new Date(this.dt["y"],this.dt["M"],0).getDate();this.dt["d"]=Math.min(a+i,this.dt["d"])}}if(this.dt.refresh())return this.dt}return""},show:function(){var e,t,n=C[v].getElementsByTagName("div"),l=1e5;for(e=0;e<n.length;e++){t=parseInt(n[e].style.zIndex);t>l&&(l=t)}this.dd.style.zIndex=l+2;m(this.dd,"block")},hide:function(){m(this.dd,"none")},attachEvent:t};for(var e in obj)C.$dp[e]=obj[e];l=C.$dp;l.dd=C[v].getElementById("_my97DP")}function t(e,t,n){if(x)e.attachEvent(t,n);else if(n){var l=t.replace(/on/,"");n._ieEmuEventHandler=function(e){return n(e)};e.addEventListener(l,n._ieEmuEventHandler,!1)}}function n(){var e,t,n,l=M[v][D]("script");for(n=0;n<l.length;n++){e=l[n].src.substring(0,l[n].src.toLowerCase().indexOf("wdatepicker.js"));t=e.lastIndexOf("/");t>0&&(e=e.substring(0,t+1));if(e)break}return e}function a(e){var t,n,l,i,a,o,r,s,d,f;if("/"!=e.substring(0,1)&&e.indexOf("://")==-1){t=C.location.href;n=location.href;t.indexOf("?")>-1&&(t=t.substring(0,t.indexOf("?")));n.indexOf("?")>-1&&(n=n.substring(0,n.indexOf("?")));a="",o="",r="",f="";for(s=0;s<Math.max(t.length,n.length);s++){l=t.charAt(s).toLowerCase();i=n.charAt(s).toLowerCase();if(l!=i){a=t.substring(d+1,t.length);a=a.substring(0,a.lastIndexOf("/"));o=n.substring(d+1,n.length);o=o.substring(0,o.lastIndexOf("/"));break}"/"==l&&(d=s)}if(""!=a)for(s=0;s<a.split("/").length;s++)f+="../";""!=o&&(f+=o+"/");e=t.substring(0,t.lastIndexOf("/")+1)+f+e}T.$dpPath=e}function o(e,t,n){var l=M[v][D]("HEAD").item(0),i=M[v].createElement("link");if(l){i.href=e;i.rel="stylesheet";i.type="text/css";t&&(i.title=t);n&&(i.charset=n);l.appendChild(i)}}function r(e,n){t(e,"onload",n)}function s(e){var t,n,l,i,a;e=e||C;t=0,n=0;for(;e!=C;){l=e.parent[v][D]("iframe");for(i=0;i<l.length;i++)try{if(l[i].contentWindow==e){a=d(l[i]);t+=a.left;n+=a.top;break}}catch(e){}e=e.parent}return{leftM:t,topM:n}}function d(e){var t,n,l,i,a,o,r,s,d;if(e.getBoundingClientRect)return e.getBoundingClientRect();t={ROOT_TAG:/^body|html$/i,OP_SCROLL:/^(?:inline|table-row)$/i},n=!1,l=null,i=e.offsetTop,a=e.offsetLeft,o=e.offsetWidth,r=e.offsetHeight,s=e.offsetParent;if(s!=e)for(;s;){a+=s.offsetLeft;i+=s.offsetTop;"fixed"==y(s,"position").toLowerCase()?n=!0:"body"==s.tagName.toLowerCase()&&(l=s.ownerDocument.defaultView);s=s.offsetParent}s=e.parentNode;for(;s.tagName&&!t.ROOT_TAG.test(s.tagName);){if((s.scrollTop||s.scrollLeft)&&!t.OP_SCROLL.test(m(s))&&(!E||"visible"!==s.style.overflow)){a-=s.scrollLeft;i-=s.scrollTop}s=s.parentNode}if(!n){d=c(l);a-=d.left;i-=d.top}o+=a;r+=i;return{left:a,top:i,right:o,bottom:r}}function f(e){e=e||C;var t=e[v],n=e.innerWidth?e.innerWidth:t[w]&&t[w].clientWidth?t[w].clientWidth:t.body.offsetWidth,l=e.innerHeight?e.innerHeight:t[w]&&t[w].clientHeight?t[w].clientHeight:t.body.offsetHeight;return{width:n,height:l}}function c(e){e=e||C;var t=e[v],n=t[w],l=t.body;t=n&&null!=n.scrollTop&&(n.scrollTop>l.scrollTop||n.scrollLeft>l.scrollLeft)?n:l;return{top:t.scrollTop,left:t.scrollLeft}}function u(e){var t=e?e.srcElement||e.target:null;try{l.cal&&!l.eCont&&l.dd&&t!=l.el&&"block"==l.dd.style.display&&l.cal.close()}catch(e){}}function h(){l.status=2;g()}function g(){if(l.flatCfgs.length>0){var e=l.flatCfgs.shift();e.el={innerHTML:""};e.autoPickDate=!0;e.qsEnabled=!1;b(e)}}function p(n,i){function a(){return!x||C==M||"complete"==C[v].readyState}function o(){if(L){func=o.caller;for(;null!=func;){var e=func.arguments[0];if(e&&(e+"").indexOf("Event")>=0)return e;func=func.caller}return null}return event}var r,s,d;l.win=M;e();n=n||{};if(i){if(!a()){O=O||setInterval(function(){"complete"==C[v].readyState&&clearInterval(O);p(null,!0)},50);return}if(0!=l.status)return;l.status=1;b({el:{innerHTML:""}},!0)}else if(n.eCont){n.eCont=l.$(n.eCont);l.flatCfgs.push(n);2==l.status&&g()}else{if(0==l.status){p(null,!0);return}if(2!=l.status)return;r=o();if(r){l.srcEl=r.srcElement||r.target;r.cancelBubble=!0}l.el=n.el=l.$(n.el||l.srcEl);if(!l.el||l.el["My97Mark"]===!0||l.el.disabled||l.el==l.el&&"none"!=m(l.dd)&&"-1970px"!=l.dd.style.left){l.el["My97Mark"]=!1;return}b(n);if(r&&1==l.el.nodeType&&void 0===l.el["My97Mark"]){l.el["My97Mark"]=!1;if("focus"==r.type){s="onclick";d="onfocus"}else{s="onfocus";d="onclick"}t(l.el,s,l.el[d])}}}function y(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]}function m(e,t){if(e){if(null==t)return y(e,"display");e.style.display=t}}function b(e,t){function n(){var e,t,n,i,a,o,r=l.position.left,u=l.position.top,h=l.el;h==l.srcEl||"none"!=m(h)&&"hidden"!=h.type||(h=l.srcEl);e=d(h),t=s(M),n=f(C),i=c(C),a=l.dd.offsetHeight,o=l.dd.offsetWidth;isNaN(u)?u="above"==u||"under"!=u&&t.topM+e.bottom+a>n.height&&t.topM+e.top-a>0?i.top+t.topM+e.top-a-2:i.top+t.topM+Math.min(e.bottom,n.height-a)+2:u+=i.top+t.topM;isNaN(r)?r=i.left+Math.min(t.leftM+e.left,n.width-o-5)-(x?2:0):r+=i.left+t.leftM;l.dd.style.top=u+"px";l.dd.style.left=r+"px"}var i,o,u;for(i in T)"$"!=i.substring(0,1)&&(l[i]=T[i]);for(i in e)void 0!==l[i]&&(l[i]=e[i]);o=l.el?l.el.nodeName:"INPUT";if(t||l.eCont||new RegExp(/input|textarea|div|span|p|a/gi).test(o)){l.elProp="INPUT"==o?"value":"innerHTML";"auto"==l.lang&&(l.lang=x?navigator.browserLanguage.toLowerCase():navigator.language.toLowerCase());if(!l.dd||l.eCont||l.lang&&l.realLang&&l.realLang.name!=l.lang&&l.getLangIndex&&l.getLangIndex(l.lang)>=0){l.dd&&!l.eCont&&C[v].body.removeChild(l.dd);""==T.$dpPath&&a(k);u='<iframe style="width:1px;height:1px" src="/static/js/lib/My97DatePicker/My97DatePicker.html" frameborder="0" border="0" scrolling="no"></iframe>';if(l.eCont){l.eCont.innerHTML=u;r(l.eCont.childNodes[0],h)}else{l.dd=C[v].createElement("DIV");l.dd.id="_my97DP";l.dd.style.cssText="position:absolute";l.dd.innerHTML=u;C[v].body.appendChild(l.dd);r(l.dd.childNodes[0],h);if(t)l.dd.style.left=l.dd.style.top="-1970px";else{l.show();n()}}}else if(l.cal){l.show();l.cal.init();l.eCont||n()}}}var M,v,w,D,C,k,x,L,E,O,T={$wdate:!0,$dpPath:"",$crossFrame:!0,doubleCalendar:!1,enableKeyboard:!0,enableInputMask:!0,autoUpdateOnChanged:null,whichDayIsfirstWeek:4,position:{},lang:"auto",skin:"default",dateFmt:"yyyy-MM-dd",realDateFmt:"yyyy-MM-dd",realTimeFmt:"HH:mm:ss",realFullFmt:"%Date %Time",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59",startDate:"",alwaysUseStartDate:!1,yearOffset:1911,firstDayOfWeek:0,isShowWeek:!1,highLineWeekDay:!0,isShowClear:!0,isShowToday:!0,isShowOK:!0,isShowOthers:!0,readOnly:!1,errDealMode:0,autoPickDate:null,qsEnabled:!0,autoShowQS:!1,specialDates:null,specialDays:null,disabledDates:null,disabledDays:null,opposite:!1,onpicking:null,onpicked:null,onclearing:null,oncleared:null,ychanging:null,ychanged:null,Mchanging:null,Mchanged:null,dchanging:null,dchanged:null,Hchanging:null,Hchanged:null,mchanging:null,mchanged:null,schanging:null,schanged:null,eCont:null,vel:null,errMsg:"",quickSel:[],has:{}};i=p;M=window,v="document",w="documentElement",D="getElementsByTagName";switch(navigator.appName){case"Microsoft Internet Explorer":x=!0;break;case"Opera":E=!0;break;default:L=!0}k=n();T.$wdate&&o("/static/js/lib/My97DatePicker/skin/WdatePicker.css");C=M;if(T.$crossFrame)try{for(;C.parent&&C.parent[v]!=C[v]&&0==C.parent[v][D]("frameset").length;)C=C.parent}catch(e){}C.$dp||(C.$dp={ff:L,ie:x,opera:E,el:null,win:M,status:0,defMinDate:T.minDate,defMaxDate:T.maxDate,flatCfgs:[]});e();0==l.status&&r(M,function(){p(null,!0)});if(!M[v].docMD){t(M[v],"onmousedown",u);M[v].docMD=!0}if(!C[v].docMD){t(C[v],"onmousedown",u);C[v].docMD=!0}t(M,"onunload",function(){l.dd&&m(l.dd,"none")})}();t.WdatePicker=i});
define("f",[],function(t,e,n){e.reset_evaluation_table=function(t){var e,n,a,r=1;for(e=0;e<t.length;++e){n=$(t[e]).find(".subject");if(0==e){n.attr("rowspan",1);r=1}else{a=$(t[e-r]).find(".subject");if(n.html()==a.html()){n.hide();a.attr("rowspan",parseInt(a.attr("rowspan"))+1);r++}else{n.attr("rowspan",1);r=1}}}}});
!function(t,e){"function"===typeof define&&define.amd?define("g",[],function(){return e(t)}):e(t)}(this,function(t){var e=function(){function e(t){return null==t?String(t):W[Y.call(t)]||"object"}function n(t){return"function"==e(t)}function r(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(t){return"object"==e(t)}function a(t){return o(t)&&!r(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){var e=!!t&&"length"in t&&t.length,n=S.type(t);return"function"!=n&&!r(t)&&("array"==n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t){return D.call(t,function(t){return null!=t})}function c(t){return t.length>0?S.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(t){return t in k?k[t]:k[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||M[l(t)]?e:e+"px"}function p(t){var e,n;if(!F[t]){e=$.createElement(t);$.body.appendChild(e);n=getComputedStyle(e,"").getPropertyValue("display");e.parentNode.removeChild(e);"none"==n&&(n="block");F[t]=n}return F[t]}function d(t){return"children"in t?L.call(t.children):S.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function m(t,e){var n,r=t?t.length:0;for(n=0;n<r;n++)this[n]=t[n];this.length=r;this.selector=e||""}function v(t,e,n){for(w in e)if(n&&(a(e[w])||tt(e[w]))){a(e[w])&&!a(t[w])&&(t[w]={});tt(e[w])&&!tt(t[w])&&(t[w]=[]);v(t[w],e[w],n)}else e[w]!==T&&(t[w]=e[w])}function g(t,e){return null==e?S(t):S(t).filter(e)}function y(t,e,r,i){return n(e)?e.call(t,r,i):e}function x(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className||"",r=n&&n.baseVal!==T;if(e===T)return r?n.baseVal:n;r?n.baseVal=e:t.className=e}function E(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?S.parseJSON(t):t):t}catch(e){return t}}function j(t,e){e(t);for(var n=0,r=t.childNodes.length;n<r;n++)j(t.childNodes[n],e)}var T,w,S,C,N,O,P=[],A=P.concat,D=P.filter,L=P.slice,$=t.document,F={},k={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},R=/^\s*<(\w+|!)[^>]*>/,Z=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,q=/^(?:body|html)$/i,H=/([A-Z])/g,I=["val","css","html","text","data","width","height","offset"],V=["after","prepend","before","append"],_=$.createElement("table"),B=$.createElement("tr"),U={tr:$.createElement("tbody"),tbody:_,thead:_,tfoot:_,td:B,th:B,"*":$.createElement("div")},X=/complete|loaded|interactive/,J=/^[\w-]*$/,W={},Y=W.toString,G={},K=$.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};G.matches=function(t,e){var n,r,i,o;if(!e||!t||1!==t.nodeType)return!1;n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);i=t.parentNode,o=!i;o&&(i=K).appendChild(t);r=~G.qsa(i,e).indexOf(t);o&&K.removeChild(t);return r};N=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})};O=function(t){return D.call(t,function(e,n){return t.indexOf(e)==n})};G.fragment=function(t,e,n){var r,i,o;Z.test(t)&&(r=S($.createElement(RegExp.$1)));if(!r){t.replace&&(t=t.replace(z,"<$1></$2>"));e===T&&(e=R.test(t)&&RegExp.$1);e in U||(e="*");o=U[e];o.innerHTML=""+t;r=S.each(L.call(o.childNodes),function(){o.removeChild(this)})}if(a(n)){i=S(r);S.each(n,function(t,e){I.indexOf(t)>-1?i[t](e):i.attr(t,e)})}return r};G.Z=function(t,e){return new m(t,e)};G.isZ=function(t){return t instanceof G.Z};G.init=function(t,e){var r;if(!t)return G.Z();if("string"==typeof t){t=t.trim();if("<"==t[0]&&R.test(t))r=G.fragment(t,RegExp.$1,e),t=null;else{if(e!==T)return S(e).find(t);r=G.qsa($,t)}}else{if(n(t))return S($).ready(t);if(G.isZ(t))return t;if(tt(t))r=u(t);else if(o(t))r=[t],t=null;else if(R.test(t))r=G.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==T)return S(e).find(t);r=G.qsa($,t)}}return G.Z(r,t)};S=function(t,e){return G.init(t,e)};S.extend=function(t){var e,n=L.call(arguments,1);if("boolean"==typeof t){e=t;t=n.shift()}n.forEach(function(n){v(t,n,e)});return t};G.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,a=J.test(o);return t.getElementById&&a&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:L.call(a&&!r&&t.getElementsByClassName?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))};S.contains=$.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1};S.type=e;S.isFunction=n;S.isWindow=r;S.isArray=tt;S.isPlainObject=a;S.isEmptyObject=function(t){var e;for(e in t)return!1;return!0};S.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1};S.inArray=function(t,e,n){return P.indexOf.call(e,t,n)};S.camelCase=N;S.trim=function(t){return null==t?"":String.prototype.trim.call(t)};S.uuid=0;S.support={};S.expr={};S.noop=function(){};S.map=function(t,e){var n,r,i,o=[];if(s(t))for(r=0;r<t.length;r++){n=e(t[r],r);null!=n&&o.push(n)}else for(i in t){n=e(t[i],i);null!=n&&o.push(n)}return c(o)};S.each=function(t,e){var n,r;if(s(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t};S.grep=function(t,e){return D.call(t,e)};t.JSON&&(S.parseJSON=JSON.parse);S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()});S.fn={constructor:G.Z,length:0,forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,splice:P.splice,indexOf:P.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++){e=arguments[t];n[t]=G.isZ(e)?e.toArray():e}return A.apply(G.isZ(this)?this.toArray():this,n)},map:function(t){return S(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return S(L.apply(this,arguments))},ready:function(t){X.test($.readyState)&&$.body?t(S):$.addEventListener("DOMContentLoaded",function(){t(S)},!1);return this},get:function(t){return t===T?L.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){P.every.call(this,function(e,n){return t.call(e,n,e)!==!1});return this},filter:function(t){return n(t)?this.not(this.not(t)):S(D.call(this,function(e){return G.matches(e,t)}))},add:function(t,e){return S(O(this.concat(S(t,e))))},is:function(t){return this.length>0&&G.matches(this[0],t)},not:function(t){var e,r=[];if(n(t)&&t.call!==T)this.each(function(e){t.call(this,e)||r.push(this)});else{e="string"==typeof t?this.filter(t):s(t)&&n(t.item)?L.call(t):S(t);this.forEach(function(t){e.indexOf(t)<0&&r.push(t)})}return S(r)},has:function(t){return this.filter(function(){return o(t)?S.contains(this,t):S(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:S(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:S(t)},find:function(t){var e,n=this;e=t?"object"==typeof t?S(t).filter(function(){var t=this;return P.some.call(n,function(e){return S.contains(e,t)})}):1==this.length?S(G.qsa(this[0],t)):this.map(function(){return G.qsa(this,t)}):S();return e},closest:function(t,e){var n=[],r="object"==typeof t&&S(t);this.each(function(o,a){for(;a&&!(r?r.indexOf(a)>=0:G.matches(a,t));)a=a!==e&&!i(a)&&a.parentNode;a&&n.indexOf(a)<0&&n.push(a)});return S(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=S.map(n,function(t){if((t=t.parentNode)&&!i(t)&&e.indexOf(t)<0){e.push(t);return t}});return g(e,t)},parent:function(t){return g(O(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||L.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return D.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display="");"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e,r,i=n(t);this[0]&&!i&&(e=S(t).get(0),r=e.parentNode||this.length>1);return this.each(function(n){S(this).wrapAll(i?t.call(this,n):r?e.cloneNode(!0):e)})},wrapAll:function(t){if(this[0]){S(this[0]).before(t=S(t));for(var e;(e=t.children()).length;)t=e.first();S(t).append(this)}return this},wrapInner:function(t){var e=n(t);return this.each(function(n){var r=S(this),i=r.contents(),o=e?t.call(this,n):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){this.parent().each(function(){S(this).replaceWith(S(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===T?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return S(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return S(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;S(this).empty().append(y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(t))for(w in t)x(this,w,t[w]);else x(this,t,y(this,e,n,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(t))?n:T},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){x(this,t)},this)})},prop:function(t,e){t=Q[t]||t;return 1 in arguments?this.each(function(n){this[t]=y(this,e,n,this[t])}):this[0]&&this[0][t]},removeProp:function(t){t=Q[t]||t;return this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(H,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?E(r):T},val:function(t){if(0 in arguments){null==t&&(t="");return this.each(function(e){this.value=y(this,t,e,this.value)})}return this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=S(this),r=y(this,e,t,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o["position"]="relative");n.css(o)});if(!this.length)return null;if($.documentElement!==this[0]&&!S.contains($.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(t,n){var r,i,o,a;if(arguments.length<2){r=this[0];if("string"==typeof t){if(!r)return;return r.style[N(t)]||getComputedStyle(r,"").getPropertyValue(t)}if(tt(t)){if(!r)return;i={};o=getComputedStyle(r,"");S.each(t,function(t,e){i[e]=r.style[N(e)]||o.getPropertyValue(e)});return i}}a="";if("string"==e(t))n||0===n?a=l(t)+":"+h(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(w in t)t[w]||0===t[w]?a+=l(w)+":"+h(w,t[w])+";":this.each(function(){this.style.removeProperty(l(w))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(S(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&P.some.call(this,function(t){return this.test(b(t))},f(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var n=b(this),r=y(this,t,e,n);r.split(/\s+/g).forEach(function(t){S(this).hasClass(t)||C.push(t)},this);C.length&&b(this,n+(n?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===T)return b(this,"");C=b(this);y(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(f(t)," ")});b(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var r=S(this),i=y(this,t,n,b(this));i.split(/\s+/g).forEach(function(t){(e===T?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===T?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===T?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=q.test(e[0].nodeName)?{top:0,left:0}:e.offset();n.top-=parseFloat(S(t).css("margin-top"))||0;n.left-=parseFloat(S(t).css("margin-left"))||0;r.top+=parseFloat(S(e[0]).css("border-top-width"))||0;r.left+=parseFloat(S(e[0]).css("border-left-width"))||0;return{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||$.body;t&&!q.test(t.nodeName)&&"static"==S(t).css("position");)t=t.offsetParent;return t})}};S.fn.detach=S.fn.remove;["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});S.fn[t]=function(n){var o,a=this[0];return n===T?r(a)?a["inner"+e]:i(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=S(this);a.css(t,y(this,n,e,a[t]()))})}});V.forEach(function(n,r){var i=r%2;S.fn[n]=function(){var n,o,a=S.map(arguments,function(t){var r=[];n=e(t);if("array"==n){t.forEach(function(t){if(t.nodeType!==T)return r.push(t);if(S.zepto.isZ(t))return r=r.concat(t.get());r=r.concat(G.fragment(t))});return r}return"object"==n||null==t?t:G.fragment(t)}),s=this.length>1;return a.length<1?this:this.each(function(e,n){o=i?n:n.parentNode;n=0==r?n.nextSibling:1==r?n.firstChild:2==r?n:null;var u=S.contains($.documentElement,o);a.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!o)return S(e).remove();o.insertBefore(e,n);u&&j(e,function(e){if(null!=e.nodeName&&"SCRIPT"===e.nodeName.toUpperCase()&&(!e.type||"text/javascript"===e.type)&&!e.src){var n=e.ownerDocument?e.ownerDocument.defaultView:t;n["eval"].call(n,e.innerHTML)}})})})};S.fn[i?n+"To":"insert"+(r?"Before":"After")]=function(t){S(t)[n](this);return this}});G.Z.prototype=m.prototype=S.fn;G.uniq=O;G.deserializeValue=E;S.zepto=G;return S}();t.Zepto=e;void 0===t.$&&(t.$=e);!function(e){function n(t){return t._zid||(t._zid=g++)}function r(t,e,r,a){e=i(e);if(e.ns)var s=o(e.ns);return(E[n(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||s.test(t.ns))&&(!r||n(t.fn)===n(r))&&(!a||t.sel==a)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(t,e){return t.del&&!T&&t.e in w||!!e}function s(t){return S[t]||T&&w[t]||t}function u(t,r,o,u,c,f,p){var d=n(t),m=E[d]||(E[d]=[]);r.split(/\s/).forEach(function(n){var r,d;if("ready"==n)return e(document).ready(o);r=i(n);r.fn=o;r.sel=c;r.e in S&&(o=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return r.fn.apply(this,arguments)});r.del=f;d=f||o;r.proxy=function(e){e=l(e);if(!e.isImmediatePropagationStopped()){e.data=u;var n=d.apply(t,e._args==h?[e]:[e].concat(e._args));n===!1&&(e.preventDefault(),e.stopPropagation());return n}};r.i=m.length;m.push(r);"addEventListener"in t&&t.addEventListener(s(r.e),r.proxy,a(r,p))})}function c(t,e,i,o,u){var c=n(t);(e||"").split(/\s/).forEach(function(e){r(t,e,i,o).forEach(function(e){delete E[c][e.i];"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,a(e,u))})})}function l(t,n){if(n||!t.isDefaultPrevented){n||(n=t);e.each(v,function(e,r){var i=n[e];t[e]=function(){this[r]=p;return i&&i.apply(n,arguments)};t[r]=d});t.timeStamp||(t.timeStamp=Date.now());(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=p)}return t}function f(t){var e,n={originalEvent:t};for(e in t)m.test(e)||t[e]===h||(n[e]=t[e]);return l(n,t)}var h,p,d,m,v,g=1,y=Array.prototype.slice,x=e.isFunction,b=function(t){return"string"==typeof t},E={},j={},T="onfocusin"in t,w={focus:"focusin",blur:"focusout"},S={mouseenter:"mouseover",mouseleave:"mouseout"};j.click=j.mousedown=j.mouseup=j.mousemove="MouseEvents";e.event={add:u,remove:c};e.proxy=function(t,r){var i,o=2 in arguments&&y.call(arguments,2);if(x(t)){i=function(){return t.apply(r,o?o.concat(y.call(arguments)):arguments)};i._zid=n(t);return i}if(b(r)){if(o){o.unshift(t[r],t);return e.proxy.apply(null,o)}return e.proxy(t[r],t)}throw new TypeError("expected function")};e.fn.bind=function(t,e,n){return this.on(t,e,n)};e.fn.unbind=function(t,e){return this.off(t,e)};e.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};p=function(){return!0},d=function(){return!1},m=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,v={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,e,n){return this.on(e,t,n)};e.fn.undelegate=function(t,e,n){return this.off(e,t,n)};e.fn.live=function(t,n){e(document.body).delegate(this.selector,t,n);return this};e.fn.die=function(t,n){e(document.body).undelegate(this.selector,t,n);return this};e.fn.on=function(t,n,r,i,o){var a,s,l=this;if(t&&!b(t)){e.each(t,function(t,e){l.on(t,n,r,e,o)});return l}b(n)||x(i)||i===!1||(i=r,r=n,n=h);i!==h&&r!==!1||(i=r,r=h);i===!1&&(i=d);return l.each(function(l,h){o&&(a=function(t){c(h,t.type,i);return i.apply(this,arguments)});n&&(s=function(t){var r,o=e(t.target).closest(n,h).get(0);if(o&&o!==h){r=e.extend(f(t),{currentTarget:o,liveFired:h});return(a||i).apply(o,[r].concat(y.call(arguments,1)))}});u(h,t,i,r,n,s||a)})};e.fn.off=function(t,n,r){var i=this;if(t&&!b(t)){e.each(t,function(t,e){i.off(t,n,e)});return i}b(n)||x(r)||r===!1||(r=n,n=h);r===!1&&(r=d);return i.each(function(){c(this,t,r,n)})};e.fn.trigger=function(t,n){t=b(t)||e.isPlainObject(t)?e.Event(t):l(t);t._args=n;return this.each(function(){t.type in w&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})};e.fn.triggerHandler=function(t,n){var i,o;this.each(function(a,s){i=f(b(t)?e.Event(t):t);i._args=n;i.target=s;e.each(r(s,t.type||t),function(t,e){o=e.proxy(i);if(i.isImmediatePropagationStopped())return!1})});return o};"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}});e.Event=function(t,e){var n,r,i;b(t)||(e=t,t=e.type);n=document.createEvent(j[t]||"Events"),r=!0;if(e)for(i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];n.initEvent(t,r,!0);return l(n)}}(e);!function(e){function n(t,n,r){var i=e.Event(n);e(t).trigger(i,r);return!i.isDefaultPrevented()}function r(t,e,r,i){if(t.global)return n(e||E,r,i)}function i(t){t.global&&0===e.active++&&r(t,null,"ajaxStart")}function o(t){t.global&&!--e.active&&r(t,null,"ajaxStop")}function a(t,e){var n=e.context;if(e.beforeSend.call(n,t,e)===!1||r(e,n,"ajaxBeforeSend",[t,e])===!1)return!1;r(e,n,"ajaxSend",[t,e])}function s(t,e,n,i){var o=n.context,a="success";n.success.call(o,t,a,e);i&&i.resolveWith(o,[t,a,e]);r(n,o,"ajaxSuccess",[e,n,t]);c(a,e,n)}function u(t,e,n,i,o){var a=i.context;i.error.call(a,n,e,t);o&&o.rejectWith(a,[n,e,t]);r(i,a,"ajaxError",[n,i,t||e]);c(e,n,i)}function c(t,e,n){var i=n.context;n.complete.call(i,e,t);r(n,i,"ajaxComplete",[e,n]);o(n)}function l(t,e,n){if(n.dataFilter==f)return t;var r=n.context;return n.dataFilter.call(r,t,e)}function f(){}function h(t){t&&(t=t.split(";",2)[0]);return t&&(t==C?"html":t==S?"json":T.test(t)?"script":w.test(t)&&"xml")||"text"}function p(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional));!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=p(t.url,t.data),t.data=void 0)}function m(t,n,r,i){e.isFunction(n)&&(i=r,r=n,n=void 0);e.isFunction(r)||(i=r,r=void 0);return{url:t,data:n,success:r,dataType:i}}function v(t,n,r,i){var o,a=e.isArray(n),s=e.isPlainObject(n);e.each(n,function(n,u){o=e.type(u);i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]");!i&&a?t.add(u.name,u.value):"array"==o||!r&&"object"==o?v(t,u,r,n):t.add(n,u)})}var g,y,x,b=+new Date,E=t.document,j=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,T=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,S="application/json",C="text/html",N=/^\s*$/,O=E.createElement("a");O.href=t.location.href;e.active=0;e.ajaxJSONP=function(n,r){if(!("type"in n))return e.ajax(n);var i,o,c=n.jsonpCallback,l=(e.isFunction(c)?c():c)||"Zepto"+b++,f=E.createElement("script"),h=t[l],p=function(t){e(f).triggerHandler("error",t||"abort")},d={abort:p};r&&r.promise(d);e(f).on("load error",function(a,c){clearTimeout(o);e(f).off().remove();"error"!=a.type&&i?s(i[0],d,n,r):u(null,c||"error",d,n,r);t[l]=h;i&&e.isFunction(h)&&h(i[0]);h=i=void 0});if(a(d,n)===!1){p("abort");return d}t[l]=function(){i=arguments};f.src=n.url.replace(/\?(.+)=\?/,"?$1="+l);E.head.appendChild(f);n.timeout>0&&(o=setTimeout(function(){p("timeout")},n.timeout));return d};e.ajaxSettings={type:"GET",beforeSend:f,success:f,error:f,complete:f,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:f};e.ajax=function(n){var r,o,c,m,v,x,b,j,T,w,S,C,P=e.extend({},n||{}),A=e.Deferred&&e.Deferred();for(g in e.ajaxSettings)void 0===P[g]&&(P[g]=e.ajaxSettings[g]);i(P);if(!P.crossDomain){r=E.createElement("a");r.href=P.url;r.href=r.href;P.crossDomain=O.protocol+"//"+O.host!==r.protocol+"//"+r.host}P.url||(P.url=t.location.toString());(o=P.url.indexOf("#"))>-1&&(P.url=P.url.slice(0,o));d(P);c=P.dataType,m=/\?.+=\?/.test(P.url);m&&(c="jsonp");P.cache!==!1&&(n&&n.cache===!0||"script"!=c&&"jsonp"!=c)||(P.url=p(P.url,"_="+Date.now()));if("jsonp"==c){m||(P.url=p(P.url,P.jsonp?P.jsonp+"=?":P.jsonp===!1?"":"callback=?"));return e.ajaxJSONP(P,A)}v=P.accepts[c],x={},b=function(t,e){x[t.toLowerCase()]=[t,e]},j=/^([\w-]+:)\/\//.test(P.url)?RegExp.$1:t.location.protocol,T=P.xhr(),w=T.setRequestHeader;A&&A.promise(T);P.crossDomain||b("X-Requested-With","XMLHttpRequest");b("Accept",v||"*/*");if(v=P.mimeType||v){v.indexOf(",")>-1&&(v=v.split(",",2)[0]);T.overrideMimeType&&T.overrideMimeType(v)}(P.contentType||P.contentType!==!1&&P.data&&"GET"!=P.type.toUpperCase())&&b("Content-Type",P.contentType||"application/x-www-form-urlencoded");if(P.headers)for(y in P.headers)b(y,P.headers[y]);T.setRequestHeader=b;T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=f;clearTimeout(S);var t,n=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==j){c=c||h(P.mimeType||T.getResponseHeader("content-type"));if("arraybuffer"==T.responseType||"blob"==T.responseType)t=T.response;else{t=T.responseText;try{t=l(t,c,P);"script"==c?(0,eval)(t):"xml"==c?t=T.responseXML:"json"==c&&(t=N.test(t)?null:e.parseJSON(t))}catch(t){n=t}if(n)return u(n,"parsererror",T,P,A)}s(t,T,P,A)}else u(T.statusText||null,T.status?"error":"abort",T,P,A)}};if(a(T,P)===!1){T.abort();u(null,"abort",T,P,A);return T}C=!("async"in P)||P.async;T.open(P.type,P.url,C,P.username,P.password);if(P.xhrFields)for(y in P.xhrFields)T[y]=P.xhrFields[y];for(y in x)w.apply(T,x[y]);P.timeout>0&&(S=setTimeout(function(){T.onreadystatechange=f;T.abort();u(null,"timeout",T,P,A)},P.timeout));T.send(P.data?P.data:null);return T};e.get=function(){return e.ajax(m.apply(null,arguments))};e.post=function(){var t=m.apply(null,arguments);t.type="POST";return e.ajax(t)};e.getJSON=function(){var t=m.apply(null,arguments);t.dataType="json";return e.ajax(t)};e.fn.load=function(t,n,r){if(!this.length)return this;var i,o=this,a=t.split(/\s/),s=m(t,n,r),u=s.success;a.length>1&&(s.url=a[0],i=a[1]);s.success=function(t){o.html(i?e("<div>").html(t.replace(j,"")).find(i):t);u&&u.apply(o,arguments)};e.ajax(s);return this};x=encodeURIComponent;e.param=function(t,n){var r=[];r.add=function(t,n){e.isFunction(n)&&(n=n());null==n&&(n="");this.push(x(t)+"="+x(n))};v(r,t,n);return r.join("&").replace(/%20/g,"+")}}(e);!function(t){t.fn.serializeArray=function(){var e,n,r=[],i=function(t){if(t.forEach)return t.forEach(i);r.push({name:e,value:t})};this[0]&&t.each(this[0].elements,function(r,o){n=o.type,e=o.name;e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(t(o).val())});return r};t.fn.serialize=function(){var t=[];this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))});return t.join("&")};t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n);n.isDefaultPrevented()||this.get(0).submit()}return this}}(e);!function(){try{getComputedStyle(void 0)}catch(n){var e=getComputedStyle;t.getComputedStyle=function(t,n){try{return e(t,n)}catch(t){return null}}}}();return e});
define("i",["g","j"],function(o,e,n){var s=o("g"),t=o("j"),l={closePanel:function(o){o.panelNode.css("transform","translate3d("+window.screen.width+"px, 0px, 0px)");o.contentWrap.css("transform","translate3d(0px, 0px, 0px)");setTimeout(function(){o.panelNode.css("visibility","hidden")},o.transformSpeed);"function"==typeof o.closeFunction&&o.closeFunction()},openPanel:function(o){o.panelNode.show();o.panelNode.css("visibility","visible");o.sourcePanelSwitch&&o.contentWrap.css("transform","translate3d(-"+o.panelNode.width()+"px, 0px, 0px)");o.panelNode.css("transform","translate3d("+(window.screen.width-o.panelNode.width())+"px, 0px, 0px)")},scrollToClose:function(o){new t({target_node:o.panelNode,end_callback:function(e){var n,s;if(!(Math.abs(e.range.x2-e.range.x1)<50)){n=Math.abs(e.range.x1-e.range.x2);s=Math.abs(e.range.y1-e.range.y2);0!=s&&n/s<3||"_right"==e.swipe_direction(e.range)&&l.closePanel(o)}}})}},i={scrollTop:0,options:{contentWrap:"",position:"right",openNode:"",scrollClose:!0,transformSpeed:350,sourcePanelSwitch:!0,closeFunction:null,panelNode:""},scrollPanel:function(o){o.contentWrap.css("-webkit-transition","-webkit-transform "+o.transformSpeed+"ms ease");o.panelNode.css("-webkit-transition","-webkit-transform "+o.transformSpeed+"ms ease");o.panelNode.css("position","fixed");if("left"==o.position)this.scrollPanelLeft(o);else if("right"==o.position){this._closePanel=l.closePanel;this._opentPanel=l.openPanel;this._scrollToClose=l.scrollToClose}if("object"==typeof o.openNode){this._closePanel(o);o.openNode.unbind("click");o.openNode.bind("click",function(){i.scrollTop=document.body.scrollTop;document.body.scrollTop=0;i._opentPanel(o)})}else{i.scrollTop=document.body.scrollTop;document.body.scrollTop=0;i._opentPanel(o)}o.scrollClose&&this._scrollToClose(o);this.closePanel=function(){document.body.scrollTop=i.scrollTop;i._closePanel(this.options)}},scrollPanelLeft:function(o){},init:function(){s.fn["panel"]=function(o){this.options=s.extend({},i.options,o);this.options.panelNode=s(this);i.scrollPanel(this.options);this.closePanel=i.closePanel;return this}}};i.init()});
define("j",["g","6"],function(t,e,n){var o,i;t("g");o=t("6");i=function(t){var e={target_node:null,start_event_callback:null,move_event_callback:null,end_callback:null},n={touch_timeout:null,tap_timeout:null,swipe_timeout:null,long_tap_timeout:null,long_tap_delay:750},o={x1:0,y1:0,x2:0,y2:0},i={clean_time_out:function(t){t&&clearTimeout(t);t=null},clean_long_tap_timeout:function(){this.clean_time_out(n.long_tap_timeout);n.long_tap_timeout=null},clean_touch_timeout:function(){this.clean_time_out(n.touch_timeout);n.touch_timeout=null},clean_tap_timeout:function(){this.clean_time_out(n.tap_timeout);n.tap_timeout=null},clean_swipe_timeout:function(){this.clean_time_out(n.swipe_timeout);n.swipe_timeout=null},clean_range:function(){o.x1=0;o.y1=0;o.x2=0;o.y2=0},clean_all:function(){this.clean_long_tap_timeout();this.clean_touch_timeout();this.clean_tap_timeout();this.clean_swipe_timeout();this.clean_range()},swipe_direction:function(t){var e=Math.abs(t.x1-t.x2),n=Math.abs(t.y1-t.y2);return e>=n?t.x1-t.x2>0?"_left":"_right":t.y1-t.y2>0?"_up":"_down"},get_touch_point:function(t){var e={x:0,y:0};if("undefined"!=typeof t.clientX){e.x=t.clientX;e.y=t.clientY}else if("undefined"!=typeof t.touches&&t.touches.length>0){e.x=t.touches[0].pageX;e.y=t.touches[0].pageY}else if("undefined"!=typeof t.originalEvent&&"undefined"!=typeof t.originalEvent.targetTouches&&t.originalEvent.targetTouches.length>0){e.x=t.originalEvent.targetTouches[0].clientX;e.y=t.originalEvent.targetTouches[0].clientY}return e},bind_touch_action:function(){var t=/hp-tablet/gi.test(navigator.appVersion),a="ontouchstart"in window&&!t,l=("onorientationchange"in window?"orientationchange":"resize",a?"touchstart":"mousedown"),u=a?"touchmove":"mousemove",c=a?"touchend":"mouseup";e.target_node.bind(l,function(t){var a=i.get_touch_point(t);o.x1=a.x;o.y1=a.y;o.x2=o.x1;o.y2=o.y1;"long_tap"==e.type&&"function"==typeof e.end_callback&&(n.long_tap_timeout=setTimeout(e.end_callback,n.long_tap_delay));"function"==typeof e.start_event_callback&&e.start_event_callback(t)}).bind(u,function(t){i.clean_long_tap_timeout();var n=i.get_touch_point(t);o.x2=n.x;o.y2=n.y;t.range=o;"function"==typeof e.move_event_callback&&e.move_event_callback(t)}).bind(c,function(t){i.clean_long_tap_timeout();t.range=o;t.swipe_direction=i.swipe_direction;n.swipe_timeout=setTimeout(function(){"function"==typeof e.end_callback&&e.end_callback(t);i.clean_range()})}).bind("touchcancel",function(t){i.clean_all()})},init:function(t){$.extend(e,t);this.bind_touch_action()}};i.init(t);return i};return i});
define("k",["g","j","6"],function(l,r,t){var n,o,a;l("g");n=l("j");o=l("6");a=function(l){var r,t={target_node:null,v_scroll:!1,h_scroll:!1,h_left_scroll:!1,h_right_scroll:!1,v_up_scroll:!1,v_down_scroll:!1,max_scroll:99999,can_scroll_with_window:!0,start_event_callback:null,move_event_callback:null,end_callback:null},a={window_scroll_x:0,window_scroll_y:0,can_scroll:!1,start_transform:""},_=function(l,r){if(c(l,r)){t.h_left_scroll||t.h_right_scroll?(t.h_left_scroll&&!t.h_right_scroll&&l>0||t.h_right_scroll&&!t.h_left_scroll&&l<0)&&(l=0):t.h_scroll||(l=0);t.v_up_scroll||t.v_down_scroll?(t.v_up_scroll&&!t.v_down_scroll&&r>0||t.v_down_scroll&&!t.v_up_scroll&&r<0)&&(r=0):t.v_scroll||(r=0);if(null!=t.max_scroll&&!isNaN(t.max_scroll)){Math.abs(l)>t.max_scroll&&(l=l>0?t.max_scroll:0-t.max_scroll);Math.abs(r)>t.max_scroll&&(r=r>0?t.max_scroll:0-t.max_scroll)}s(l,r)}},c=function(l,r){if(!a.can_scroll)return!1;if(t.can_scroll_with_window&&(window.scrollX!=a.window_scroll_x||window.scrollY!=a.window_scroll_y)){a.can_scroll=!1;return!1}if(t.h_left_scroll||t.h_right_scroll||t.h_scroll){if(Math.abs(r)>Math.abs(l))return!1;if(Math.abs(l)/Math.abs(r)<1.5)return!1}if(t.v_up_scroll||t.v_down_scroll||t.v_scroll){if(Math.abs(l)>Math.abs(r))return!1;if(Math.abs(r)/Math.abs(l)<1.5)return!1}return!0},s=function(l,r){t.target_node.css({"transition-property":"-webkit-transform","transform-origin":"0px 0px 0px",transform:"translate("+l+"px, "+r+"px) scale(1) translateZ(0px)"})},e=function(){if(o.isNotEmpty(a.start_transform))t.target_node.css("transform",a.start_transform);else{t.target_node.attr("translate-x","0");t.target_node.attr("translate-y","0");s(0,0)}};$.extend(t,l);t.can_scroll_with_window&&$(window).scroll(function(){a.can_scroll=!1});r=new n({target_node:t.target_node,start_event_callback:function(l){"function"==typeof t.start_event_callback&&t.start_event_callback(l);a.can_scroll=!0;a.window_scroll_x=window.scrollX;a.window_scroll_y=window.scrollY;var r=t.target_node.css("transform");r.indexOf("translate")>=0&&(a.start_transform=r)},move_event_callback:function(l){_(l.range.x2-l.range.x1,l.range.y2-l.range.y1);"function"==typeof t.move_event_callback&&t.move_event_callback(l)},end_callback:function(l){if(c(l.range.x2-l.range.x1,l.range.y2-l.range.y1)){l.clean_target_transform=e;"function"==typeof t.end_callback&&t.end_callback(l)}else e()}})};return a});
define("l",["g","n","o"],function(o,t,e){var i,n;o("g");o("n");i=o("o");n={load_css:function(){$("head").append('<style type="text/css">'+i+"</style>")},has_dialog:function(){return!(null==n.dialog_||"undefined"==typeof n.dialog_||!n.dialog_.isLock())},push_error_message:function(o){this.has_dialog()||(n.dialog_=$.dialog({content:o,title:"alert",time:2e3}))},push_ok_message:function(o){this.has_dialog()||(n.dialog_=$.dialog({content:o,title:"ok",time:2e3}))},dialog_load:function(o){n.close_dialog();n.dialog_=$.dialog({content:o,title:"load"})},close_dialog:function(){null!=n.dialog_&&"undefined"!=typeof n.dialog_&&n.dialog_.close()},yes_no:function(o,t){this.has_dialog()||$.dialog({content:o,okText:"确定",cancelText:"取消",ok:t,cancel:function(){},title:""})},init:function(){this.load_css()}};n.init();return n});
define("n",["g"],function(t,i,s){var n,o,e,a,l,c;t("g");n=$(window),o=$(document),e=1,a=!1;l=function(t){this.settings=$.extend({},l.defaults,t);this.init()};l.prototype={init:function(){this.create();this.settings.lock&&this.lock();isNaN(this.settings.time)||null==this.settings.time||this.time()},create:function(){var t,i=null==this.settings.title?"":'<div class="rDialog-header-'+this.settings.title+'"></div>',s="rDialog";"undefined"!=typeof this.settings.updClass&&(s=this.settings.updClass);t='<div class="'+s+'-wrap">'+i+'<div class="rDialog-content">'+this.settings.content+'</div><div class="rDialog-footer"></div></div>';this.dialog=$("<div>").addClass("rDialog").css({zIndex:this.settings.zIndex+e++}).html(t).prependTo("body");$.isFunction(this.settings.ok)&&this.ok();$.isFunction(this.settings.cancel)&&this.cancel();this.size();this.position()},updClass:function(){$(".rDialog-wrap").addClass(this.settings.className)},ok:function(){var t=this,i=this.dialog.find(".rDialog-footer");$("<a>",{href:"javascript:;",text:this.settings.okText}).on("click",function(){var i=t.settings.ok();(void 0==i||i)&&t.close()}).addClass("rDialog-ok").prependTo(i)},cancel:function(){var t=this,i=this.dialog.find(".rDialog-footer");$("<a>",{href:"javascript:;",text:this.settings.cancelText}).on("click",function(){var i=t.settings.cancel();(void 0==i||i)&&t.close()}).addClass("rDialog-cancel").appendTo(i)},size:function(){var t=this.dialog.find(".rDialog-content");this.dialog.find(".rDialog-wrap");t.css({width:this.settings.width,height:this.settings.height})},position:function(){var t=this,i=n.width(),s=n.height(),o=0;this.dialog.css({left:(i-t.dialog.width())/2,top:(s-t.dialog.height())/2+o})},lock:function(){if(!a){this.lock=$("<div>").css({zIndex:this.settings.zIndex}).addClass("rDialog-mask");this.lock.appendTo("body");a=!0}},unLock:function(){if(this.settings.lock&&"function"==typeof this.lock.remove){this.lock.remove();a=!1}},isLock:function(){return a},close:function(){this.dialog.remove();this.unLock()},time:function(){var t=this;this.closeTimer=setTimeout(function(){t.close()},this.settings.time)}};l.defaults={content:"加载中...",title:"load",width:"auto",height:"auto",ok:null,cancel:null,okText:"确定",cancelText:"取消",time:null,lock:!0,zIndex:9999};c=function(t){return new l(t)};window.rDialog=$.rDialog=$.dialog=c});
define("m",["g","k","6","l","p"],function(t,e,n){function a(t,e,n,a){this.current_page=t;this.total_page=e;this.target_node=n;this.turning_page_action=a;this.init()}var _,i,o,r;t("g");_=t("k");i=t("6");o=t("l");r=t("p");a.prototype={constructor:a,push_load_btn:function(){var t,e,n=this.target_node.parent();n.find(".ui_page_load_more_btn").length<=0&&n.append('<div class="ui_page_load_more_panel"><button class="ui_page_load_more_btn"></button></div>');t=n.find(".ui_page_load_more_panel .ui_page_load_more_btn");t.off("click");e=this;if(this.current_page<this.total_page){t.html("点击加载更多");t.on("click",function(){e.turning_page($(this))})}else t.html("暂无更多内容")},turning_page:function(t){if(this.current_page<this.total_page){this.current_page++;this.turning_page_action(this.current_page)}else{t.html("暂无更多内容");t.off("click")}},bind_scroll:function(){var t=this;new _({target_node:this.target_node,v_up_scroll:!0,max_scroll:200,can_scroll_with_window:!1,end_callback:function(e){var n,a;if("_up"==e.swipe_direction(e.range)){e.clean_target_transform();n=t.target_node.parent();a=n.find(".ui_page_load_more_panel .ui_page_load_more_btn");t.turning_page(a)}}})},init:function(){this.push_load_btn();this.bind_scroll()}};a.loadSinglePage=function(t,e,n,_){if("undefined"==typeof a._pageInfo||1==t)a._pageInfo=new a(t,e,n,_);else{a._pageInfo.current_page=t;a._pageInfo.total_page=e}};a.load_css=function(){$("head").append('<style type="text/css">'+r+"</style>")};a.load_css();return a});
define("p",[],function(y,d,r){r.exports="@charset \"UTF-8\";.ui_page_load_more_panel{height:2.5rem;line-height:2.5rem;width:100%;overflow:hidden;margin-top:1rem}.ui_page_load_more_panel .ui_page_load_more_btn{width:100%;height:100%;text-align:center;background-color:#FFF;color:#555;border:none}"});
define("q",[],function(require,exports,module){var rwindow,rdocument,RELANG,RLANG;"undefined"===typeof RELANG&&(RELANG={});RLANG={html:"HTML",video:"Insert Video",image:"Insert Image",table:"Table",link:"Link",link_insert:"Insert link",unlink:"Unlink",formatting:"Formatting",paragraph:"Paragraph",quote:"Quote",code:"Code",header1:"标题 1",header2:"标题 2",header3:"标题 3",header4:"标题 4",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",insert_table:"Insert Table",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code",file:"Insert File",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align text to the left",align_center:"Center text",align_right:"Align text to the right",align_justify:"Justify text",horizontalrule:"Insert Horizontal Rule",deleted:"Deleted",anchor:"Anchor",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment"};!function(t){t.fn.redactor=function(i){return this.each(function(){var o=t(this),r=o.data("redactor");r||o.data("redactor",r=new e(this,i))})};var e=function(e,i){this.$el=t(e);"undefined"!==typeof i&&"undefined"!==typeof i.lang&&"en"!==i.lang&&"undefined"!==typeof RELANG[i.lang]&&(RLANG=RELANG[i.lang]);this.opts=t.extend({iframe:!1,css:!1,lang:"zn",direction:"ltr",callback:!1,keyupCallback:!1,keydownCallback:!1,execCommandCallback:!1,plugins:!1,cleanup:!0,focus:!1,tabindex:!1,autoresize:!0,minHeight:!1,fixed:!1,fixedTop:0,fixedBox:!1,source:!0,shortcuts:!0,mobile:!0,air:!1,wym:!1,convertLinks:!0,convertDivs:!0,protocol:"http://",autosave:!1,autosaveCallback:!1,interval:60,imageGetJson:!1,imageUpload:!1,imageUploadCallback:!1,imageUploadErrorCallback:!1,fileUpload:!1,fileUploadCallback:!1,fileUploadErrorCallback:!1,uploadCrossDomain:!1,uploadFields:!1,observeImages:!0,overlay:!0,allowedTags:["form","input","button","select","option","datalist","output","textarea","fieldset","legend","section","header","hgroup","aside","footer","article","details","nav","progress","time","canvas","code","span","div","label","a","br","p","b","i","del","strike","u","img","video","source","track","audio","iframe","object","embed","param","blockquote","mark","cite","small","ul","ol","li","hr","dl","dt","dd","sup","sub","big","pre","code","figure","figcaption","strong","em","table","tr","td","th","tbody","thead","tfoot","h1","h2","h3","h4","h5","h6"],toolbarExternal:!1,buttonsCustom:{},buttonsAdd:[],buttons:["html","|","formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","image","video","file","table","link","|","fontcolor","backcolor","|","alignment","|","horizontalrule"],airButtons:["formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","fontcolor","backcolor"],formattingTags:["p","blockquote","pre","h1","h2","h3","h4"],activeButtons:["deleted","italic","bold","underline","unorderedlist","orderedlist"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",ul:"unorderedlist",ol:"orderedlist",u:"underline"},colors:["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffff00","#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#fff2ca","#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#ffe694","#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#b7dde8","#fac08f","#f2c314","#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#92cddc","#e36c09","#c09100","#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#31859b","#974806","#7f6000"],emptyHtml:"<p><br /></p>",buffer:!1,visual:!0,modal_file:String()+'<div id="redactor_modal_content"><form id="redactorUploadFileForm" method="post" action="" enctype="multipart/form-data"><label>Name (optional)</label><input type="text" id="redactor_filename" class="redactor_input" /><div style="margin-top: 7px;"><input type="file" id="redactor_file" name="file" /></div></form><br></div>',modal_image_edit:String()+'<div id="redactor_modal_content"><label>'+RLANG.title+'</label><input id="redactor_file_alt" class="redactor_input" /><label>'+RLANG.link+'</label><input id="redactor_file_link" class="redactor_input" /><label>'+RLANG.image_position+'</label><select id="redactor_form_image_align"><option value="none">'+RLANG.none+'</option><option value="left">'+RLANG.left+'</option><option value="right">'+RLANG.right+'</option></select></div><div id="redactor_modal_footer"><a href="javascript:void(null);" id="redactor_image_delete_btn" class="redactor_modal_btn">'+RLANG._delete+'</a>&nbsp;&nbsp;&nbsp;<a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+'</a><input type="button" name="save" class="redactor_modal_btn" id="redactorSaveBtn" value="'+RLANG.save+'" /></div>',modal_image:String()+'<div id="redactor_modal_content"><div id="redactor_tabs"><a href="javascript:void(null);" class="redactor_tabs_act">'+RLANG.upload+'</a><a href="javascript:void(null);">'+RLANG.choose+'</a><a href="javascript:void(null);">'+RLANG.link+'</a></div><form id="redactorInsertImageForm" method="post" action="" enctype="multipart/form-data"><div id="redactor_tab1" class="redactor_tab"><input type="file" id="redactor_file" name="file" /></div><div id="redactor_tab2" class="redactor_tab" style="display: none;"><div id="redactor_image_box"></div></div></form><div id="redactor_tab3" class="redactor_tab" style="display: none;"><label>'+RLANG.image_web_link+'</label><input type="text" name="redactor_file_link" id="redactor_file_link" class="redactor_input"  /></div></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+'</a><input type="button" name="upload" class="redactor_modal_btn" id="redactor_upload_btn" value="'+RLANG.insert+'" /></div>',modal_link:String()+'<div id="redactor_modal_content"><form id="redactorInsertLinkForm" method="post" action=""><div id="redactor_tabs"><a href="javascript:void(null);" class="redactor_tabs_act">URL</a><a href="javascript:void(null);">Email</a><a href="javascript:void(null);">'+RLANG.anchor+'</a></div><input type="hidden" id="redactor_tab_selected" value="1" /><div class="redactor_tab" id="redactor_tab1"><label>URL</label><input type="text" id="redactor_link_url" class="redactor_input"  /><label>'+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_url_text" /><label><input type="checkbox" id="redactor_link_blank"> '+RLANG.link_new_tab+'</label></div><div class="redactor_tab" id="redactor_tab2" style="display: none;"><label>Email</label><input type="text" id="redactor_link_mailto" class="redactor_input" /><label>'+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_mailto_text" /></div><div class="redactor_tab" id="redactor_tab3" style="display: none;"><label>'+RLANG.anchor+'</label><input type="text" class="redactor_input" id="redactor_link_anchor"  /><label>'+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_anchor_text" /></div></form></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+'</a><input type="button" class="redactor_modal_btn" id="redactor_insert_link_btn" value="'+RLANG.insert+'" /></div>',modal_table:String()+'<div id="redactor_modal_content"><label>'+RLANG.rows+'</label><input type="text" size="5" value="2" id="redactor_table_rows" /><label>'+RLANG.columns+'</label><input type="text" size="5" value="3" id="redactor_table_columns" /></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+'</a><input type="button" name="upload" class="redactor_modal_btn" id="redactor_insert_table_btn" value="'+RLANG.insert+'" /></div>',modal_video:String()+'<div id="redactor_modal_content"><form id="redactorInsertVideoForm"><label>'+RLANG.video_html_code+'</label><textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea></form></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+'</a><input type="button" class="redactor_modal_btn" id="redactor_insert_video_btn" value="'+RLANG.insert+'" /></div>',toolbar:{html:{title:RLANG.html,func:"toggle"},formatting:{title:RLANG.formatting,func:"show",dropdown:{p:{title:RLANG.paragraph,exec:"formatblock"},blockquote:{title:RLANG.quote,exec:"formatblock",className:"redactor_format_blockquote"},pre:{title:RLANG.code,exec:"formatblock",className:"redactor_format_pre"},h1:{title:RLANG.header1,exec:"formatblock",className:"redactor_format_h1"},h2:{title:RLANG.header2,exec:"formatblock",className:"redactor_format_h2"},h3:{title:RLANG.header3,exec:"formatblock",className:"redactor_format_h3"},h4:{title:RLANG.header4,exec:"formatblock",className:"redactor_format_h4"}}},bold:{title:RLANG.bold,exec:"bold"},italic:{title:RLANG.italic,exec:"italic"},deleted:{title:RLANG.deleted,exec:"strikethrough"},underline:{title:RLANG.underline,exec:"underline"},unorderedlist:{title:"&bull; "+RLANG.unorderedlist,exec:"insertunorderedlist"},orderedlist:{title:"1. "+RLANG.orderedlist,exec:"insertorderedlist"},outdent:{title:"< "+RLANG.outdent,exec:"outdent"},indent:{title:"> "+RLANG.indent,exec:"indent"},image:{title:RLANG.image,func:"showImage"},video:{title:RLANG.video,func:"showVideo"},file:{title:RLANG.file,func:"showFile"},table:{title:RLANG.table,func:"show",dropdown:{insert_table:{title:RLANG.insert_table,func:"showTable"},separator_drop1:{name:"separator"},insert_row_above:{title:RLANG.insert_row_above,func:"insertRowAbove"},insert_row_below:{title:RLANG.insert_row_below,func:"insertRowBelow"},insert_column_left:{title:RLANG.insert_column_left,func:"insertColumnLeft"},insert_column_right:{title:RLANG.insert_column_right,func:"insertColumnRight"},separator_drop2:{name:"separator"},add_head:{title:RLANG.add_head,func:"addHead"},delete_head:{title:RLANG.delete_head,func:"deleteHead"},separator_drop3:{name:"separator"},delete_column:{title:RLANG.delete_column,func:"deleteColumn"},delete_row:{title:RLANG.delete_row,func:"deleteRow"},delete_table:{title:RLANG.delete_table,func:"deleteTable"}}},link:{title:RLANG.link,func:"show",dropdown:{link:{title:RLANG.link_insert,func:"showLink"},unlink:{title:RLANG.unlink,exec:"unlink"}}},fontcolor:{title:RLANG.fontcolor,func:"show"},backcolor:{title:RLANG.backcolor,func:"show"},alignment:{title:RLANG.alignment,func:"show",dropdown:{alignleft:{title:RLANG.align_left,exec:"JustifyLeft"},aligncenter:{title:RLANG.align_center,exec:"JustifyCenter"},alignright:{title:RLANG.align_right,exec:"JustifyRight"},justify:{title:RLANG.align_justify,exec:"JustifyFull"}}},alignleft:{exec:"JustifyLeft",title:RLANG.align_left},aligncenter:{exec:"JustifyCenter",title:RLANG.align_center},alignright:{exec:"JustifyRight",title:RLANG.align_right},justify:{exec:"JustifyFull",title:RLANG.align_justify},horizontalrule:{exec:"inserthorizontalrule",title:RLANG.horizontalrule}}},i,this.$el.data());this.dropdowns=[];this.init()};e.prototype={init:function(){function e(){var e,i,o;this.enableAir();this.buildToolbar();"object"===typeof this.opts.plugins&&t.each(this.opts.plugins,t.proxy(function(e,i){if("undefined"!==typeof RedactorPlugins[i]){t.extend(this,RedactorPlugins[i]);"undefined"!==typeof RedactorPlugins[i].init&&this.init()}},this));if(this.opts.activeButtons!==!1&&this.opts.toolbar!==!1){e=t.proxy(function(){this.observeFormatting()},this);this.$editor.click(e).keyup(e)}i=!1;if(this.browser("webkit")&&navigator.userAgent.indexOf("Chrome")===-1){o=this.browser("version").split(".");o[0]<536&&(i=!0)}this.isMobile(!0)===!1&&i===!1&&this.$editor.bind("paste",t.proxy(function(e){if(this.opts.cleanup===!1)return!0;this.pasteRunning=!0;this.setBuffer();this.opts.autoresize===!0?this.saveScroll=this.document.body.scrollTop:this.saveScroll=this.$editor.scrollTop();var i=this.extractContent();setTimeout(t.proxy(function(){var t,e=this.extractContent();this.$editor.append(i);this.restoreSelection();t=this.getFragmentHtml(e);this.pasteCleanUp(t);this.pasteRunning=!1},this),1)},this));this.keyup();this.keydown();this.opts.autosave!==!1&&this.autoSave();setTimeout(t.proxy(function(){this.observeImages();this.observeTables()},this),1);if(this.browser("mozilla")){this.$editor.click(t.proxy(function(){this.saveSelection()},this));try{this.document.execCommand("enableObjectResizing",!1,!1);this.document.execCommand("enableInlineTableEditing",!1,!1)}catch(t){}}this.opts.focus&&setTimeout(t.proxy(function(){this.$editor.focus()},this),1);if(this.opts.fixed){this.observeScroll();t(document).scroll(t.proxy(this.observeScroll,this))}"function"===typeof this.opts.callback&&this.opts.callback(this);this.opts.toolbar!==!1&&this.$toolbar.find("a").attr("tabindex","-1")}var i,o;this.height=this.$el.css("height");this.width=this.$el.css("width");rdocument=this.document=document;rwindow=this.window=window;if(this.opts.mobile===!1&&this.isMobile()){this.build(!0);return!1}this.opts.iframe&&(this.opts.autoresize=!1);if(this.opts.air)this.opts.buttons=this.opts.airButtons;else if(this.opts.toolbar!==!1){if(this.opts.source===!1){i=this.opts.buttons.indexOf("html");o=this.opts.buttons[i+1];this.opts.buttons.splice(i,1);"undefined"!==typeof o&&"|"===o&&this.opts.buttons.splice(i,1)}t.extend(this.opts.toolbar,this.opts.buttonsCustom);t.each(this.opts.buttonsAdd,t.proxy(function(t,e){this.opts.buttons.push(e)},this))}this.opts.toolbar!==!1&&t.each(this.opts.toolbar.formatting.dropdown,t.proxy(function(e,i){"-1"==t.inArray(e,this.opts.formattingTags)&&delete this.opts.toolbar.formatting.dropdown[e]},this));this.build(!1,e)},shortcuts:function(t,e){t.preventDefault();this.execCommand(e,!1)},keyup:function(){this.$editor.keyup(t.proxy(function(t){var e=t.keyCode||t.which;this.browser("mozilla")&&!this.pasteRunning&&this.saveSelection();"function"===typeof this.opts.keyupCallback&&this.opts.keyupCallback(this,t);if(8===e||46===e){this.observeImages();return this.formatEmpty(t)}if(13===e&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey){this.browser("webkit")&&this.formatNewLine(t);this.opts.convertLinks&&this.$editor.linkify()}this.syncCode()},this))},keydown:function(){this.$editor.keydown(t.proxy(function(e){var i,o=e.keyCode||e.which,r=this.getParentNode(),a=this.getCurrentNode(),s=!1,n=e.ctrlKey||e.metaKey;!r&&!a||"PRE"!==t(r).get(0).tagName&&"PRE"!==t(a).get(0).tagName||(s=!0);"function"===typeof this.opts.keydownCallback&&this.opts.keydownCallback(this,e);if(n&&this.opts.shortcuts)if(90===o)if(this.opts.buffer!==!1){e.preventDefault();this.getBuffer()}else e.shiftKey?this.shortcuts(e,"redo"):this.shortcuts(e,"undo");else 77===o?this.shortcuts(e,"removeFormat"):66===o?this.shortcuts(e,"bold"):73===o?this.shortcuts(e,"italic"):74===o?this.shortcuts(e,"insertunorderedlist"):75===o?this.shortcuts(e,"insertorderedlist"):76===o?this.shortcuts(e,"superscript"):72===o&&this.shortcuts(e,"subscript");n||90===o||(this.opts.buffer=!1);if(s===!0&&13===o){e.preventDefault();i=t(a).parent().text();this.insertNodeAtCaret(this.document.createTextNode("\r\n"));i.search(/\s$/)==-1&&this.insertNodeAtCaret(this.document.createTextNode("\r\n"));this.syncCode();return!1}if(this.opts.shortcuts&&!e.shiftKey&&9===o){if(s!==!1){e.preventDefault();this.insertNodeAtCaret(this.document.createTextNode("\t"));this.syncCode();return!1}this.shortcuts(e,"indent")}else this.opts.shortcuts&&e.shiftKey&&9===o&&this.shortcuts(e,"outdent");if(this.browser("webkit")&&navigator.userAgent.indexOf("Chrome")===-1)return this.safariShiftKeyEnter(e,o)},this))},build:function(e,i){function o(){this.$editor=this.$content.contents().find("body").attr("contenteditable",!0).attr("dir",this.opts.direction);rdocument=this.document=this.$editor[0].ownerDocument;rwindow=this.window=this.document.defaultView||window;this.opts.css!==!1&&this.$content.contents().find("head").append('<link rel="stylesheet" href="'+this.opts.css+'" />');this.$editor.html(s);if(i){i.call(this);i=null}}var r,a,s,n;if(e!==!0){this.$box=t('<div class="redactor_box"></div>');this.opts.air&&(this.air=t('<div class="redactor_air" style="display: none;"></div>'));this.$content=null;this.textareamode=!0;if("TEXTAREA"===this.$el.get(0).tagName){if(this.opts.iframe){r=this;this.$content=t('<iframe style="width: 100%;" frameborder="0"></iframe>').load(function(){o.call(r)})}else this.$content=this.$editor=t("<div></div>");a=this.$el.get(0).className.split(/\s+/);t.each(a,t.proxy(function(t,e){this.$content.addClass("redactor_"+e)},this))}else{this.textareamode=!1;this.$content=this.$editor=this.$el;this.$el=t('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height)}this.$editor&&this.$editor.addClass("redactor_editor").attr("contenteditable",!0).attr("dir",this.opts.direction);this.opts.tabindex!==!1&&this.$content.attr("tabindex",this.opts.tabindex);this.opts.minHeight!==!1&&this.$content.css("min-height",this.opts.minHeight+"px");this.opts.wym===!0&&this.$content.addClass("redactor_editor_wym");this.opts.autoresize===!1&&this.$content.css("height",this.height);this.$el.hide();s="";if(this.textareamode){s=this.$el.val();s=this.savePreCode(s);this.$box.insertAfter(this.$el).append(this.$content).append(this.$el)}else{s=this.$editor.html();s=this.savePreCode(s);this.$box.insertAfter(this.$content).append(this.$el).append(this.$editor)}s=this.paragraphy(s);this.$editor&&this.$editor.html(s);this.textareamode===!1&&this.syncCode()}else if("TEXTAREA"!==this.$el.get(0).tagName){s=this.$el.val();n=t('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height).val(s);this.$el.hide();this.$el.after(n)}i&&this.$editor&&i.call(this)},enableAir:function(){if(this.opts.air===!1)return!1;this.air.hide();this.$editor.bind("textselect",t.proxy(function(t){this.showAir(t)},this));this.$editor.bind("textunselect",t.proxy(function(){this.air.hide()},this))},showAir:function(e){var i,o,r;t(".redactor_air").hide();i=this.air.innerWidth();o=e.clientX;t(this.document).width()<o+i&&(o-=i);r=e.clientY+t(document).scrollTop()+14;if(this.opts.iframe===!0){r+=this.$box.position().top;o+=this.$box.position().left}this.air.css({left:o+"px",top:r+"px"}).show()},syncCode:function(){this.$el.val(this.$editor.html())},setCode:function(t){t=this.stripTags(t);this.$editor.html(t).focus();this.syncCode()},getCode:function(){var t="";t=this.opts.visual?this.$editor.html():this.$el.val();return this.stripTags(t)},insertHtml:function(t){this.$editor.focus();this.pasteHtmlAtCaret(t);this.observeImages();this.syncCode()},pasteHtmlAtCaret:function(t){var e,i,o,r,a,s;if(this.document.getSelection){e=this.window.getSelection();if(e.getRangeAt&&e.rangeCount){i=e.getRangeAt(0);i.deleteContents();o=this.document.createElement("div");o.innerHTML=t;r=this.document.createDocumentFragment();for(;a=o.firstChild;)s=r.appendChild(a);i.insertNode(r);if(s){i=i.cloneRange();i.setStartAfter(s);i.collapse(!0);e.removeAllRanges();e.addRange(i)}}}else this.document.selection&&"Control"!=this.document.selection.type&&this.document.selection.createRange().pasteHTML(t)},destroy:function(){var e,i=this.getCode();if(this.textareamode){this.$box.after(this.$el);this.$box.remove();this.$el.height(this.height).val(i).show()}else{this.$box.after(this.$editor);this.$box.remove();this.$editor.removeClass("redactor_editor").removeClass("redactor_editor_wym").attr("contenteditable",!1).html(i).show()}this.opts.toolbarExternal&&t(this.opts.toolbarExternal).empty();t(".redactor_air").remove();for(e=0;e<this.dropdowns.length;e++){this.dropdowns[e].remove();delete this.dropdowns[e]}this.opts.autosave!==!1&&clearInterval(this.autosaveInterval)},observeFormatting:function(){var e,i,o=this.getCurrentNode();this.inactiveAllButtons();t.each(this.opts.activeButtonsStates,t.proxy(function(e,i){0!=t(o).closest(e,this.$editor.get()[0]).length&&this.setBtnActive(i)},this));e=t(o).closest(["p","div","h1","h2","h3","h4","h5","h6","blockquote","td"]);if("undefined"!==typeof e[0]&&"undefined"!==typeof e[0].elem&&0!=t(e[0].elem).size()){i=t(e[0].elem).css("text-align");switch(i){case"right":this.setBtnActive("alignright");break;case"center":this.setBtnActive("aligncenter");break;case"justify":this.setBtnActive("justify");break;default:this.setBtnActive("alignleft")}}},observeImages:function(){if(this.opts.observeImages===!1)return!1;this.$editor.find("img").each(t.proxy(function(e,i){this.browser("msie")&&t(i).attr("unselectable","on");this.resizeImage(i)},this))},observeTables:function(){this.$editor.find("table").click(t.proxy(this.tableObserver,this))},observeScroll:function(){var e,i=t(this.document).scrollTop(),o=this.$box.offset().top,r=0;if(i>o){e="100%";if(this.opts.fixedBox){r=this.$box.offset().left;e=this.$box.innerWidth()}this.fixed=!0;this.$toolbar.css({position:"fixed",width:e,zIndex:1005,top:this.opts.fixedTop+"px",left:r})}else{this.fixed=!1;this.$toolbar.css({position:"relative",width:"auto",zIndex:1,top:0,left:r})}},setBuffer:function(){this.saveSelection();this.opts.buffer=this.$editor.html()},getBuffer:function(){if(this.opts.buffer===!1)return!1;this.$editor.html(this.opts.buffer);this.browser("msie")||this.restoreSelection();this.opts.buffer=!1},execCommand:function(e,i){var o,r,a,s,n,l;if(0==this.opts.visual){this.$el.focus();return!1}try{if("inserthtml"===e){if(this.browser("msie")){this.$editor.focus();this.document.selection.createRange().pasteHTML(i)}else this.pasteHtmlAtCaret(i);this.observeImages()}else if("unlink"===e){o=this.getParentNode();"A"===t(o).get(0).tagName?t(o).replaceWith(t(o).text()):this.execRun(e,i)}else if("JustifyLeft"===e||"JustifyCenter"===e||"JustifyRight"===e||"JustifyFull"===e){o=this.getCurrentNode();r=t(o).get(0).tagName;if(this.opts.iframe===!1&&0==t(o).parents(".redactor_editor").size())return!1;a=["P","DIV","H1","H2","H3","H4","H5","H6","BLOCKQUOTE","TD"];if(t.inArray(r,a)!=-1){s=!1;"JustifyCenter"===e?s="center":"JustifyRight"===e?s="right":"JustifyFull"===e&&(s="justify");s===!1?t(o).css("text-align",""):t(o).css("text-align",s)}else this.execRun(e,i)}else if("formatblock"===e&&"blockquote"===i){o=this.getCurrentNode();if("BLOCKQUOTE"===t(o).get(0).tagName)if(this.browser("msie")){n=t("<p>"+t(o).html()+"</p>");t(o).replaceWith(n)}else this.execRun(e,"p");else if("P"===t(o).get(0).tagName){l=t(o).parent();if("BLOCKQUOTE"===t(l).get(0).tagName){n=t("<p>"+t(o).html()+"</p>");t(l).replaceWith(n);this.setSelection(n[0],0,n[0],0)}else if(this.browser("msie")){n=t("<blockquote>"+t(o).html()+"</blockquote>");t(o).replaceWith(n)}else this.execRun(e,i)}else this.execRun(e,i)}else if("formatblock"!==e||"pre"!==i&&"p"!==i){"inserthorizontalrule"===e&&this.browser("msie")&&this.$editor.focus();"formatblock"===e&&this.browser("mozilla")&&this.$editor.focus();this.execRun(e,i)}else{o=this.getParentNode();"PRE"===t(o).get(0).tagName?t(o).replaceWith("<p>"+this.encodeEntities(t(o).text())+"</p>"):this.execRun(e,i)}"inserthorizontalrule"===e&&this.$editor.find("hr").removeAttr("id");this.syncCode();this.oldIE()&&this.$editor.focus();"function"===typeof this.opts.execCommandCallback&&this.opts.execCommandCallback(this,e);this.opts.air&&this.air.hide()}catch(t){}},execRun:function(t,e){"formatblock"===t&&this.browser("msie")&&(e="<"+e+">");this.document.execCommand(t,!1,e)},formatNewLine:function(e){var i,o,r=this.getParentNode();if("DIV"===r.nodeName&&"redactor_editor"===r.className){i=t(this.getCurrentNode());if("DIV"===i.get(0).tagName&&(""===i.html()||"<br>"===i.html())){o=t("<p>").append(i.clone().get(0).childNodes);i.replaceWith(o);o.html("<br />");this.setSelection(o[0],0,o[0],0)}}},safariShiftKeyEnter:function(e,i){if(e.shiftKey&&13===i){e.preventDefault();this.insertNodeAtCaret(t("<span><br /></span>").get(0));this.syncCode();return!1}return!0},formatEmpty:function(e){var i,o,r=t.trim(this.$editor.html());this.browser("mozilla")&&(r=r.replace(/<br>/i,""));i=r.replace(/<(?:.|\n)*?>/gm,"");if(""===r||""===i){e.preventDefault();o=t(this.opts.emptyHtml).get(0);this.$editor.html(o);this.setSelection(o,0,o,0);this.syncCode();return!1}this.syncCode()},paragraphy:function(e){var i,o,r;e=t.trim(e);if(""===e||"<p></p>"===e)return this.opts.emptyHtml;this.opts.convertDivs&&(e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>"));i=function(t,e,i){return t.replace(new RegExp(e,"g"),i)};o=function(t,o){return i(e,t,o)};r="(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])";e+="\n";o("<br />\\s*<br />","\n\n");o("(<"+r+"[^>]*>)","\n$1");o("(</"+r+">)","$1\n\n");o("\r\n|\r","\n");o("\n\n+","\n\n");o("\n?((.|\n)+?)$","<p>$1</p>\n");o("<p>\\s*?</p>","");o("<p>(<div[^>]*>\\s*)","$1<p>");o("<p>([^<]+)\\s*?(</(div|address|form)[^>]*>)","<p>$1</p>$2");o("<p>\\s*(</?"+r+"[^>]*>)\\s*</p>","$1");o("<p>(<li.+?)</p>","$1");o("<p>\\s*(</?"+r+"[^>]*>)","$1");o("(</?"+r+"[^>]*>)\\s*</p>","$1");o("(</?"+r+"[^>]*>)\\s*<br />","$1");o("<br />(\\s*</?(p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)","$1");e.indexOf("<pre")!=-1&&o("(<pre(.|\n)*?>)((.|\n)*?)</pre>",function(t,e,o,r){return i(e,"\\\\(['\"\\\\])","$1")+i(i(i(r,"<p>","\n"),"</p>|<br />",""),"\\\\(['\"\\\\])","$1")+"</pre>"});return o("\n</p>$","</p>")},stripTags:function(e){var i=this.opts.allowedTags,o=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return e.replace(o,function(e,o){return t.inArray(o.toLowerCase(),i)>"-1"?e:""})},savePreCode:function(e){var i=e.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);null!==i&&t.each(i,t.proxy(function(t,i){var o=i.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i);o[2]=this.encodeEntities(o[2]);e=e.replace(i,"<pre"+o[1]+">"+o[2]+"</pre>")},this));return e},encodeEntities:function(t){t=String(t).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},cleanupPre:function(t){t=t.replace(/<br>/gi,"\n");t=t.replace(/<\/p>/gi,"\n");t=t.replace(/<\/div>/gi,"\n");var e=this.document.createElement("div");e.innerHTML=t;return e.textContent||e.innerText},pasteCleanUp:function(e){var i=this.getParentNode();if("PRE"===t(i).get(0).tagName){e=this.cleanupPre(e);this.pasteCleanUpInsert(e);return!0}e=e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"");e=e.replace(/(&nbsp;){2,}/gi,"&nbsp;");e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2");e=this.stripTags(e);e=e.replace(/<td><\/td>/gi,"[td]");e=e.replace(/<td>&nbsp;<\/td>/gi,"[td]");e=e.replace(/<td><br><\/td>/gi,"[td]");e=e.replace(/<a(.*?)href="(.*?)"(.*?)>([\w\W]*?)<\/a>/gi,'[a href="$2"]$4[/a]');e=e.replace(/<iframe(.*?)>([\w\W]*?)<\/iframe>/gi,"[iframe$1]$2[/iframe]");e=e.replace(/<video(.*?)>([\w\W]*?)<\/video>/gi,"[video$1]$2[/video]");e=e.replace(/<audio(.*?)>([\w\W]*?)<\/audio>/gi,"[audio$1]$2[/audio]");e=e.replace(/<embed(.*?)>([\w\W]*?)<\/embed>/gi,"[embed$1]$2[/embed]");e=e.replace(/<object(.*?)>([\w\W]*?)<\/object>/gi,"[object$1]$2[/object]");e=e.replace(/<param(.*?)>/gi,"[param$1]");e=e.replace(/<img(.*?)style="(.*?)"(.*?)>/gi,"[img$1$3]");e=e.replace(/<(\w+)([\w\W]*?)>/gi,"<$1>");e=e.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,"");e=e.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,"");e=e.replace(/\[td\]/gi,"<td>&nbsp;</td>");e=e.replace(/\[a href="(.*?)"\]([\w\W]*?)\[\/a\]/gi,'<a href="$1">$2</a>');e=e.replace(/\[iframe(.*?)\]([\w\W]*?)\[\/iframe\]/gi,"<iframe$1>$2</iframe>");e=e.replace(/\[video(.*?)\]([\w\W]*?)\[\/video\]/gi,"<video$1>$2</video>");e=e.replace(/\[audio(.*?)\]([\w\W]*?)\[\/audio\]/gi,"<audio$1>$2</audio>");e=e.replace(/\[embed(.*?)\]([\w\W]*?)\[\/embed\]/gi,"<embed$1>$2</embed>");e=e.replace(/\[object(.*?)\]([\w\W]*?)\[\/object\]/gi,"<object$1>$2</object>");e=e.replace(/\[param(.*?)\]/gi,"<param$1>");e=e.replace(/\[img(.*?)\]/gi,"<img$1>");this.opts.convertDivs&&(e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>"));e=e.replace(/<span>([\w\W]*?)<\/span>/gi,"$1");e=e.replace(/\n{3,}/gi,"\n");e=e.replace(/<p><p>/gi,"<p>");e=e.replace(/<\/p><\/p>/gi,"</p>");this.browser("mozilla")&&(e=e.replace(/<br>$/gi,""));this.pasteCleanUpInsert(e)},pasteCleanUpInsert:function(e){this.execCommand("inserthtml",e);this.opts.autoresize===!0?t(this.document.body).scrollTop(this.saveScroll):this.$editor.scrollTop(this.saveScroll)},formattingRemove:function(e){var i=[],o=e.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);null!==o&&t.each(o,function(t,o){e=e.replace(o,"prebuffer_"+t);i.push(o)});e=e.replace(/\s{2,}/g," ");e=e.replace(/\n/g," ");e=e.replace(/[\t]*/g,"");e=e.replace(/\n\s*\n/g,"\n");e=e.replace(/^[\s\n]*/g,"");e=e.replace(/[\s\n]*$/g,"");e=e.replace(/>\s+</g,"><");if(i){t.each(i,function(t,i){e=e.replace("prebuffer_"+t,i)});i=[]}return e},formattingIndenting:function(t){t=t.replace(/<li/g,"\t<li");t=t.replace(/<tr/g,"\t<tr");t=t.replace(/<td/g,"\t\t<td");t=t.replace(/<\/tr>/g,"\t</tr>");return t},formattingEmptyTags:function(t){var e,i,o=["<pre></pre>","<blockquote>\\s*</blockquote>","<em>\\s*</em>","<ul></ul>","<ol></ol>","<li></li>","<table></table>","<tr></tr>","<span>\\s*<span>","<span>&nbsp;<span>","<b>\\s*</b>","<b>&nbsp;</b>","<p>\\s*</p>","<p>&nbsp;</p>","<p>\\s*<br>\\s*</p>","<div>\\s*</div>","<div>\\s*<br>\\s*</div>"];for(e=0;e<o.length;++e){i=o[e];t=t.replace(new RegExp(i,"gi"),"")}return t},formattingAddBefore:function(t){var e,i,o="\r\n",r=["<p","<form","</ul>","</ol>","<fieldset","<legend","<object","<embed","<select","<option","<input","<textarea","<pre","<blockquote","<ul","<ol","<li","<dl","<dt","<dd","<table","<thead","<tbody","<caption","</caption>","<th","<tr","<td","<figure"];for(e=0;e<r.length;++e){i=r[e];t=t.replace(new RegExp(i,"gi"),o+i)}return t},formattingAddAfter:function(t){var e,i,o="\r\n",r=["</p>","</div>","</h1>","</h2>","</h3>","</h4>","</h5>","</h6>","<br>","<br />","</dl>","</dt>","</dd>","</form>","</blockquote>","</pre>","</legend>","</fieldset>","</object>","</embed>","</textarea>","</select>","</option>","</table>","</thead>","</tbody>","</tr>","</td>","</th>","</figure>"];for(e=0;e<r.length;++e){i=r[e];t=t.replace(new RegExp(i,"gi"),i+o)}return t},formatting:function(t){t=this.formattingRemove(t);t=this.formattingEmptyTags(t);t=this.formattingAddBefore(t);t=this.formattingAddAfter(t);t=this.formattingIndenting(t);return t},toggle:function(){var t,e;if(this.opts.visual){e=this.$editor.innerHeight();this.$editor.hide();this.$content.hide();t=this.$editor.html();this.$el.height(e).val(t).show().focus();this.setBtnActive("html");this.opts.visual=!1}else{this.$el.hide();t=this.$el.val();this.$editor.html(t).show();this.$content.show();""===this.$editor.html()&&this.setCode(this.opts.emptyHtml);this.$editor.focus();this.setBtnInactive("html");this.opts.visual=!0;this.observeImages();this.observeTables()}},autoSave:function(){this.autosaveInterval=setInterval(t.proxy(function(){t.ajax({url:this.opts.autosave,type:"post",data:this.$el.attr("name")+"="+escape(encodeURIComponent(this.getCode())),success:t.proxy(function(t){"function"===typeof this.opts.autosaveCallback&&this.opts.autosaveCallback(t,this);
},this)})},this),1e3*this.opts.interval)},buildToolbar:function(){if(this.opts.toolbar===!1)return!1;this.$toolbar=t("<ul>").addClass("redactor_toolbar");if(this.opts.air){t(this.air).append(this.$toolbar);t("body").append(this.air)}else this.opts.toolbarExternal===!1?this.$box.prepend(this.$toolbar):t(this.opts.toolbarExternal).html(this.$toolbar);t.each(this.opts.buttons,t.proxy(function(e,i){if("|"!==i&&"undefined"!==typeof this.opts.toolbar[i]){var o=this.opts.toolbar[i];if(this.opts.fileUpload===!1&&"file"===i)return!0;this.$toolbar.append(t("<li>").append(this.buildButton(i,o)))}"|"===i&&this.$toolbar.append(t('<li class="redactor_separator"></li>'))},this))},buildButton:function(e,i){var o,r=t('<a href="javascript:void(null);" title="'+i.title+'" class="redactor_btn_'+e+'"></a>');"undefined"===typeof i.func?r.click(t.proxy(function(){if(t.inArray(e,this.opts.activeButtons)!=-1){this.inactiveAllButtons();this.setBtnActive(e)}this.browser("mozilla")&&this.$editor.focus();this.execCommand(i.exec,e)},this)):"show"!==i.func&&r.click(t.proxy(function(t){this[i.func](t)},this));"undefined"!==typeof i.callback&&i.callback!==!1&&r.click(t.proxy(function(t){i.callback(this,t,e)},this));if("backcolor"===e||"fontcolor"===e||"undefined"!==typeof i.dropdown){o=t('<div class="redactor_dropdown" style="display: none;">');o="backcolor"===e||"fontcolor"===e?this.buildColorPicker(o,e):this.buildDropdown(o,i.dropdown);this.dropdowns.push(o.appendTo(t(document.body)));this.hdlShowDropDown=t.proxy(function(t){this.showDropDown(t,o,e)},this);r.click(this.hdlShowDropDown)}return r},buildDropdown:function(e,i){t.each(i,t.proxy(function(i,o){"undefined"===typeof o.className&&(o.className="");var r;if("undefined"!==typeof o.name&&"separator"===o.name)r=t('<a class="redactor_separator_drop">');else{r=t('<a href="javascript:void(null);" class="'+o.className+'">'+o.title+"</a>");"function"===typeof o.callback?t(r).click(t.proxy(function(t){o.callback(this,t,i)},this)):"undefined"===typeof o.func?t(r).click(t.proxy(function(){this.execCommand(o.exec,i)},this)):t(r).click(t.proxy(function(t){this[o.func](t)},this))}t(e).append(r)},this));return e},buildColorPicker:function(e,i){var o,r,a,s,n,l,d;o="backcolor"===i?this.browser("msie")?"BackColor":"hilitecolor":"forecolor";t(e).width(210);r=this.opts.colors.length;for(a=0;a<r;++a){s=this.opts.colors[a];n=t('<a rel="'+s+'" href="javascript:void(null);" class="redactor_color_link"></a>').css({backgroundColor:s});t(e).append(n);l=this;t(n).click(function(){l.execCommand(o,t(this).attr("rel"));"forecolor"===o&&l.$editor.find("font").replaceWith(function(){return t('<span style="color: '+t(this).attr("color")+';">'+t(this).html()+"</span>")});l.browser("msie")&&"BackColor"===o&&l.$editor.find("font").replaceWith(function(){return t('<span style="'+t(this).attr("style")+'">'+t(this).html()+"</span>")})})}d=t('<a href="javascript:void(null);" class="redactor_color_none"></a>').html(RLANG.none);"backcolor"===i?d.click(t.proxy(this.setBackgroundNone,this)):d.click(t.proxy(this.setColorNone,this));t(e).append(d);return e},setBackgroundNone:function(){t(this.getParentNode()).css("background-color","transparent");this.syncCode()},setColorNone:function(){t(this.getParentNode()).attr("color","").css("color","");this.syncCode()},showDropDown:function(e,i,o){var r,a,s,n;if(this.getBtn(o).hasClass("dropact"))this.hideAllDropDown();else{this.hideAllDropDown();this.setBtnActive(o);this.getBtn(o).addClass("dropact");r=this.getBtn(o).offset().left;if(this.opts.air){a=this.air.offset().top;t(i).css({position:"absolute",left:r+"px",top:a+30+"px"}).show()}else if(this.opts.fixed&&this.fixed)t(i).css({position:"fixed",left:r+"px",top:"30px"}).show();else{s=this.$toolbar.offset().top+30;t(i).css({position:"absolute",left:r+"px",top:s+"px"}).show()}}n=t.proxy(function(t){this.hideDropDown(t,i,o)},this);t(document).one("click",n);this.$editor.one("click",n);this.$content.one("click",n);e.stopPropagation()},hideAllDropDown:function(){this.$toolbar.find("a.dropact").removeClass("redactor_act").removeClass("dropact");t(".redactor_dropdown").hide()},hideDropDown:function(e,i,o){if(!t(e.target).hasClass("dropact")){t(i).removeClass("dropact");this.showedDropDown=!1;this.hideAllDropDown()}},getBtn:function(e){return this.opts.toolbar!==!1&&t(this.$toolbar.find("a.redactor_btn_"+e))},setBtnActive:function(t){this.getBtn(t).addClass("redactor_act")},setBtnInactive:function(t){this.getBtn(t).removeClass("redactor_act")},inactiveAllButtons:function(){t.each(this.opts.activeButtons,t.proxy(function(t,e){this.setBtnInactive(e)},this))},changeBtnIcon:function(t,e){this.getBtn(t).addClass("redactor_btn_"+e)},removeBtnIcon:function(t,e){this.getBtn(t).removeClass("redactor_btn_"+e)},addBtnSeparator:function(){this.$toolbar.append(t('<li class="redactor_separator"></li>'))},addBtnSeparatorAfter:function(e){var i=this.getBtn(e);i.parent().after(t('<li class="redactor_separator"></li>'))},addBtnSeparatorBefore:function(e){var i=this.getBtn(e);i.parent().before(t('<li class="redactor_separator"></li>'))},removeBtnSeparatorAfter:function(t){var e=this.getBtn(t);e.parent().next().remove()},removeBtnSeparatorBefore:function(t){var e=this.getBtn(t);e.parent().prev().remove()},setBtnRight:function(t){if(this.opts.toolbar===!1)return!1;this.getBtn(t).parent().addClass("redactor_btn_right")},setBtnLeft:function(t){if(this.opts.toolbar===!1)return!1;this.getBtn(t).parent().removeClass("redactor_btn_right")},addBtn:function(e,i,o,r){if(this.opts.toolbar===!1)return!1;var a=this.buildButton(e,{title:i,callback:o,dropdown:r});this.$toolbar.append(t("<li>").append(a))},addBtnFirst:function(e,i,o,r){if(this.opts.toolbar===!1)return!1;var a=this.buildButton(e,{title:i,callback:o,dropdown:r});this.$toolbar.prepend(t("<li>").append(a))},addBtnAfter:function(e,i,o,r,a){var s,n;if(this.opts.toolbar===!1)return!1;s=this.buildButton(i,{title:o,callback:r,dropdown:a});n=this.getBtn(e);n.parent().after(t("<li>").append(s))},addBtnBefore:function(e,i,o,r,a){var s,n;if(this.opts.toolbar===!1)return!1;s=this.buildButton(i,{title:o,callback:r,dropdown:a});n=this.getBtn(e);n.parent().before(t("<li>").append(s))},removeBtn:function(t,e){var i=this.getBtn(t);e===!0&&i.parent().next().remove();i.parent().removeClass("redactor_btn_right");i.remove()},getFragmentHtml:function(t){var e=t.cloneNode(!0),i=this.document.createElement("div");i.appendChild(e);return i.innerHTML},extractContent:function(){for(var t,e=this.$editor.get(0),i=this.document.createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i},saveSelection:function(){this.$editor.focus();this.savedSel=this.getOrigin();this.savedSelObj=this.getFocus()},restoreSelection:function(){if("undefined"!==typeof this.savedSel&&null!==this.savedSel&&null!==this.savedSelObj&&"BODY"!==this.savedSel[0].tagName)if(this.opts.iframe===!1&&0==t(this.savedSel[0]).closest(".redactor_editor").size())this.$editor.focus();else{this.browser("opera")&&this.$editor.focus();this.setSelection(this.savedSel[0],this.savedSel[1],this.savedSelObj[0],this.savedSelObj[1]);this.browser("mozilla")&&this.$editor.focus()}else this.$editor.focus()},getSelection:function(){var t=this.document;return this.window.getSelection?this.window.getSelection():t.getSelection?t.getSelection():t.selection.createRange();return!1},hasSelection:function(){var t,e,i;if(this.oldIE()){e=this.$editor.get(0);e.focus();if(!e.document.selection)return!1;i=e.document.selection.createRange();return i&&i.parentElement().document===e.document}return(t=this.getSelection())&&null!=t.focusNode&&null!=t.anchorNode},getOrigin:function(){var t,e,i;if(this.oldIE()){e=this.$editor.get(0);e.focus();if(!this.hasSelection())return null;i=e.document.selection.createRange();return this._getBoundary(e.document,i,!0)}return(t=this.getSelection())&&null!=t.anchorNode?[t.anchorNode,t.anchorOffset]:null},getFocus:function(){var t,e,i;if(this.oldIE()){e=this.$editor.get(0);e.focus();if(!this.hasSelection())return null;i=e.document.selection.createRange();return this._getBoundary(e.document,i,!1)}return(t=this.getSelection())&&null!=t.focusNode?[t.focusNode,t.focusOffset]:null},setSelection:function(t,e,i,o){var a,s,n;null==i&&(i=t);null==o&&(o=e);if(this.oldIE()){s=this.$editor.get(0);n=s.document.body.createTextRange();this._moveBoundary(s.document,n,!1,i,o);this._moveBoundary(s.document,n,!0,t,e);return n.select()}a=this.getSelection();if(a)if(a.collapse&&a.extend){a.collapse(t,e);a.extend(i,o)}else{r=this.document.createRange();r.setStart(t,e);r.setEnd(i,o);try{a.removeAllRanges()}catch(t){}a.addRange(r)}},getCurrentNode:function(){return"undefined"!==typeof this.window.getSelection?this.getSelectedNode().parentNode:"undefined"!==typeof this.document.selection?this.getSelection().parentElement():void 0},getParentNode:function(){return t(this.getCurrentNode()).parent()[0]},getSelectedNode:function(){if(this.oldIE())return this.getSelection().parentElement();if("undefined"!==typeof this.window.getSelection){var t=this.window.getSelection();return t.rangeCount>0&&this.getSelection().getRangeAt(0).commonAncestorContainer}return"undefined"!==typeof this.document.selection?this.getSelection():void 0},_getBoundary:function(t,e,i){var o,r,a,s,n;r=t.createElement("a");o=e.duplicate();o.collapse(i);n=o.parentElement();for(;;){n.insertBefore(r,r.previousSibling);o.moveToElementText(r);if(!(o.compareEndPoints(i?"StartToStart":"StartToEnd",e)>0&&null!=r.previousSibling))break}if(o.compareEndPoints(i?"StartToStart":"StartToEnd",e)===-1&&r.nextSibling){o.setEndPoint(i?"EndToStart":"EndToEnd",e);a=r.nextSibling;s=o.text.length}else{a=r.parentNode;s=this._getChildIndex(r)}r.parentNode.removeChild(r);return[a,s]},_moveBoundary:function(t,e,i,o,r){var a,s,n,l,d;d=0;a=this._isText(o)?o:o.childNodes[r];s=this._isText(o)?o.parentNode:o;this._isText(o)&&(d=r);l=t.createElement("a");s.insertBefore(l,a||null);n=t.body.createTextRange();n.moveToElementText(l);l.parentNode.removeChild(l);e.setEndPoint(i?"StartToStart":"EndToEnd",n);return e[i?"moveStart":"moveEnd"]("character",d)},_isText:function(t){return null!=t&&3==t.nodeType},_getChildIndex:function(t){for(var e=0;t=t.previousSibling;)e++;return e},insertNodeAfterCaret:function(t){this.saveSelection();this.insertNodeAtCaret(t);this.restoreSelection()},insertNodeAtCaret:function(t){var e,i,o,r,a,s;if(this.window.getSelection){e=this.getSelection();if(e.rangeCount){i=e.getRangeAt(0);i.collapse(!1);i.insertNode(t);i=i.cloneRange();i.selectNodeContents(t);i.collapse(!1);e.removeAllRanges();e.addRange(i)}}else if(this.document.selection){o=1===t.nodeType?t.outerHTML:t.data;r="marker_"+(""+Math.random()).slice(2);o+='<span id="'+r+'"></span>';a=this.getSelection();a.collapse(!1);a.pasteHTML(o);s=this.document.getElementById(r);a.moveToElementText(s);a.select();s.parentNode.removeChild(s)}},getSelectedHtml:function(){var t,e,i,o,r="";if(this.window.getSelection){t=this.window.getSelection();if(t.rangeCount){e=this.document.createElement("div");for(i=0,o=t.rangeCount;i<o;++i)e.appendChild(t.getRangeAt(i).cloneContents());r=e.innerHTML}}else this.document.selection&&"Text"===this.document.selection.type&&(r=this.document.selection.createRange().htmlText);return r},resizeImage:function(e){var i,o,r=!1,a=!1,s=t(e).width()/t(e).height(),n=10,l=10;t(e).off("hover mousedown mouseup click mousemove");t(e).hover(function(){t(e).css("cursor","nw-resize")},function(){t(e).css("cursor","");r=!1});t(e).mousedown(function(n){n.preventDefault();s=t(e).width()/t(e).height();r=!0;a=!0;i=Math.round(n.pageX-t(e).eq(0).offset().left);o=Math.round(n.pageY-t(e).eq(0).offset().top)});t(e).mouseup(t.proxy(function(i){r=!1;t(e).css("cursor","");this.syncCode()},this));t(e).click(t.proxy(function(t){a&&this.imageEdit(t)},this));t(e).mousemove(function(d){var c,h,p,u,f;if(r){a=!1;c=Math.round(d.pageX-t(this).eq(0).offset().left)-i;h=Math.round(d.pageY-t(this).eq(0).offset().top)-o;p=t(e).height();u=parseInt(p,10)+h;f=u*s;f>n&&t(e).width(f);u>l&&t(e).height(u);i=Math.round(d.pageX-t(this).eq(0).offset().left);o=Math.round(d.pageY-t(this).eq(0).offset().top)}})},showTable:function(){this.saveSelection();this.modalInit(RLANG.table,this.opts.modal_table,300,t.proxy(function(){t("#redactor_insert_table_btn").click(t.proxy(this.insertTable,this));setTimeout(function(){t("#redactor_table_rows").focus()},200)},this))},insertTable:function(){var e,i,o,r,a,s=t("#redactor_table_rows").val(),n=t("#redactor_table_columns").val(),l=t("<div></div>"),d=Math.floor(99999*Math.random()),c=t('<table id="table'+d+'"><tbody></tbody></table>');for(e=0;e<s;e++){i=t("<tr></tr>");for(o=0;o<n;o++){r=t("<td><br></td>");t(i).append(r)}t(c).append(i)}t(l).append(c);a=t(l).html()+"<p></p>";this.restoreSelection();this.execCommand("inserthtml",a);this.modalClose();this.observeTables()},tableObserver:function(e){this.$table=t(e.target).closest("table");this.$table_tr=this.$table.find("tr");this.$table_td=this.$table.find("td");this.$tbody=t(e.target).closest("tbody");this.$thead=t(this.$table).find("thead");this.$current_td=t(e.target);this.$current_tr=t(e.target).closest("tr")},deleteTable:function(){t(this.$table).remove();this.$table=!1;this.syncCode()},deleteRow:function(){t(this.$current_tr).remove();this.syncCode()},deleteColumn:function(){var e=t(this.$current_td).get(0).cellIndex;t(this.$table).find("tr").each(function(){t(this).find("td").eq(e).remove()});this.syncCode()},addHead:function(){if(0!==t(this.$table).find("thead").size())this.deleteHead();else{var e=t(this.$table).find("tr").first().clone();e.find("td").html("&nbsp;");this.$thead=t("<thead></thead>");this.$thead.append(e);t(this.$table).prepend(this.$thead);this.syncCode()}},deleteHead:function(){t(this.$thead).remove();this.$thead=!1;this.syncCode()},insertRowAbove:function(){this.insertRow("before")},insertRowBelow:function(){this.insertRow("after")},insertColumnLeft:function(){this.insertColumn("before")},insertColumnRight:function(){this.insertColumn("after")},insertRow:function(e){var i=t(this.$current_tr).clone();i.find("td").html("&nbsp;");"after"===e?t(this.$current_tr).after(i):t(this.$current_tr).before(i);this.syncCode()},insertColumn:function(e){var i=0;this.$current_tr.find("td").each(t.proxy(function(e,o){t(o)[0]===this.$current_td[0]&&(i=e)},this));this.$table_tr.each(function(o,r){var a=t(r).find("td").eq(i),s=a.clone();s.html("&nbsp;");"after"===e?t(a).after(s):t(a).before(s)});this.syncCode()},showVideo:function(){this.saveSelection();this.modalInit(RLANG.video,this.opts.modal_video,600,t.proxy(function(){t("#redactor_insert_video_btn").click(t.proxy(this.insertVideo,this));setTimeout(function(){t("#redactor_insert_video_area").focus()},200)},this))},insertVideo:function(){var e=t("#redactor_insert_video_area").val();e=this.stripTags(e);this.restoreSelection();this.execCommand("inserthtml",e);this.modalClose()},imageEdit:function(e){var i=t(e.target),o=i.parent(),r=t.proxy(function(){t("#redactor_file_alt").val(i.attr("alt"));t("#redactor_image_edit_src").attr("href",i.attr("src"));t("#redactor_form_image_align").val(i.css("float"));"A"===t(o).get(0).tagName&&t("#redactor_file_link").val(t(o).attr("href"));t("#redactor_image_delete_btn").click(t.proxy(function(){this.imageDelete(i)},this));t("#redactorSaveBtn").click(t.proxy(function(){this.imageSave(i)},this))},this);this.modalInit(RLANG.image,this.opts.modal_image_edit,380,r)},imageDelete:function(e){t(e).remove();this.modalClose();this.syncCode()},imageSave:function(e){var i,o,r=t(e).parent();t(e).attr("alt",t("#redactor_file_alt").val());i=t("#redactor_form_image_align").val();"left"===i?t(e).css({float:"left",margin:"0 10px 10px 0"}):"right"===i?t(e).css({float:"right",margin:"0 0 10px 10px"}):t(e).css({float:"none",margin:"0"});o=t.trim(t("#redactor_file_link").val());""!==o?"A"!==t(r).get(0).tagName?t(e).replaceWith('<a href="'+o+'">'+this.outerHTML(e)+"</a>"):t(r).attr("href",o):"A"===t(r).get(0).tagName&&t(r).replaceWith(this.outerHTML(e));this.modalClose();this.observeImages();this.syncCode()},showImage:function(){this.saveSelection();var e=t.proxy(function(){this.opts.imageGetJson!==!1?t.getJSON(this.opts.imageGetJson,t.proxy(function(e){var i,o,r,a={},s=0;t.each(e,t.proxy(function(t,e){if("undefined"!==typeof e.folder){s++;a[e.folder]=s}},this));i=!1;t.each(e,t.proxy(function(e,o){var r,s,n="";"undefined"!==typeof o.title&&(n=o.title);r=0;if(!t.isEmptyObject(a)&&"undefined"!==typeof o.folder){r=a[o.folder];i===!1&&(i=".redactorfolder"+r)}s=t('<img src="'+o.thumb+'" class="redactorfolder redactorfolder'+r+'" rel="'+o.image+'" title="'+n+'" />');t("#redactor_image_box").append(s);t(s).click(t.proxy(this.imageSetThumb,this))},this));if(!t.isEmptyObject(a)){t(".redactorfolder").hide();t(i).show();o=function(e){t(".redactorfolder").hide();t(".redactorfolder"+t(e.target).val()).show()};r=t('<select id="redactor_image_box_select">');t.each(a,function(e,i){r.append(t('<option value="'+i+'">'+e+"</option>"))});t("#redactor_image_box").before(r);r.change(o)}},this)):t("#redactor_tabs a").eq(1).remove();if(this.opts.imageUpload!==!1){this.opts.uploadCrossDomain===!1&&this.isMobile()===!1&&0!==t("#redactor_file").size()&&t("#redactor_file").dragupload({url:this.opts.imageUpload,uploadFields:this.opts.uploadFields,success:t.proxy(this.imageUploadCallback,this),error:t.proxy(this.opts.imageUploadErrorCallback,this)});this.uploadInit("redactor_file",{auto:!0,url:this.opts.imageUpload,success:t.proxy(this.imageUploadCallback,this),error:t.proxy(this.opts.imageUploadErrorCallback,this)})}else{t(".redactor_tab").hide();if(this.opts.imageGetJson===!1){t("#redactor_tabs").remove();t("#redactor_tab3").show()}else{var e=t("#redactor_tabs a");e.eq(0).remove();e.eq(1).addClass("redactor_tabs_act");t("#redactor_tab2").show()}}t("#redactor_upload_btn").click(t.proxy(this.imageUploadCallbackLink,this));this.opts.imageUpload===!1&&this.opts.imageGetJson===!1&&setTimeout(function(){t("#redactor_file_link").focus()},200)},this);this.modalInit(RLANG.image,this.opts.modal_image,610,e)},imageSetThumb:function(e){this._imageSet('<img src="'+t(e.target).attr("rel")+'" alt="'+t(e.target).attr("title")+'" />',!0)},imageUploadCallbackLink:function(){if(""!==t("#redactor_file_link").val()){var e='<img src="'+t("#redactor_file_link").val()+'" />';this._imageSet(e,!0)}else this.modalClose()},imageUploadCallback:function(t){this._imageSet(t)},_imageSet:function(t,e){this.restoreSelection();if(t!==!1){var i="";i=e!==!0?'<p><img src="'+t.filelink+'" /></p>':t;this.execCommand("inserthtml",i);e!==!0&&"function"===typeof this.opts.imageUploadCallback&&this.opts.imageUploadCallback(this,t)}this.modalClose();this.observeImages()},showLink:function(){this.saveSelection();var e=t.proxy(function(){var e,i,o,r,a,s,n;this.insert_link_node=!1;e=this.getSelection();i="",o="",r="";if(this.browser("msie")){a=this.getParentNode();if("A"===a.nodeName){this.insert_link_node=t(a);o=this.insert_link_node.text();i=this.insert_link_node.attr("href");r=this.insert_link_node.attr("target")}else o=this.oldIE()?e.text:e.toString()}else if(e&&e.anchorNode&&"A"===e.anchorNode.parentNode.tagName){i=e.anchorNode.parentNode.href;o=e.anchorNode.parentNode.text;r=e.anchorNode.parentNode.target;""===e.toString()&&(this.insert_link_node=e.anchorNode.parentNode)}else o=e.toString();t(".redactor_link_text").val(o);s=self.location.href.replace(/\/$/i,"");n=i.replace(s,"");if(0===i.search("mailto:")){this.setModalTab(2);t("#redactor_tab_selected").val(2);t("#redactor_link_mailto").val(i.replace("mailto:",""))}else if(0===n.search(/^#/gi)){this.setModalTab(3);t("#redactor_tab_selected").val(3);t("#redactor_link_anchor").val(n.replace(/^#/gi,""))}else t("#redactor_link_url").val(n);"_blank"===r&&t("#redactor_link_blank").attr("checked",!0);t("#redactor_insert_link_btn").click(t.proxy(this.insertLink,this));setTimeout(function(){t("#redactor_link_url").focus()},200)},this);this.modalInit(RLANG.link,this.opts.modal_link,460,e)},insertLink:function(){var e,i,o,r=t("#redactor_tab_selected").val(),a="",s="",n="";if("1"===r){a=t("#redactor_link_url").val();s=t("#redactor_link_url_text").val();t("#redactor_link_blank").attr("checked")&&(n=' target="_blank"');e="/(w+:{0,1}w*@)?(S+)(:[0-9]+)?(/|/([w#!:.?+=&%@!-/]))?/";i=new RegExp("^(http|ftp|https)://"+e,"i");o=new RegExp("^"+e,"i");a.search(i)==-1&&0==a.search(o)&&this.opts.protocol!==!1&&(a=this.opts.protocol+a)}else if("2"===r){a="mailto:"+t("#redactor_link_mailto").val();s=t("#redactor_link_mailto_text").val()}else if("3"===r){a="#"+t("#redactor_link_anchor").val();s=t("#redactor_link_anchor_text").val()}this._insertLink('<a href="'+a+'"'+n+">"+s+"</a>",t.trim(s),a,n)},_insertLink:function(e,i,o,r){this.$editor.focus();this.restoreSelection();if(""!==i)if(this.insert_link_node){t(this.insert_link_node).text(i);t(this.insert_link_node).attr("href",o);""!==r?t(this.insert_link_node).attr("target",r):t(this.insert_link_node).removeAttr("target");this.syncCode()}else this.execCommand("inserthtml",e);this.modalClose()},showFile:function(){this.saveSelection();var e=t.proxy(function(){var e=this.getSelection(),i="";i=this.oldIE()?e.text:e.toString();t("#redactor_filename").val(i);this.opts.uploadCrossDomain===!1&&this.isMobile()===!1&&t("#redactor_file").dragupload({url:this.opts.fileUpload,uploadFields:this.opts.uploadFields,success:t.proxy(this.fileUploadCallback,this),error:t.proxy(this.opts.fileUploadErrorCallback,this)});this.uploadInit("redactor_file",{auto:!0,url:this.opts.fileUpload,success:t.proxy(this.fileUploadCallback,this),error:t.proxy(this.opts.fileUploadErrorCallback,this)})},this);this.modalInit(RLANG.file,this.opts.modal_file,500,e)},fileUploadCallback:function(e){var i,o;this.restoreSelection();if(e!==!1){i=t("#redactor_filename").val();""===i&&(i=e.filename);o='<a href="'+e.filelink+'">'+i+"</a>";this.browser("webkit")&&this.window.chrome&&(o+="&nbsp;");this.execCommand("inserthtml",o);"function"===typeof this.opts.fileUploadCallback&&this.opts.fileUploadCallback(this,e)}this.modalClose()},modalInit:function(e,i,o,r){if(0===t("#redactor_modal_overlay").size()){this.overlay=t('<div id="redactor_modal_overlay" style="display: none;"></div>');t("body").prepend(this.overlay)}if(this.opts.overlay){t("#redactor_modal_overlay").show();t("#redactor_modal_overlay").click(t.proxy(this.modalClose,this))}if(0===t("#redactor_modal").size()){this.modal=t('<div id="redactor_modal" style="display: none;"><div id="redactor_modal_close">&times;</div><div id="redactor_modal_header"></div><div id="redactor_modal_inner"></div></div>');t("body").append(this.modal)}t("#redactor_modal_close").click(t.proxy(this.modalClose,this));this.hdlModalClose=t.proxy(function(t){if(27===t.keyCode){this.modalClose();return!1}},this);t(document).keyup(this.hdlModalClose);this.$editor.keyup(this.hdlModalClose);0==i.indexOf("#")?t("#redactor_modal_inner").empty().append(t(i).html()):t("#redactor_modal_inner").empty().append(i);t("#redactor_modal_header").html(e);if("undefined"!==typeof t.fn.draggable){t("#redactor_modal").draggable({handle:"#redactor_modal_header"});t("#redactor_modal_header").css("cursor","move")}if(0!==t("#redactor_tabs").size()){var a=this;t("#redactor_tabs a").each(function(e,i){e++;t(i).click(function(){t("#redactor_tabs a").removeClass("redactor_tabs_act");t(this).addClass("redactor_tabs_act");t(".redactor_tab").hide();t("#redactor_tab"+e).show();t("#redactor_tab_selected").val(e);if(a.isMobile()===!1){var i=t("#redactor_modal").outerHeight();t("#redactor_modal").css("margin-top","-"+(i+10)/2+"px")}})})}t("#redactor_modal .redactor_btn_modal_close").click(t.proxy(this.modalClose,this));if(this.isMobile()===!1){t("#redactor_modal").css({position:"fixed",top:"-2000px",left:"50%",width:o+"px",marginLeft:"-"+(o+60)/2+"px"}).show();this.modalSaveBodyOveflow=t(document.body).css("overflow");t(document.body).css("overflow","hidden")}else t("#redactor_modal").css({position:"fixed",width:"100%",height:"100%",top:"0",left:"0",margin:"0",minHeight:"300px"}).show();"function"===typeof r&&r();this.isMobile()===!1&&setTimeout(function(){var e=t("#redactor_modal").outerHeight();t("#redactor_modal").css({top:"50%",height:"auto",minHeight:"auto",marginTop:"-"+(e+10)/2+"px"})},20)},modalClose:function(){t("#redactor_modal_close").unbind("click",this.modalClose);t("#redactor_modal").fadeOut("fast",t.proxy(function(){t("#redactor_modal_inner").html("");if(this.opts.overlay){t("#redactor_modal_overlay").hide();t("#redactor_modal_overlay").unbind("click",this.modalClose)}t(document).unbind("keyup",this.hdlModalClose);this.$editor.unbind("keyup",this.hdlModalClose)},this));this.isMobile()===!1&&t(document.body).css("overflow",this.modalSaveBodyOveflow?this.modalSaveBodyOveflow:"visible");return!1},setModalTab:function(e){t(".redactor_tab").hide();var i=t("#redactor_tabs a");i.removeClass("redactor_tabs_act");i.eq(e-1).addClass("redactor_tabs_act");t("#redactor_tab"+e).show()},uploadInit:function(e,i){this.uploadOptions={url:!1,success:!1,error:!1,start:!1,trigger:!1,auto:!1,input:!1};t.extend(this.uploadOptions,i);if(0!==t("#"+e).size()&&"INPUT"===t("#"+e).get(0).tagName){this.uploadOptions.input=t("#"+e);this.element=t(t("#"+e).get(0).form)}else this.element=t("#"+e);this.element_action=this.element.attr("action");this.uploadOptions.auto?t(this.uploadOptions.input).change(t.proxy(function(){this.element.submit(function(t){return!1});this.uploadSubmit()},this)):this.uploadOptions.trigger&&t("#"+this.uploadOptions.trigger).click(t.proxy(this.uploadSubmit,this))},uploadSubmit:function(){this.uploadForm(this.element,this.uploadFrame())},uploadFrame:function(){var e,i;this.id="f"+Math.floor(99999*Math.random());e=this.document.createElement("div");i='<iframe style="display:none" id="'+this.id+'" name="'+this.id+'"></iframe>';e.innerHTML=i;t(e).appendTo("body");this.uploadOptions.start&&this.uploadOptions.start();t("#"+this.id).load(t.proxy(this.uploadLoaded,this));return this.id},uploadForm:function(e,i){var o,r,a,s;if(this.uploadOptions.input){o="redactorUploadForm"+this.id;r="redactorUploadFile"+this.id;this.form=t('<form  action="'+this.uploadOptions.url+'" method="POST" target="'+i+'" name="'+o+'" id="'+o+'" enctype="multipart/form-data"></form>');this.opts.uploadFields!==!1&&"object"===typeof this.opts.uploadFields&&t.each(this.opts.uploadFields,t.proxy(function(e,i){0===i.toString().indexOf("#")&&(i=t(i).val());var o=t("<input/>",{type:"hidden",name:e,value:i});t(this.form).append(o)},this));a=this.uploadOptions.input;s=t(a).clone();t(a).attr("id",r);t(a).before(s);t(a).appendTo(this.form);t(this.form).css("position","absolute");t(this.form).css("top","-2000px");t(this.form).css("left","-2000px");t(this.form).appendTo("body");this.form.submit()}else{e.attr("target",i);e.attr("method","POST");e.attr("enctype","multipart/form-data");e.attr("action",this.uploadOptions.url);this.element.submit()}},uploadLoaded:function(){var e,i,o,r,a=t("#"+this.id)[0];e=a.contentDocument?a.contentDocument:a.contentWindow?a.contentWindow.document:window.frames[this.id].document;if(this.uploadOptions.success)if("undefined"!==typeof e){i=e.body.innerHTML;o=i.match(/\{(.|\n)*\}/)[0];r=t.parseJSON(o);if("undefined"==typeof r.error)this.uploadOptions.success(r);else{this.uploadOptions.error(this,r);this.modalClose()}}else{alert("Upload failed!");this.modalClose()}this.element.attr("action",this.element_action);this.element.attr("target","")},browser:function(t){var e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return"version"==t?i[2]:"webkit"==t?"chrome"==i[1]||"webkit"==i[1]:i[1]==t},oldIE:function(){return!!(this.browser("msie")&&parseInt(this.browser("version"),10)<9)},outerHTML:function(e){return t("<p>").append(t(e).eq(0).clone()).html()},normalize:function(t){return parseInt(t.replace("px",""),10)},isMobile:function(t){return!(t!==!0||!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent))||!!/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)}};t.fn.getObject=function(){return this.data("redactor")};t.fn.getEditor=function(){return this.data("redactor").$editor};t.fn.getCode=function(){return t.trim(this.data("redactor").getCode())};t.fn.getText=function(){return this.data("redactor").$editor.text()};t.fn.getSelected=function(){return this.data("redactor").getSelectedHtml()};t.fn.setCode=function(t){this.data("redactor").setCode(t)};t.fn.insertHtml=function(t){this.data("redactor").insertHtml(t)};t.fn.destroyEditor=function(){this.each(function(){if("undefined"!=typeof t(this).data("redactor")){t(this).data("redactor").destroy();t(this).removeData("redactor")}})};t.fn.setFocus=function(){this.data("redactor").$editor.focus()};t.fn.execCommand=function(t,e){this.data("redactor").execCommand(t,e)}}($);!function(t){"use strict";function e(e,i){this.opts=t.extend({url:!1,success:!1,error:!1,preview:!1,uploadFields:!1,text:RLANG.drop_file_here,atext:RLANG.or_choose},i);this.$el=t(e)}t.fn.dragupload=function(t){return this.each(function(){var i=new e(this,t);i.init()})};e.prototype={init:function(){var e,i,o;if(navigator.userAgent.search("MSIE")===-1){this.droparea=t('<div class="redactor_droparea"></div>');this.dropareabox=t('<div class="redactor_dropareabox">'+this.opts.text+"</div>");this.dropalternative=t('<div class="redactor_dropalternative">'+this.opts.atext+"</div>");this.droparea.append(this.dropareabox);this.$el.before(this.droparea);this.$el.before(this.dropalternative);this.dropareabox.bind("dragover",t.proxy(function(){return this.ondrag()},this));this.dropareabox.bind("dragleave",t.proxy(function(){return this.ondragleave()},this));e=t.proxy(function(t){var e=parseInt(t.loaded/t.total*100,10);this.dropareabox.text("Loading "+e+"%")},this);i=t.ajaxSettings.xhr();i.upload&&i.upload.addEventListener("progress",e,!1);o=function(){return i};this.dropareabox.get(0).ondrop=t.proxy(function(e){var i,r;e.preventDefault();this.dropareabox.removeClass("hover").addClass("drop");i=e.dataTransfer.files[0];r=new FormData;this.opts.uploadFields!==!1&&"object"===typeof this.opts.uploadFields&&t.each(this.opts.uploadFields,t.proxy(function(e,i){0===i.toString().indexOf("#")&&(i=t(i).val());r.append(e,i)},this));r.append("file",i);t.ajax({url:this.opts.url,dataType:"html",data:r,xhr:o,cache:!1,contentType:!1,processData:!1,type:"POST",success:t.proxy(function(e){var i=t.parseJSON(e);if("undefined"==typeof i.error)this.opts.success(i);else{this.opts.error(this,i);this.opts.success(!1)}},this)})},this)}},ondrag:function(){this.dropareabox.addClass("hover");return!1},ondragleave:function(){this.dropareabox.removeClass("hover");return!1}}}($);!function(t){"use strict";var e="http://",i=/(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g,o=/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,r=function(){for(var a,s,n=this.childNodes,l=n.length;l--;){a=n[l];if(3===a.nodeType){s=a.nodeValue;if(s){s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(i,'$1<a href="'+e+'$2">$2</a>$3').replace(o,'$1<a href="$2">$2</a>$5');t(a).after(s).remove()}}else 1!==a.nodeType||/^(a|button|textarea)$/i.test(a.tagName)||r.call(a)}};t.fn.linkify=function(){this.each(r)}}($);eval(function(t,e,i,o,r,a){r=function(t){return(t<e?"":r(parseInt(t/e)))+((t%=e)>35?String.fromCharCode(t+29):t.toString(36))};if(!"".replace(/^/,String)){for(;i--;)a[r(i)]=o[i]||r(i);o=[function(t){return a[t]}];r=function(){return"\\w+"};i=1}for(;i--;)o[i]&&(t=t.replace(new RegExp("\\b"+r(i)+"\\b","g"),o[i]));return t}('(5($){$.1.4.7={t:5(0,v){$(2).0("8",c);$(2).0("r",0);$(2).l(\'g\',$.1.4.7.b)},u:5(0){$(2).w(\'g\',$.1.4.7.b)},b:5(1){9 0=$(2).0("r");9 3=$.1.4.7.f(0).h();6(3!=\'\'){$(2).0("8",x);1.j="7";1.3=3;$.1.i.m(2,k)}},f:5(0){9 3=\'\';6(q.e){3=q.e()}o 6(d.e){3=d.e()}o 6(d.p){3=d.p.B().3}A 3}};$.1.4.a={t:5(0,v){$(2).0("n",0);$(2).0("8",c);$(2).l(\'g\',$.1.4.a.b);$(2).l(\'D\',$.1.4.a.s)},u:5(0){$(2).w(\'g\',$.1.4.a.b)},b:5(1){6($(2).0("8")){9 0=$(2).0("n");9 3=$.1.4.7.f(0).h();6(3==\'\'){$(2).0("8",c);1.j="a";$.1.i.m(2,k)}}},s:5(1){6($(2).0("8")){9 0=$(2).0("n");9 3=$.1.4.7.f(0).h();6((1.y=z)&&(3==\'\')){$(2).0("8",c);1.j="a";$.1.i.m(2,k)}}}}})(C);',40,40,"data|event|this|text|special|function|if|textselect|textselected|var|textunselect|handler|false|rdocument|getSelection|getSelectedText|mouseup|toString|handle|type|arguments|bind|apply|rttt|else|selection|rwindow|ttt|handlerKey|setup|teardown|namespaces|unbind|true|keyCode|27|return|createRange|jQuery|keyup".split("|"),0,{}));
});
define("r",["g","j","6","a","s"],function(e,t,a){var n,i,d,_,s;e("g");n=e("j");i=e("6");e("a");d=e("s");_={draw_date:null,draw_min_date:null,draw_max_date:null,options:{date:null,first_day:1,max_date:null,min_date:null,swipe_able:!1,month_changeable:!1,year_changeable:!1,exceptHiddenNodes:[],hiddenFunction:null},load_css:function(){$("head").append('<style type="text/css">'+d+"</style>")},get_days_in_month:function(e,t){return 32-new Date(e,t,32).getDate()},get_first_day_of_month:function(e,t){return new Date(e,t,1).getDay()},append_calendar_frame:function(e){var t,a=[];a.push('<ul class="ui_calendar_picker_head">');this.options.year_changeable?a.push('<li class="ui_calendar_picker_head_move"><select></select></li>'):a.push('<li class="ui_calendar_picker_head_move"><a  item="left" href="javascript:void(0)">&lt;&lt;</a></li>');a.push('<li class="ui_calendar_picker_head_year">'+this.draw_date.getFullYear()+"年</li>");a.push('<li class="ui_calendar_picker_head_month">'+i.format_number(this.draw_date.getMonth()+1,2)+"月</li>");this.options.month_changeable?a.push('<li class="ui_calendar_picker_head_move"><select></select></li>'):a.push('<li class="ui_calendar_picker_head_move"><a item="right" href="javascript:void(0)">&gt;&gt;</a></li>');a.push("</ul>");a.push('<table class="ui_calendar_picker_table">');a.push('<thead class="ui_calendar_picker_table_head">');for(t=0;t<7;++t)a.push("<th>"+i.week_show((this.options.first_day+t)%7)+"</th>");a.push("</thead>");a.push('<tbody class="ui_calendar_picker_table_tbody"></tbody>');a.push("</table>");e.html(a.join(""))},append_calendar_days:function(e){var t,a,n,d,_,s,r,l,o,c,h,p,u;e.find(".ui_calendar_picker_head .ui_calendar_picker_head_year").html(this.draw_date.getFullYear()+"年");e.find(".ui_calendar_picker_head .ui_calendar_picker_head_month").html(i.format_number(this.draw_date.getMonth()+1,2)+"月");t=e.find(".ui_calendar_picker_table .ui_calendar_picker_table_tbody");a=this.get_days_in_month(this.draw_date.getFullYear(),this.draw_date.getMonth());n=this.get_first_day_of_month(this.draw_date.getFullYear(),this.draw_date.getMonth());d=(n+7-this.options.first_day)%7;_=Math.ceil((a+d)/7);s=new Date(this.draw_date.getFullYear(),this.draw_date.getMonth(),1-d);r=[];l=new Date(this.options.date.getFullYear(),this.options.date.getMonth(),this.options.date.getDate());for(o=0;o<_;++o){r.push('<tr class="ui_calendar_picker_line">');for(c=0;c<7;++c){if(this.draw_date.getMonth()!=s.getMonth())r.push("<td></td>");else{h=i.format_number(s.getDate(),2);p="";null!=this.draw_min_date&&s.getTime()<this.draw_min_date.getTime()&&(p="ui_calendar_disable_day");i.isEmpty(p)&&null!=this.draw_max_date&&s.getTime()>this.draw_max_date.getTime()&&(p="ui_calendar_disable_day");u="";i.isEmpty(p)&&l.getTime()==s.getTime()&&(u="ui_calendar_current_day");r.push('<td class="'+p+'"><span class="'+u+'">'+h+"</span></td>")}s.setDate(s.getDate()+1)}r.push("</tr>")}t.html(r.join(""));this.bind_select_date(e)},bind_move_month:function(e){var t=e.find(".ui_calendar_picker_head .ui_calendar_picker_head_move a");t.unbind("click");t.bind("click",function(){"left"==$(this).attr("item")?_.draw_date.setMonth(_.draw_date.getMonth()-1):_.draw_date.setMonth(_.draw_date.getMonth()+1);_.append_calendar_days(e)})},bind_select_date:function(e){var t=e.find(".ui_calendar_picker_table .ui_calendar_picker_table_tbody td");t.unbind("click");t.bind("click",function(){var e=$(this);if(!e.hasClass("ui_calendar_disable_day")&&!i.isEmpty(e.html())){t.find("span").removeClass("ui_calendar_current_day");e.find("span").addClass("ui_calendar_current_day");_.options.date=new Date(_.draw_date.getFullYear(),_.draw_date.getMonth(),parseInt(e.find("span").html()));"function"==typeof _.options.select&&_.options.select(_.options.date)}})},bind_picker_swipe_action:function(e){var t,a;if(this.options.swipe_able){t=e.find(".ui_calendar_picker_table .ui_calendar_picker_table_tbody");a=new n({target_node:t,end_callback:function(t){var n,i=t.range;if(!(Math.abs(i.x2-i.x1)<90)){n=a.swipe_direction(i);if("_left"==n)_.draw_date.setMonth(_.draw_date.getMonth()+1);else{if("_right"!=n)return;_.draw_date.setMonth(_.draw_date.getMonth()-1)}_.append_calendar_days(e)}}})}},append_calendar_panel:function(e){"undefined"!=typeof this.options.date&&null!=this.options.date||(this.options.date=new Date);this.draw_date=new Date(this.options.date.getFullYear(),this.options.date.getMonth(),1);null!=this.options.min_date?this.draw_min_date=new Date(this.options.min_date.getFullYear(),this.options.min_date.getMonth(),this.options.min_date.getDate()):this.draw_min_date=null;null!=this.options.max_date?this.draw_max_date=new Date(this.options.max_date.getFullYear(),this.options.max_date.getMonth(),this.options.max_date.getDate()):this.draw_max_date=null;e.addClass("ui_calendar_picker");_.append_calendar_frame(e);_.append_calendar_days(e);_.bind_move_month(e);_.bind_picker_swipe_action(e)},hiddenCalendar:function(e,t){$("body>*").bind("click",function(a){var n,i=a&&a.target||event&&event.srcElement,d=!0;for(n=0;n<e.length;++n)if($(i).attr("id")==e[n]||$(i).parents("#"+e[n]).length>0){d=!1;break}d&&"function"==typeof t&&t()})},initCalendar:function(){$.fn["calendar"]=function(e){_.options=$.extend(_.options,e);_.append_calendar_panel(this);_.hiddenCalendar(_.options.exceptHiddenNodes,_.options.hiddenFunction);return _}},init:function(){this.load_css();this.initCalendar()}};_.init();s={parseDate:function(e){var t=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return"[object Date]"===Object.prototype.toString.call(e)?e:t.test(e)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null}};return s});
define("s",[],function(y,d,r){r.exports="@charset \"UTF-8\";.ui_calendar_picker{overflow:hidden;width:100%}.ui_calendar_picker .ui_calendar_picker_head{text-align:center;font-size:15px;line-height:2.5rem;overflow:hidden;width:11.5rem;margin:auto}.ui_calendar_picker .ui_calendar_picker_head li{float:left}.ui_calendar_picker .ui_calendar_picker_head .ui_calendar_picker_head_move{padding:0 1rem 0 1rem;overflow:hidden}.ui_calendar_picker .ui_calendar_picker_head .ui_calendar_picker_head_move a{color:#000}.ui_calendar_picker .ui_calendar_picker_table{width:100%;border-collapse:collapse}.ui_calendar_picker .ui_calendar_picker_table .ui_calendar_picker_table_head{line-height:2rem;background-color:#F8F8F8}.ui_calendar_picker .ui_calendar_picker_table .ui_calendar_picker_line{border-top:1px solid #CCC;line-height:2rem}.ui_calendar_picker .ui_calendar_picker_table .ui_calendar_picker_line .ui_calendar_current_day{background-color:#0079FF;color:#FFF;border-radius:.75rem;width:1.5rem;height:1.5rem;line-height:1.5rem;display:inline-block}.ui_calendar_picker .ui_calendar_picker_table .ui_calendar_picker_line .ui_calendar_disable_day{color:#ccc}.ui_calendar_picker .ui_calendar_picker_table td,.ui_calendar_picker .ui_calendar_picker_table th{width:14.3%;text-align:center}"});