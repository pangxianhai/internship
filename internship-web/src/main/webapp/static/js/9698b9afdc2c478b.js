/*coolie built*/
define("0",["g","i","h","l","6","c"],function(e,t,n){var a,d,i,o,c=e("g");e("i");e("h");a=e("l");d=e("6");i=e("c");o={data:{teacherId:""},updateStudent:function(e,t){c.ajax({url:"/student/updateInfo.json",type:"POST",data:c.extend({},e),dataType:"json",beforeSend:function(){a.dialog_load("提交中...")},success:function(e){a.close_dialog();if(e.ret){a.push_ok_message("更新成功");setTimeout(function(){t()},1e3)}else a.push_error_message(e.message)}})},initUpdateSexPanel:function(){var e=c("#studentSexNode").attr("sexCode");c("#updateStudentSexPanel ._node").each(function(){c(this).attr("sexCode")==e?c(this).find("._icon").addClass("show"):c(this).find("._icon").removeClass("show")})},initUpdateAcademicianPanel:function(){var e=c("#studentAcademicianNode").attr("academicianCode");c("#updateStudentAcademicianPanel ._node").each(function(){c(this).attr("academicianCode")==e?c(this).find("._icon").addClass("show"):c(this).find("._icon").removeClass("show")})},initUpdateStudentExpectCompanyPanel:function(){c("#updateStudentExpectCompanySelect").val(c("#updateStudentExpectCompanyNode ._content").html())},initUpdateUniversityPanel:function(){i.initSelect({university:{selectNode:c('[name="universityDesId"]'),departmentId:c("#universityDesId").val()},college:{selectNode:c('[name="collegeDesId"]'),departmentId:c("#collegeDesId").val()},department:{selectNode:c('[name="departmentDesId"]'),departmentId:c("#departmentDesId").val()},speciality:{selectNode:c('[name="specialityDesId"]'),departmentId:c("#specialityDesId").val()}})},bindUpdateStudentAction:function(){this.sexPanel=c("#updateStudentSexPanel").panel({contentWrap:c(".student_info_panel"),openNode:c("#studentSexNode")});this.gradePanel=c("#updateStudentGradePanel").panel({contentWrap:c(".student_info_panel"),openNode:c("#studentGradeNode")});d.isEmpty(this.data.teacherId)&&(this.universityPanel=c("#updateStudentUniversityPanel").panel({contentWrap:c(".student_info_panel"),openNode:c('[item="studentUniversityNode"]')}));this.phonePanel=c("#updateStudentPhonePanel").panel({contentWrap:c(".student_info_panel"),openNode:c("#studentPhoneNode")});this.remarkPanel=c("#updateStudentRemarkPanel").panel({contentWrap:c(".student_info_panel"),openNode:c("#studentRemarkNode")});this.expectCompanyPanel=c("#updateStudentExpectCompanyPanel").panel({contentWrap:c(".student_info_panel"),openNode:c("#updateStudentExpectCompanyNode")});this.studentAcademicianPanel=c("#updateStudentAcademicianPanel").panel({contentWrap:c(".student_info_panel"),openNode:c("#studentAcademicianNode")})},bindUpdateStudentSexAction:function(){c("#updateStudentSexPanel ._node").click(function(){var e=c(this),t=e.attr("sexCode");d.isEmpty(t)||c("#studentSexNode").attr("sexCode")==t||o.updateStudent({sexCode:t},function(){c("#studentSexNode").attr("sexCode",t);c("#studentSexNode ._content").html(e.find("._tips").html());o.initUpdateSexPanel();o.sexPanel.closePanel()})});c('#updateStudentSexPanel button[item="cancelBtn"]').click(function(){o.sexPanel.closePanel()})},bindUpdateStudentGradeAction:function(){c('#updateStudentGradePanel button[item="saveBtn"]').click(function(){var e=c("#updateStudentGradeInput").val();d.isEmpty(e)?a.push_error_message("年级不能为空"):e.length>=50?a.push_error_message("请输入50个以内的字符"):o.updateStudent({grade:e},function(){c("#studentGradeNode ._content").html(e);o.gradePanel.closePanel()})});c('#updateStudentGradePanel button[item="cancelBtn"]').click(function(){c("#updateStudentGradeInput").val(c("#studentGradeNode ._content").html());o.gradePanel.closePanel()})},bindUpdateStudentUniversityAction:function(){c('#updateStudentUniversityPanel button[item="saveBtn"]').click(function(){var e=c('#updateStudentUniversityPanel [name="universityDesId"]').val(),t=c('#updateStudentUniversityPanel [name="collegeDesId"]').val(),n=c('#updateStudentUniversityPanel [name="departmentDesId"]').val(),a=c('#updateStudentUniversityPanel [name="specialityDesId"]').val();o.updateStudent({universityDesId:e,collegeDesId:t,departmentDesId:n,specialityDesId:a,updateUniversity:!0},function(){setTimeout(function(){location.reload(!0)},2e3)})});c('#updateStudentUniversityPanel button[item="cancelBtn"]').click(function(){o.initUpdateUniversityPanel();o.universityPanel.closePanel()})},bindUpdateStudentPhoneAction:function(){c('#updateStudentPhonePanel button[item="saveBtn"]').click(function(){var e=c("#updateStudentPhoneInput").val();d.isEmpty(e)?a.push_error_message("联系方式不能为空"):e.length>=50?a.push_error_message("请输入50个以内的字符"):o.updateStudent({phone:e},function(){c("#studentPhoneNode ._content").html(e);o.phonePanel.closePanel()})});c('#updateStudentPhonePanel button[item="cancelBtn"]').click(function(){c("#updateStudentPhoneInput").val(c("#studentPhoneNode ._content").html());o.phonePanel.closePanel()})},bindUpdateStudentRemarkAction:function(){c('#updateStudentRemarkPanel button[item="saveBtn"]').click(function(){var e=c("#updateStudentRemarkInput").val();o.updateStudent({remark:e},function(){c("#studentRemarkNode ._content").html(e);o.remarkPanel.closePanel()})});c('#updateStudentRemarkPanel button[item="cancelBtn"]').click(function(){c("#updateStudentRemarkInput").val(c("#studentRemarkNode ._content").html());o.remarkPanel.closePanel()})},bindUpdateStudentExpectCompanyAction:function(){c('#updateStudentExpectCompanyPanel button[item="saveBtn"]').click(function(){var e=c("#updateStudentExpectCompanySelect").val();d.isEmpty(e)||"-"==e?a.push_ok_message("请选择你期望的实习单位"):o.updateStudent({expectCompany:e},function(){c("#updateStudentExpectCompanySelect").val(e);c("#updateStudentExpectCompanyNode ._content").html(c("#updateStudentExpectCompanySelect").val());o.expectCompanyPanel.closePanel()})});c('#updateStudentExpectCompanyPanel button[item="cancelBtn"]').click(function(){o.initUpdateStudentExpectCompanyPanel();o.expectCompanyPanel.closePanel()})},bindUpdateStudentAcademicianAction:function(){c("#updateStudentAcademicianPanel ._node").click(function(){var e=c(this),t=e.attr("academicianCode");d.isEmpty(t)||c("#studentAcademicianNode").attr("academicianCode")==t||o.updateStudent({academicianTypeCode:t},function(){c("#studentAcademicianNode").attr("academicianCode",t);c("#studentAcademicianNode ._content").html(e.find("._tips").html());o.initUpdateAcademicianPanel();o.studentAcademicianPanel.closePanel()})});c('#updateStudentAcademicianPanel button[item="cancelBtn"]').click(function(){o.studentAcademicianPanel.closePanel()})},init:function(){this.data.teacherId=c("#teacherId").val();this.initUpdateSexPanel();this.initUpdateStudentExpectCompanyPanel();this.initUpdateAcademicianPanel();if(d.isEmpty(this.data.teacherId)){this.initUpdateUniversityPanel();this.bindUpdateStudentUniversityAction()}this.bindUpdateStudentAction();this.bindUpdateStudentSexAction();this.bindUpdateStudentGradeAction();this.bindUpdateStudentPhoneAction();this.bindUpdateStudentRemarkAction();this.bindUpdateStudentExpectCompanyAction();this.bindUpdateStudentAcademicianAction()}};o.init()});
define("h",["g","6"],function(i,t,e){var n,o;i("g");n=i("6");o={initPanel:function(){"true"==$("#show_header_left").val()?$("header .header .left").css("visibility","visible"):$("header .header .left").css("visibility","hidden");var i=$("#headerRight").html();n.isNotEmpty(i)&&$("header .header .right").html(i)},initFooterMenu:function(){var i=$("#footerMenuId").val();$("footer .footer_menu").find("."+i).addClass("active")},bindLeftBtnAction:function(){$("header .header .left a").click(function(){var i=$("#returnUrl").val();n.isNotEmpty(i)?window.location.href=i:window.history.go(-1)})},init:function(){this.initPanel();this.bindLeftBtnAction();this.initFooterMenu();$("body").height($("body")[0].clientHeight)}};$(function(){o.init()})});
define("o",[],function(y,d,r){r.exports=".rDialog{position:fixed;_position:absolute}.rDialog-wrap{position:relative;background:#000;opacity:.7;background-clip:padding-box;border-radius:10px;-moz-border-radius:10px;-o-border-radius:10px;-webkit-border-radius:10px;box-shadow:1px 1px 1px #000;padding:.5em .5em}.rDialog-header-load{text-align:center;background:url(/static/images/0e6e0f46d7504242.gif);background-repeat:no-repeat;background-position:0 0;background-size:100%;width:30px;height:33px;margin:auto}.rDialog-header-alert,.rDialog-header-ok{text-align:center;background:url(/static/images/12dffd74007d31b6.png);background-repeat:no-repeat;background-size:100%;width:33px;height:36px;margin:auto}.rDialog-header-alert{background-position:0 -36px}.rDialog-header-ok{background-position:0 0}.rDialog-content{padding:1em 1em;font-size:1.1em;color:#FFF;overflow:hidden;text-align:center}.rDialog-footer{padding-left:15px;text-align:center}.rDialog-footer a{display:inline-block;margin:0 15px 15px 0;height:32px;line-height:32px;padding:0 30px;font-size:1rem;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.rDialog-footer a:hover,.rDialog-footer a:link,.rDialog-footer a:visited{color:#fff;text-decoration:none}.rDialog-ok,.rDialog-ok:hover{background:#c70066;color:#fff}.rDialog-cancel,.rDialog-cancel:hover{background:#E6E6E6;color:#A7A7A7}.rDialog-mask{position:fixed;_position:absolute;left:0;top:0;width:100%;height:100%;background:#000;filter:alpha(opacity=30);opacity:.3}"});
coolie.chunk(["0"]);